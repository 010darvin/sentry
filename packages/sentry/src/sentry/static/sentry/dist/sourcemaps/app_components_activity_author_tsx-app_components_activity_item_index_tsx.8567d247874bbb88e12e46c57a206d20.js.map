{"version":3,"file":"chunks/app_components_activity_author_tsx-app_components_activity_item_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/activity/author.tsx","webpack:///./app/components/activity/item/avatar.tsx","webpack:///./app/components/activity/item/bubble.tsx","webpack:///./app/components/activity/item/index.tsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nconst ActivityAuthor = styled('span')`\n  font-weight: 600;\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n\nexport default ActivityAuthor;\n","import styled from '@emotion/styled';\n\nimport UserAvatar from 'sentry/components/avatar/userAvatar';\nimport Placeholder from 'sentry/components/placeholder';\nimport {IconSentry} from 'sentry/icons';\nimport {AvatarUser} from 'sentry/types';\n\ntype Props = {\n  type: 'system' | 'user';\n  className?: string;\n  size?: number;\n  user?: AvatarUser;\n};\n\nfunction ActivityAvatar({className, type, user, size = 38}: Props) {\n  if (user) {\n    return <UserAvatar user={user} size={size} className={className} />;\n  }\n\n  if (type === 'system') {\n    // Return Sentry avatar\n    return (\n      <SystemAvatar className={className} size={size}>\n        <StyledIconSentry size=\"md\" />\n      </SystemAvatar>\n    );\n  }\n\n  return (\n    <Placeholder\n      className={className}\n      width={`${size}px`}\n      height={`${size}px`}\n      shape=\"circle\"\n    />\n  );\n}\n\nexport default ActivityAvatar;\n\ntype SystemAvatarProps = {\n  size: number;\n};\n\nconst SystemAvatar = styled('span')<SystemAvatarProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ${p => p.size}px;\n  height: ${p => p.size}px;\n  background-color: ${p => p.theme.textColor};\n  color: ${p => p.theme.background};\n  border-radius: 50%;\n`;\n\nconst StyledIconSentry = styled(IconSentry)`\n  padding-bottom: 3px;\n`;\n","import styled from '@emotion/styled';\n\nexport interface ActivityBubbleProps extends React.HTMLAttributes<HTMLDivElement> {\n  backgroundColor?: string;\n  borderColor?: string;\n}\n\n/**\n * This creates a bordered box that has a left pointing arrow\n * on the left-side at the top.\n */\nconst ActivityBubble = styled('div')<ActivityBubbleProps>`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: stretch;\n  flex: 1;\n  background-color: ${p => p.backgroundColor || p.theme.background};\n  border: 1px solid ${p => p.borderColor || p.theme.border};\n  border-radius: ${p => p.theme.borderRadius};\n  position: relative;\n  width: 100%; /* this is used in Incidents Details - a chart can cause overflow and won't resize properly */\n\n  &:before {\n    display: block;\n    content: '';\n    width: 0;\n    height: 0;\n    border-top: 7px solid transparent;\n    border-bottom: 7px solid transparent;\n    border-right: 7px solid ${p => p.borderColor || p.theme.border};\n    position: absolute;\n    left: -7px;\n    top: 12px;\n  }\n\n  &:after {\n    display: block;\n    content: '';\n    width: 0;\n    height: 0;\n    border-top: 6px solid transparent;\n    border-bottom: 6px solid transparent;\n    border-right: 6px solid ${p => p.backgroundColor || p.theme.background};\n    position: absolute;\n    left: -6px;\n    top: 13px;\n  }\n`;\n\nexport default ActivityBubble;\n","import styled from '@emotion/styled';\nimport moment from 'moment-timezone';\n\nimport DateTime from 'sentry/components/dateTime';\nimport TimeSince from 'sentry/components/timeSince';\nimport space from 'sentry/styles/space';\nimport textStyles from 'sentry/styles/text';\nimport {AvatarUser} from 'sentry/types';\nimport {isRenderFunc} from 'sentry/utils/isRenderFunc';\n\nimport ActivityAvatar from './avatar';\nimport ActivityBubble, {ActivityBubbleProps} from './bubble';\n\nexport type ActivityAuthorType = 'user' | 'system';\n\ntype ChildFunction = () => React.ReactNode;\n\ninterface ActivityItemProps {\n  /**\n   * Used to render an avatar for the author. Currently can be a user, otherwise\n   * defaults as a \"system\" avatar (i.e. sentry)\n   *\n   * `user` is required if `type` is \"user\"\n   */\n  author?: {\n    type: ActivityAuthorType;\n    user?: AvatarUser;\n  };\n  // Size of the avatar.\n  avatarSize?: number;\n  bubbleProps?: ActivityBubbleProps;\n\n  children?: React.ReactChild | ChildFunction;\n\n  className?: string;\n\n  /**\n   * If supplied, will show the time that the activity started\n   */\n  date?: string | Date;\n\n  /**\n   * Can be a react node or a render function. render function will not include default wrapper\n   */\n  footer?: React.ReactNode | ChildFunction;\n\n  /**\n   * Can be a react node or a render function. render function will not include default wrapper\n   */\n  header?: React.ReactNode | ChildFunction;\n\n  // Hides date in header\n  hideDate?: boolean;\n\n  /**\n   * This is used to uniquely identify the activity item for use as an anchor\n   */\n  id?: string;\n\n  /**\n   * If supplied, will show the interval that the activity occurred in\n   */\n  interval?: number;\n\n  // Instead of showing a relative time/date, show the time\n  showTime?: boolean;\n}\n\nfunction ActivityItem({\n  author,\n  avatarSize,\n  bubbleProps,\n  className,\n  children,\n  date,\n  interval,\n  footer,\n  id,\n  header,\n  hideDate = false,\n  showTime = false,\n}: ActivityItemProps) {\n  const showDate = !hideDate && date && !interval;\n  const showRange = !hideDate && date && interval;\n  const dateEnded = showRange\n    ? moment(date).add(interval, 'minutes').utc().format()\n    : undefined;\n  const timeOnly = Boolean(\n    date && dateEnded && moment(date).date() === moment(dateEnded).date()\n  );\n\n  return (\n    <ActivityItemWrapper data-test-id=\"activity-item\" className={className}>\n      {id && <a id={id} />}\n\n      {author && (\n        <StyledActivityAvatar type={author.type} user={author.user} size={avatarSize} />\n      )}\n\n      <StyledActivityBubble {...bubbleProps}>\n        {header && isRenderFunc<ChildFunction>(header) && header()}\n        {header && !isRenderFunc<ChildFunction>(header) && (\n          <ActivityHeader>\n            <ActivityHeaderContent>{header}</ActivityHeaderContent>\n            {date && showDate && !showTime && <StyledTimeSince date={date} />}\n            {date && showDate && showTime && <StyledDateTime timeOnly date={date} />}\n\n            {showRange && (\n              <StyledDateTimeWindow>\n                <StyledDateTime timeOnly={timeOnly} date={date} />\n                {' — '}\n                <StyledDateTime timeOnly={timeOnly} date={dateEnded} />\n              </StyledDateTimeWindow>\n            )}\n          </ActivityHeader>\n        )}\n\n        {children && isRenderFunc<ChildFunction>(children) && children()}\n        {children && !isRenderFunc<ChildFunction>(children) && (\n          <ActivityBody>{children}</ActivityBody>\n        )}\n\n        {footer && isRenderFunc<ChildFunction>(footer) && footer()}\n        {footer && !isRenderFunc<ChildFunction>(footer) && (\n          <ActivityFooter>{footer}</ActivityFooter>\n        )}\n      </StyledActivityBubble>\n    </ActivityItemWrapper>\n  );\n}\n\nconst ActivityItemWrapper = styled('div')`\n  display: flex;\n  margin-bottom: ${space(2)};\n`;\n\nconst HeaderAndFooter = styled('div')`\n  padding: 6px ${space(2)};\n`;\n\nconst ActivityHeader = styled(HeaderAndFooter)`\n  display: flex;\n  border-bottom: 1px solid ${p => p.theme.border};\n  font-size: ${p => p.theme.fontSizeMedium};\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst ActivityHeaderContent = styled('div')`\n  flex: 1;\n`;\n\nconst ActivityFooter = styled(HeaderAndFooter)`\n  display: flex;\n  border-top: 1px solid ${p => p.theme.border};\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n\nconst ActivityBody = styled('div')`\n  padding: ${space(2)} ${space(2)};\n  ${textStyles}\n`;\n\nconst StyledActivityAvatar = styled(ActivityAvatar)`\n  margin-right: ${space(1)};\n`;\n\nconst StyledTimeSince = styled(TimeSince)`\n  color: ${p => p.theme.gray300};\n`;\n\nconst StyledDateTime = styled(DateTime)`\n  color: ${p => p.theme.gray300};\n`;\n\nconst StyledDateTimeWindow = styled('div')`\n  color: ${p => p.theme.gray300};\n`;\n\nconst StyledActivityBubble = styled(ActivityBubble)`\n  width: 75%;\n  overflow-wrap: break-word;\n`;\n\nexport default ActivityItem;\n"],"names":["ActivityAuthor","p","theme","fontSizeMedium","UserAvatar","Placeholder","IconSentry","ActivityAvatar","className","type","user","size","SystemAvatar","textColor","background","StyledIconSentry","ActivityBubble","backgroundColor","borderColor","border","borderRadius","moment","DateTime","TimeSince","space","textStyles","isRenderFunc","ActivityItem","author","avatarSize","bubbleProps","children","date","interval","footer","id","header","hideDate","showTime","showDate","showRange","dateEnded","add","utc","format","undefined","timeOnly","Boolean","ActivityItemWrapper","HeaderAndFooter","ActivityHeader","ActivityHeaderContent","ActivityFooter","ActivityBody","StyledActivityAvatar","StyledTimeSince","gray300","StyledDateTime","StyledDateTimeWindow","StyledActivityBubble"],"sourceRoot":""}