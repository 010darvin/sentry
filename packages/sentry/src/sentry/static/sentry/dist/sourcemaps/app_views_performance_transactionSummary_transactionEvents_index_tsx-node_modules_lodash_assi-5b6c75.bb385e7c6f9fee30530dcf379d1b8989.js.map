{"version":3,"file":"chunks/app_views_performance_transactionSummary_transactionEvents_index_tsx-node_modules_lodash_assi-5b6c75.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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,kBAAkB,mBAAO,CAAC,8DAAgB;AAC1C,WAAW,mBAAO,CAAC,8CAAQ;;AAE3B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,WAAW;AACtB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;ACzDA,mBAAmB,mBAAO,CAAC,gEAAiB;AAC5C,aAAa,mBAAO,CAAC,oDAAW;AAChC,mBAAmB,mBAAO,CAAC,gEAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,GAAG;AAChB;AACA;AACA,oBAAoB,QAAQ,IAAI,QAAQ;AACxC;AACA,kCAAkC,aAAa;AAC/C,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA","sources":["webpack:///./app/utils/discover/discoverQuery.tsx","webpack:///./app/utils/performance/histogram/constants.tsx","webpack:///./app/utils/performance/histogram/index.tsx","webpack:///./app/views/performance/transactionSummary/transactionEvents/content.tsx","webpack:///./app/views/performance/transactionSummary/transactionEvents/eventsTable.tsx","webpack:///./app/views/performance/transactionSummary/transactionEvents/index.tsx","webpack:///./app/views/performance/transactionSummary/transactionEvents/operationSort.tsx","webpack:///../node_modules/lodash/assign.js","webpack:///../node_modules/lodash/maxBy.js"],"sourcesContent":["import {EventsMetaType, MetaType} from 'sentry/utils/discover/eventView';\nimport withApi from 'sentry/utils/withApi';\nimport {TransactionThresholdMetric} from 'sentry/views/performance/transactionSummary/transactionThresholdModal';\n\nimport GenericDiscoverQuery, {\n  DiscoverQueryProps,\n  GenericChildrenProps,\n} from './genericDiscoverQuery';\n\n/**\n * An individual row in a DiscoverQuery result\n */\nexport type TableDataRow = {\n  [key: string]: React.ReactText;\n  id: string;\n};\n\n/**\n * A DiscoverQuery result including rows and metadata.\n */\nexport type TableData = {\n  data: Array<TableDataRow>;\n  meta?: MetaType;\n};\n\n/**\n * A DiscoverQuery result including rows and metadata from the events endpoint.\n */\nexport type EventsTableData = {\n  data: Array<TableDataRow>;\n  meta?: EventsMetaType;\n};\n\nexport type TableDataWithTitle = TableData & {title: string};\n\ntype DiscoverQueryPropsWithThresholds = DiscoverQueryProps & {\n  transactionName?: string;\n  transactionThreshold?: number;\n  transactionThresholdMetric?: TransactionThresholdMetric;\n};\n\ntype DiscoverQueryComponentProps = DiscoverQueryPropsWithThresholds & {\n  children: (props: GenericChildrenProps<TableData>) => React.ReactNode;\n  useEvents?: boolean;\n};\n\nfunction shouldRefetchData(\n  prevProps: DiscoverQueryPropsWithThresholds,\n  nextProps: DiscoverQueryPropsWithThresholds\n) {\n  return (\n    prevProps.transactionName !== nextProps.transactionName ||\n    prevProps.transactionThreshold !== nextProps.transactionThreshold ||\n    prevProps.transactionThresholdMetric !== nextProps.transactionThresholdMetric\n  );\n}\n\nfunction DiscoverQuery(props: DiscoverQueryComponentProps) {\n  const endpoint = props.useEvents ? 'events' : 'eventsv2';\n  const afterFetch = props.useEvents\n    ? (data, _) => {\n        const {fields, ...otherMeta} = data.meta ?? {};\n        return {\n          ...data,\n          meta: {...fields, ...otherMeta},\n        };\n      }\n    : undefined;\n  return (\n    <GenericDiscoverQuery<TableData, DiscoverQueryPropsWithThresholds>\n      route={endpoint}\n      shouldRefetchData={shouldRefetchData}\n      afterFetch={afterFetch}\n      {...props}\n    />\n  );\n}\n\nexport default withApi(DiscoverQuery);\n","import {t} from 'sentry/locale';\nimport {SelectValue} from 'sentry/types';\n\nimport {DataFilter} from './types';\n\nexport const FILTER_OPTIONS: SelectValue<DataFilter>[] = [\n  {label: t('Exclude'), value: 'exclude_outliers'},\n  {label: t('Include'), value: 'all'},\n];\n","import {Component} from 'react';\nimport {browserHistory} from 'react-router';\nimport {Location} from 'history';\n\nimport {SelectValue} from 'sentry/types';\nimport {decodeScalar} from 'sentry/utils/queryString';\n\nimport {FILTER_OPTIONS} from './constants';\nimport {DataFilter} from './types';\n\ntype HistogramChildrenProps = {\n  activeFilter: SelectValue<DataFilter>;\n  filterOptions: typeof FILTER_OPTIONS;\n  handleFilterChange: (option: string) => void;\n  handleResetView: () => void;\n  isZoomed: boolean;\n};\n\ntype Props = {\n  children: (props: HistogramChildrenProps) => React.ReactNode;\n  location: Location;\n  zoomKeys: string[];\n};\n\nclass Histogram extends Component<Props> {\n  isZoomed() {\n    const {location, zoomKeys} = this.props;\n    return zoomKeys.map(key => location.query[key]).some(value => value !== undefined);\n  }\n\n  handleResetView = () => {\n    const {location, zoomKeys} = this.props;\n\n    browserHistory.push({\n      pathname: location.pathname,\n      query: removeHistogramQueryStrings(location, zoomKeys),\n    });\n  };\n\n  getActiveFilter() {\n    const {location} = this.props;\n\n    const dataFilter = location.query.dataFilter\n      ? decodeScalar(location.query.dataFilter)\n      : FILTER_OPTIONS[0].value;\n    return FILTER_OPTIONS.find(item => item.value === dataFilter) || FILTER_OPTIONS[0];\n  }\n\n  handleFilterChange = (value: string) => {\n    const {location, zoomKeys} = this.props;\n\n    browserHistory.push({\n      pathname: location.pathname,\n      query: {\n        ...removeHistogramQueryStrings(location, zoomKeys),\n        dataFilter: value,\n      },\n    });\n  };\n\n  render() {\n    const childrenProps = {\n      isZoomed: this.isZoomed(),\n      handleResetView: this.handleResetView,\n      activeFilter: this.getActiveFilter(),\n      handleFilterChange: this.handleFilterChange,\n      filterOptions: FILTER_OPTIONS,\n    };\n    return this.props.children(childrenProps);\n  }\n}\n\nexport function removeHistogramQueryStrings(location: Location, zoomKeys: string[]) {\n  const query: Location['query'] = {...location.query, cursor: undefined};\n\n  delete query.dataFilter;\n  // reset all zoom parameters\n  zoomKeys.forEach(key => delete query[key]);\n\n  return query;\n}\n\nexport default Histogram;\n","import {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\nimport omit from 'lodash/omit';\n\nimport Button from 'sentry/components/button';\nimport DatePageFilter from 'sentry/components/datePageFilter';\nimport EnvironmentPageFilter from 'sentry/components/environmentPageFilter';\nimport SearchBar from 'sentry/components/events/searchBar';\nimport CompactSelect from 'sentry/components/forms/compactSelect';\nimport * as Layout from 'sentry/components/layouts/thirds';\nimport PageFilterBar from 'sentry/components/organizations/pageFilterBar';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization} from 'sentry/types';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {WebVital} from 'sentry/utils/fields';\nimport {decodeScalar} from 'sentry/utils/queryString';\n\nimport Filter, {filterToSearchConditions, SpanOperationBreakdownFilter} from '../filter';\nimport {SetStateAction} from '../types';\n\nimport EventsTable from './eventsTable';\nimport {EventsDisplayFilterName, getEventsFilterOptions} from './utils';\n\ntype Props = {\n  eventView: EventView;\n  eventsDisplayFilterName: EventsDisplayFilterName;\n  location: Location;\n  onChangeEventsDisplayFilter: (eventsDisplayFilterName: EventsDisplayFilterName) => void;\n  onChangeSpanOperationBreakdownFilter: (newFilter: SpanOperationBreakdownFilter) => void;\n  organization: Organization;\n  setError: SetStateAction<string | undefined>;\n  spanOperationBreakdownFilter: SpanOperationBreakdownFilter;\n  totalEventCount: string;\n  transactionName: string;\n  percentileValues?: Record<EventsDisplayFilterName, number>;\n  webVital?: WebVital;\n};\n\nconst TRANSACTIONS_LIST_TITLES: Readonly<string[]> = [\n  t('event id'),\n  t('user'),\n  t('operation duration'),\n  t('total duration'),\n  t('trace id'),\n  t('timestamp'),\n];\n\nfunction EventsContent(props: Props) {\n  const {\n    location,\n    organization,\n    eventView: originalEventView,\n    transactionName,\n    spanOperationBreakdownFilter,\n    webVital,\n    setError,\n    totalEventCount,\n  } = props;\n\n  const eventView = originalEventView.clone();\n  const transactionsListTitles = TRANSACTIONS_LIST_TITLES.slice();\n\n  if (webVital) {\n    transactionsListTitles.splice(3, 0, t(webVital));\n  }\n\n  const spanOperationBreakdownConditions = filterToSearchConditions(\n    spanOperationBreakdownFilter,\n    location\n  );\n\n  if (spanOperationBreakdownConditions) {\n    eventView.query = `${eventView.query} ${spanOperationBreakdownConditions}`.trim();\n    transactionsListTitles.splice(2, 1, t(`${spanOperationBreakdownFilter} duration`));\n  }\n\n  return (\n    <Layout.Main fullWidth>\n      <Search {...props} />\n      <EventsTable\n        totalEventCount={totalEventCount}\n        eventView={eventView}\n        organization={organization}\n        location={location}\n        setError={setError}\n        columnTitles={transactionsListTitles}\n        transactionName={transactionName}\n      />\n    </Layout.Main>\n  );\n}\n\nfunction Search(props: Props) {\n  const {\n    eventView,\n    location,\n    organization,\n    spanOperationBreakdownFilter,\n    onChangeSpanOperationBreakdownFilter,\n    eventsDisplayFilterName,\n    onChangeEventsDisplayFilter,\n    percentileValues,\n  } = props;\n\n  const handleSearch = (query: string) => {\n    const queryParams = normalizeDateTimeParams({\n      ...(location.query || {}),\n      query,\n    });\n\n    // do not propagate pagination when making a new search\n    const searchQueryParams = omit(queryParams, 'cursor');\n\n    browserHistory.push({\n      pathname: location.pathname,\n      query: searchQueryParams,\n    });\n  };\n\n  const query = decodeScalar(location.query.query, '');\n\n  const eventsFilterOptions = getEventsFilterOptions(\n    spanOperationBreakdownFilter,\n    percentileValues\n  );\n\n  const handleDiscoverButtonClick = () => {\n    trackAdvancedAnalyticsEvent('performance_views.all_events.open_in_discover', {\n      organization,\n    });\n  };\n\n  return (\n    <FilterActions>\n      <Filter\n        organization={organization}\n        currentFilter={spanOperationBreakdownFilter}\n        onChangeFilter={onChangeSpanOperationBreakdownFilter}\n      />\n      <PageFilterBar condensed>\n        <EnvironmentPageFilter />\n        <DatePageFilter alignDropdown=\"left\" />\n      </PageFilterBar>\n      <StyledSearchBar\n        organization={organization}\n        projectIds={eventView.project}\n        query={query}\n        fields={eventView.fields}\n        onSearch={handleSearch}\n      />\n      <CompactSelect\n        triggerProps={{prefix: t('Percentile')}}\n        value={eventsDisplayFilterName}\n        onChange={opt => onChangeEventsDisplayFilter(opt.value)}\n        options={Object.entries(eventsFilterOptions).map(([name, filter]) => ({\n          value: name,\n          label: filter.label,\n        }))}\n      />\n      <Button\n        to={eventView.getResultsViewUrlTarget(organization.slug)}\n        onClick={handleDiscoverButtonClick}\n      >\n        {t('Open in Discover')}\n      </Button>\n    </FilterActions>\n  );\n}\n\nconst FilterActions = styled('div')`\n  display: grid;\n  gap: ${space(2)};\n  margin-bottom: ${space(2)};\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    grid-template-columns: repeat(4, min-content);\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints.xlarge}) {\n    grid-template-columns: auto auto 1fr auto auto;\n  }\n`;\n\nconst StyledSearchBar = styled(SearchBar)`\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    order: 1;\n    grid-column: 1/6;\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints.xlarge}) {\n    order: initial;\n    grid-column: auto;\n  }\n`;\n\nexport default EventsContent;\n","import {Component, Fragment} from 'react';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location, LocationDescriptorObject} from 'history';\n\nimport GridEditable, {\n  COL_WIDTH_UNDEFINED,\n  GridColumn,\n} from 'sentry/components/gridEditable';\nimport SortLink from 'sentry/components/gridEditable/sortLink';\nimport Link from 'sentry/components/links/link';\nimport Pagination from 'sentry/components/pagination';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport Tooltip from 'sentry/components/tooltip';\nimport {t, tct} from 'sentry/locale';\nimport {Organization, Project} from 'sentry/types';\nimport {defined} from 'sentry/utils';\nimport {trackAnalyticsEvent} from 'sentry/utils/analytics';\nimport DiscoverQuery, {\n  TableData,\n  TableDataRow,\n} from 'sentry/utils/discover/discoverQuery';\nimport EventView, {EventData, isFieldSortable} from 'sentry/utils/discover/eventView';\nimport {getFieldRenderer} from 'sentry/utils/discover/fieldRenderers';\nimport {\n  fieldAlignment,\n  getAggregateAlias,\n  isSpanOperationBreakdownField,\n  SPAN_OP_RELATIVE_BREAKDOWN_FIELD,\n} from 'sentry/utils/discover/fields';\nimport parseLinkHeader from 'sentry/utils/parseLinkHeader';\nimport CellAction, {Actions, updateQuery} from 'sentry/views/eventsV2/table/cellAction';\nimport {TableColumn} from 'sentry/views/eventsV2/table/types';\n\nimport {COLUMN_TITLES} from '../../data';\nimport {\n  generateTraceLink,\n  generateTransactionLink,\n  normalizeSearchConditions,\n} from '../utils';\n\nimport OperationSort, {TitleProps} from './operationSort';\n\nexport function getProjectID(\n  eventData: EventData,\n  projects: Project[]\n): string | undefined {\n  const projectSlug = (eventData?.project as string) || undefined;\n\n  if (typeof projectSlug === undefined) {\n    return undefined;\n  }\n\n  const project = projects.find(currentProject => currentProject.slug === projectSlug);\n\n  if (!project) {\n    return undefined;\n  }\n\n  return project.id;\n}\n\nclass OperationTitle extends Component<TitleProps> {\n  render() {\n    const {onClick} = this.props;\n    return (\n      <div onClick={onClick}>\n        <span>{t('operation duration')}</span>\n        <StyledIconQuestion\n          size=\"xs\"\n          position=\"top\"\n          title={t(\n            `Span durations are summed over the course of an entire transaction. Any overlapping spans are only counted once.`\n          )}\n        />\n      </div>\n    );\n  }\n}\n\ntype Props = {\n  eventView: EventView;\n  location: Location;\n  organization: Organization;\n  setError: (msg: string | undefined) => void;\n  totalEventCount: string;\n  transactionName: string;\n  columnTitles?: string[];\n};\n\ntype State = {\n  widths: number[];\n};\n\nclass EventsTable extends Component<Props, State> {\n  state: State = {\n    widths: [],\n  };\n\n  handleCellAction = (column: TableColumn<keyof TableDataRow>) => {\n    return (action: Actions, value: React.ReactText) => {\n      const {eventView, location, organization} = this.props;\n\n      trackAnalyticsEvent({\n        eventKey: 'performance_views.transactionEvents.cellaction',\n        eventName: 'Performance Views: Transaction Events Tab Cell Action Clicked',\n        organization_id: parseInt(organization.id, 10),\n        action,\n      });\n\n      const searchConditions = normalizeSearchConditions(eventView.query);\n\n      updateQuery(searchConditions, action, column, value);\n\n      browserHistory.push({\n        pathname: location.pathname,\n        query: {\n          ...location.query,\n          cursor: undefined,\n          query: searchConditions.formatString(),\n        },\n      });\n    };\n  };\n\n  renderBodyCell(\n    tableData: TableData | null,\n    column: TableColumn<keyof TableDataRow>,\n    dataRow: TableDataRow\n  ): React.ReactNode {\n    const {eventView, organization, location, transactionName} = this.props;\n\n    if (!tableData || !tableData.meta) {\n      return dataRow[column.key];\n    }\n    const tableMeta = tableData.meta;\n    const field = String(column.key);\n    const fieldRenderer = getFieldRenderer(field, tableMeta);\n    const rendered = fieldRenderer(dataRow, {organization, location, eventView});\n\n    const allowActions = [\n      Actions.ADD,\n      Actions.EXCLUDE,\n      Actions.SHOW_GREATER_THAN,\n      Actions.SHOW_LESS_THAN,\n    ];\n\n    if (field === 'id' || field === 'trace') {\n      const generateLink = field === 'id' ? generateTransactionLink : generateTraceLink;\n      const target = generateLink(transactionName)(organization, dataRow, location.query);\n\n      return (\n        <CellAction\n          column={column}\n          dataRow={dataRow}\n          handleCellAction={this.handleCellAction(column)}\n          allowActions={allowActions}\n        >\n          <Link to={target}>{rendered}</Link>\n        </CellAction>\n      );\n    }\n\n    const fieldName = getAggregateAlias(field);\n    const value = dataRow[fieldName];\n    if (tableMeta[fieldName] === 'integer' && defined(value) && value > 999) {\n      return (\n        <Tooltip\n          title={value.toLocaleString()}\n          containerDisplayMode=\"block\"\n          position=\"right\"\n        >\n          <CellAction\n            column={column}\n            dataRow={dataRow}\n            handleCellAction={this.handleCellAction(column)}\n            allowActions={allowActions}\n          >\n            {rendered}\n          </CellAction>\n        </Tooltip>\n      );\n    }\n\n    return (\n      <CellAction\n        column={column}\n        dataRow={dataRow}\n        handleCellAction={this.handleCellAction(column)}\n        allowActions={allowActions}\n      >\n        {rendered}\n      </CellAction>\n    );\n  }\n\n  renderBodyCellWithData = (tableData: TableData | null) => {\n    return (\n      column: TableColumn<keyof TableDataRow>,\n      dataRow: TableDataRow\n    ): React.ReactNode => this.renderBodyCell(tableData, column, dataRow);\n  };\n\n  onSortClick(currentSortKind?: string, currentSortField?: string) {\n    const {organization} = this.props;\n    trackAnalyticsEvent({\n      eventKey: 'performance_views.transactionEvents.sort',\n      eventName: 'Performance Views: Transaction Events Tab Sorted',\n      organization_id: parseInt(organization.id, 10),\n      field: currentSortField,\n      direction: currentSortKind,\n    });\n  }\n\n  renderHeadCell(\n    tableMeta: TableData['meta'],\n    column: TableColumn<keyof TableDataRow>,\n    title: React.ReactNode\n  ): React.ReactNode {\n    const {eventView, location} = this.props;\n\n    const align = fieldAlignment(column.name, column.type, tableMeta);\n    const field = {field: column.name, width: column.width};\n\n    function generateSortLink(): LocationDescriptorObject | undefined {\n      if (!tableMeta) {\n        return undefined;\n      }\n\n      const nextEventView = eventView.sortOnField(field, tableMeta);\n      const queryStringObject = nextEventView.generateQueryStringObject();\n\n      return {\n        ...location,\n        query: {...location.query, sort: queryStringObject.sort},\n      };\n    }\n    const currentSort = eventView.sortForField(field, tableMeta);\n    // Event id and Trace id are technically sortable but we don't want to sort them here since sorting by a uuid value doesn't make sense\n    const canSort =\n      field.field !== 'id' &&\n      field.field !== 'trace' &&\n      field.field !== SPAN_OP_RELATIVE_BREAKDOWN_FIELD &&\n      isFieldSortable(field, tableMeta);\n\n    const currentSortKind = currentSort ? currentSort.kind : undefined;\n    const currentSortField = currentSort ? currentSort.field : undefined;\n\n    if (field.field === SPAN_OP_RELATIVE_BREAKDOWN_FIELD) {\n      title = (\n        <OperationSort\n          title={OperationTitle}\n          eventView={eventView}\n          tableMeta={tableMeta}\n          location={location}\n        />\n      );\n    }\n\n    const sortLink = (\n      <SortLink\n        align={align}\n        title={title || field.field}\n        direction={currentSortKind}\n        canSort={canSort}\n        generateSortLink={generateSortLink}\n        onClick={() => this.onSortClick(currentSortKind, currentSortField)}\n      />\n    );\n    return sortLink;\n  }\n\n  renderHeadCellWithMeta = (tableMeta: TableData['meta']) => {\n    const columnTitles = this.props.columnTitles ?? COLUMN_TITLES;\n    return (column: TableColumn<keyof TableDataRow>, index: number): React.ReactNode =>\n      this.renderHeadCell(tableMeta, column, columnTitles[index]);\n  };\n\n  handleResizeColumn = (columnIndex: number, nextColumn: GridColumn) => {\n    const widths: number[] = [...this.state.widths];\n    widths[columnIndex] = nextColumn.width\n      ? Number(nextColumn.width)\n      : COL_WIDTH_UNDEFINED;\n    this.setState({widths});\n  };\n\n  render() {\n    const {eventView, organization, location, setError, totalEventCount} = this.props;\n\n    const totalTransactionsView = eventView.clone();\n    totalTransactionsView.sorts = [];\n    totalTransactionsView.fields = [{field: 'count()', width: -1}];\n\n    const {widths} = this.state;\n    const containsSpanOpsBreakdown = eventView\n      .getColumns()\n      .find(\n        (col: TableColumn<React.ReactText>) =>\n          col.name === SPAN_OP_RELATIVE_BREAKDOWN_FIELD\n      );\n    const columnOrder = eventView\n      .getColumns()\n      .filter(\n        (col: TableColumn<React.ReactText>) =>\n          !containsSpanOpsBreakdown || !isSpanOperationBreakdownField(col.name)\n      )\n      .map((col: TableColumn<React.ReactText>, i: number) => {\n        if (typeof widths[i] === 'number') {\n          return {...col, width: widths[i]};\n        }\n        return col;\n      });\n    return (\n      <div>\n        <DiscoverQuery\n          eventView={eventView}\n          orgSlug={organization.slug}\n          location={location}\n          setError={error => setError(error?.message)}\n          referrer=\"api.performance.transaction-events\"\n          useEvents\n        >\n          {({pageLinks, isLoading, tableData}) => {\n            const parsedPageLinks = parseLinkHeader(pageLinks);\n            let currentEvent = parsedPageLinks?.next?.cursor.split(':')[1] ?? 0;\n            if (!parsedPageLinks?.next?.results) {\n              currentEvent = totalEventCount;\n            }\n            const paginationCaption =\n              totalEventCount && currentEvent\n                ? tct('Showing [currentEvent] of [totalEventCount] events', {\n                    currentEvent,\n                    totalEventCount,\n                  })\n                : undefined;\n\n            return (\n              <Fragment>\n                <GridEditable\n                  isLoading={isLoading}\n                  data={tableData?.data ?? []}\n                  columnOrder={columnOrder}\n                  columnSortBy={eventView.getSorts()}\n                  grid={{\n                    onResizeColumn: this.handleResizeColumn,\n                    renderHeadCell: this.renderHeadCellWithMeta(tableData?.meta) as any,\n                    renderBodyCell: this.renderBodyCellWithData(tableData) as any,\n                  }}\n                  location={location}\n                />\n                <Pagination\n                  disabled={isLoading}\n                  caption={paginationCaption}\n                  pageLinks={pageLinks}\n                />\n              </Fragment>\n            );\n          }}\n        </DiscoverQuery>\n      </div>\n    );\n  }\n}\n\nconst StyledIconQuestion = styled(QuestionTooltip)`\n  position: relative;\n  top: 1px;\n  left: 4px;\n`;\n\nexport default EventsTable;\n","import {browserHistory} from 'react-router';\nimport {Location} from 'history';\n\nimport * as Layout from 'sentry/components/layouts/thirds';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {t} from 'sentry/locale';\nimport {Organization, Project} from 'sentry/types';\nimport {trackAnalyticsEvent} from 'sentry/utils/analytics';\nimport DiscoverQuery from 'sentry/utils/discover/discoverQuery';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {\n  isAggregateField,\n  QueryFieldValue,\n  SPAN_OP_BREAKDOWN_FIELDS,\n  SPAN_OP_RELATIVE_BREAKDOWN_FIELD,\n} from 'sentry/utils/discover/fields';\nimport {WebVital} from 'sentry/utils/fields';\nimport {removeHistogramQueryStrings} from 'sentry/utils/performance/histogram';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport withProjects from 'sentry/utils/withProjects';\n\nimport {\n  decodeFilterFromLocation,\n  filterToLocationQuery,\n  SpanOperationBreakdownFilter,\n} from '../filter';\nimport PageLayout, {ChildProps} from '../pageLayout';\nimport Tab from '../tabs';\nimport {ZOOM_END, ZOOM_START} from '../transactionOverview/latencyChart/utils';\n\nimport EventsContent from './content';\nimport {\n  decodeEventsDisplayFilterFromLocation,\n  EventsDisplayFilterName,\n  filterEventsDisplayToLocationQuery,\n  getEventsFilterOptions,\n} from './utils';\n\ntype PercentileValues = Record<EventsDisplayFilterName, number>;\n\ntype Props = {\n  location: Location;\n  organization: Organization;\n  projects: Project[];\n};\n\nfunction TransactionEvents(props: Props) {\n  const {location, organization, projects} = props;\n\n  return (\n    <PageLayout\n      location={location}\n      organization={organization}\n      projects={projects}\n      tab={Tab.Events}\n      getDocumentTitle={getDocumentTitle}\n      generateEventView={generateEventView}\n      childComponent={EventsContentWrapper}\n    />\n  );\n}\n\nfunction EventsContentWrapper(props: ChildProps) {\n  const {location, organization, eventView, transactionName, setError} = props;\n  const eventsDisplayFilterName = decodeEventsDisplayFilterFromLocation(location);\n  const spanOperationBreakdownFilter = decodeFilterFromLocation(location);\n  const webVital = getWebVital(location);\n\n  const totalEventsView = eventView.clone();\n  const percentilesView = getPercentilesEventView(eventView);\n\n  totalEventsView.sorts = [];\n  totalEventsView.fields = [{field: 'count()', width: -1}];\n\n  const getFilteredEventView = (percentiles: PercentileValues) => {\n    const filter = getEventsFilterOptions(spanOperationBreakdownFilter, percentiles)[\n      eventsDisplayFilterName\n    ];\n    const filteredEventView = eventView?.clone();\n    if (filteredEventView && filter?.query) {\n      const query = new MutableSearch(filteredEventView.query);\n      filter.query.forEach(item => query.setFilterValues(item[0], [item[1]]));\n      filteredEventView.query = query.formatString();\n    }\n    return filteredEventView;\n  };\n\n  const onChangeSpanOperationBreakdownFilter = (\n    newFilter: SpanOperationBreakdownFilter\n  ) => {\n    trackAnalyticsEvent({\n      eventName: 'Performance Views: Transaction Events Ops Breakdown Filter Dropdown',\n      eventKey: 'performance_views.transactionEvents.ops_filter_dropdown.selection',\n      organization_id: parseInt(organization.id, 10),\n      action: newFilter as string,\n    });\n\n    // Check to see if the current table sort matches the EventsDisplayFilter.\n    // If it does, we can re-sort using the new SpanOperationBreakdownFilter\n    const eventsFilterOptionSort = getEventsFilterOptions(spanOperationBreakdownFilter)[\n      eventsDisplayFilterName\n    ].sort;\n    const currentSort = eventView?.sorts?.[0];\n    let sortQuery = {};\n\n    if (\n      eventsFilterOptionSort?.kind === currentSort?.kind &&\n      eventsFilterOptionSort?.field === currentSort?.field\n    ) {\n      sortQuery = filterEventsDisplayToLocationQuery(eventsDisplayFilterName, newFilter);\n    }\n\n    const nextQuery: Location['query'] = {\n      ...removeHistogramQueryStrings(location, [ZOOM_START, ZOOM_END]),\n      ...filterToLocationQuery(newFilter),\n      ...sortQuery,\n    };\n\n    if (newFilter === SpanOperationBreakdownFilter.None) {\n      delete nextQuery.breakdown;\n    }\n    browserHistory.push({\n      pathname: location.pathname,\n      query: nextQuery,\n    });\n  };\n\n  const onChangeEventsDisplayFilter = (newFilterName: EventsDisplayFilterName) => {\n    trackAnalyticsEvent({\n      eventName: 'Performance Views: Transaction Events Display Filter Dropdown',\n      eventKey: 'performance_views.transactionEvents.display_filter_dropdown.selection',\n      organization_id: parseInt(organization.id, 10),\n      action: newFilterName as string,\n    });\n\n    const nextQuery: Location['query'] = {\n      ...removeHistogramQueryStrings(location, [ZOOM_START, ZOOM_END]),\n      ...filterEventsDisplayToLocationQuery(newFilterName, spanOperationBreakdownFilter),\n    };\n\n    if (newFilterName === EventsDisplayFilterName.p100) {\n      delete nextQuery.showTransaction;\n    }\n\n    browserHistory.push({\n      pathname: location.pathname,\n      query: nextQuery,\n    });\n  };\n\n  return (\n    <DiscoverQuery\n      eventView={totalEventsView}\n      orgSlug={organization.slug}\n      location={location}\n      setError={error => setError(error?.message)}\n      referrer=\"api.performance.transaction-summary\"\n      cursor=\"0:0:0\"\n      useEvents\n    >\n      {({isLoading: isTotalEventsLoading, tableData: table}) => {\n        const totalEventCount: string =\n          table?.data[0]?.['count()']?.toLocaleString() || '';\n\n        return (\n          <DiscoverQuery\n            eventView={percentilesView}\n            orgSlug={organization.slug}\n            location={location}\n            referrer=\"api.performance.transaction-events\"\n            useEvents\n          >\n            {({isLoading, tableData}) => {\n              if (isTotalEventsLoading || isLoading) {\n                return (\n                  <Layout.Main fullWidth>\n                    <LoadingIndicator />\n                  </Layout.Main>\n                );\n              }\n\n              const percentileData = tableData?.data?.[0];\n              const percentiles = {\n                p100: percentileData?.['p100()'],\n                p99: percentileData?.['p100()'],\n                p95: percentileData?.['p95()'],\n                p75: percentileData?.['p75()'],\n                p50: percentileData?.['p50()'],\n              } as PercentileValues;\n              const filteredEventView = getFilteredEventView(percentiles);\n              return (\n                <EventsContent\n                  totalEventCount={totalEventCount}\n                  location={location}\n                  organization={organization}\n                  eventView={filteredEventView}\n                  transactionName={transactionName}\n                  spanOperationBreakdownFilter={spanOperationBreakdownFilter}\n                  onChangeSpanOperationBreakdownFilter={\n                    onChangeSpanOperationBreakdownFilter\n                  }\n                  eventsDisplayFilterName={eventsDisplayFilterName}\n                  onChangeEventsDisplayFilter={onChangeEventsDisplayFilter}\n                  percentileValues={percentiles}\n                  webVital={webVital}\n                  setError={setError}\n                />\n              );\n            }}\n          </DiscoverQuery>\n        );\n      }}\n    </DiscoverQuery>\n  );\n}\n\nfunction getDocumentTitle(transactionName: string): string {\n  const hasTransactionName =\n    typeof transactionName === 'string' && String(transactionName).trim().length > 0;\n\n  if (hasTransactionName) {\n    return [String(transactionName).trim(), t('Events')].join(' \\u2014 ');\n  }\n\n  return [t('Summary'), t('Events')].join(' \\u2014 ');\n}\n\nfunction getWebVital(location: Location): WebVital | undefined {\n  const webVital = decodeScalar(location.query.webVital, '') as WebVital;\n  if (Object.values(WebVital).includes(webVital)) {\n    return webVital;\n  }\n  return undefined;\n}\n\nfunction generateEventView({\n  location,\n  transactionName,\n}: {\n  location: Location;\n  transactionName: string;\n}): EventView {\n  const query = decodeScalar(location.query.query, '');\n  const conditions = new MutableSearch(query);\n\n  conditions.setFilterValues('event.type', ['transaction']);\n  conditions.setFilterValues('transaction', [transactionName]);\n\n  Object.keys(conditions.filters).forEach(field => {\n    if (isAggregateField(field)) {\n      conditions.removeFilter(field);\n    }\n  });\n\n  // Default fields for relative span view\n  const fields = [\n    'id',\n    'user.display',\n    SPAN_OP_RELATIVE_BREAKDOWN_FIELD,\n    'transaction.duration',\n    'trace',\n    'timestamp',\n  ];\n  const breakdown = decodeFilterFromLocation(location);\n  if (breakdown !== SpanOperationBreakdownFilter.None) {\n    fields.splice(2, 1, `spans.${breakdown}`);\n  } else {\n    fields.push(...SPAN_OP_BREAKDOWN_FIELDS);\n  }\n  const webVital = getWebVital(location);\n  if (webVital) {\n    fields.splice(3, 0, webVital);\n  }\n\n  return EventView.fromNewQueryWithLocation(\n    {\n      id: undefined,\n      version: 2,\n      name: transactionName,\n      fields,\n      query: conditions.formatString(),\n      projects: [],\n      orderby: decodeScalar(location.query.sort, '-timestamp'),\n    },\n    location\n  );\n}\n\nfunction getPercentilesEventView(eventView: EventView): EventView {\n  const percentileColumns: QueryFieldValue[] = [\n    {\n      kind: 'function',\n      function: ['p100', '', undefined, undefined],\n    },\n    {\n      kind: 'function',\n      function: ['p99', '', undefined, undefined],\n    },\n    {\n      kind: 'function',\n      function: ['p95', '', undefined, undefined],\n    },\n    {\n      kind: 'function',\n      function: ['p75', '', undefined, undefined],\n    },\n    {\n      kind: 'function',\n      function: ['p50', '', undefined, undefined],\n    },\n  ];\n\n  return eventView.withColumns(percentileColumns);\n}\n\nexport default withProjects(withOrganization(TransactionEvents));\n","import {Component} from 'react';\nimport {createPortal} from 'react-dom';\nimport {Manager, Popper, Reference} from 'react-popper';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location, LocationDescriptorObject} from 'history';\n\nimport {GetActorPropsFn} from 'sentry/components/deprecatedDropdownMenu';\nimport MenuItem from 'sentry/components/menuItem';\nimport Radio from 'sentry/components/radio';\nimport {t} from 'sentry/locale';\nimport {TableData} from 'sentry/utils/discover/discoverQuery';\nimport EventView from 'sentry/utils/discover/eventView';\n\nexport type TitleProps = Partial<ReturnType<GetActorPropsFn>>;\n\ntype Props = {\n  eventView: EventView;\n  location: Location;\n  tableMeta: TableData['meta'];\n  title: React.ComponentClass<TitleProps>;\n};\n\ntype State = {\n  isOpen: boolean;\n};\n\nclass OperationSort extends Component<Props, State> {\n  state: State = {\n    isOpen: false,\n  };\n\n  componentDidUpdate(_props: Props, prevState: State) {\n    if (this.state.isOpen && prevState.isOpen === false) {\n      document.addEventListener('click', this.handleClickOutside, true);\n    }\n    if (this.state.isOpen === false && prevState.isOpen) {\n      document.removeEventListener('click', this.handleClickOutside, true);\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleClickOutside, true);\n  }\n\n  private menuEl: Element | null = null;\n\n  handleClickOutside = (event: MouseEvent) => {\n    if (!this.menuEl) {\n      return;\n    }\n    if (!(event.target instanceof Element)) {\n      return;\n    }\n    if (this.menuEl.contains(event.target)) {\n      return;\n    }\n    this.setState({isOpen: false});\n  };\n\n  toggleOpen = () => {\n    this.setState(({isOpen}) => ({isOpen: !isOpen}));\n  };\n\n  generateSortLink(field): LocationDescriptorObject | undefined {\n    const {eventView, tableMeta, location} = this.props;\n    if (!tableMeta) {\n      return undefined;\n    }\n\n    const nextEventView = eventView.sortOnField(field, tableMeta, 'desc');\n    const queryStringObject = nextEventView.generateQueryStringObject();\n\n    return {\n      ...location,\n      query: {...location.query, sort: queryStringObject.sort},\n    };\n  }\n\n  renderMenuItem(operation, title) {\n    const {eventView} = this.props;\n    return (\n      <DropdownMenuItem>\n        <MenuItemContent>\n          <RadioLabel>\n            <StyledRadio\n              readOnly\n              radioSize=\"small\"\n              checked={eventView.sorts.some(({field}) => field === operation)}\n              onClick={() => {\n                const sortLink = this.generateSortLink({field: operation});\n                if (sortLink) {\n                  browserHistory.push(sortLink);\n                }\n              }}\n            />\n            <span>{title}</span>\n          </RadioLabel>\n        </MenuItemContent>\n      </DropdownMenuItem>\n    );\n  }\n\n  renderMenuContent() {\n    return (\n      <DropdownContent>\n        {this.renderMenuItem('spans.http', t('Sort By HTTP'))}\n        {this.renderMenuItem('spans.db', t('Sort By DB'))}\n        {this.renderMenuItem('spans.resource', t('Sort By Resource'))}\n        {this.renderMenuItem('spans.browser', t('Sort By Browser'))}\n      </DropdownContent>\n    );\n  }\n\n  renderMenu() {\n    const modifiers = [\n      {\n        name: 'hide',\n        enabled: false,\n      },\n      {\n        name: 'preventOverflow',\n        enabled: true,\n        options: {padding: 10},\n      },\n    ];\n\n    return createPortal(\n      <Popper placement=\"top\" modifiers={modifiers}>\n        {({ref: popperRef, style, placement}) => (\n          <DropdownWrapper\n            ref={ref => {\n              (popperRef as Function)(ref);\n              this.menuEl = ref;\n            }}\n            style={style}\n            data-placement={placement}\n          >\n            {this.renderMenuContent()}\n          </DropdownWrapper>\n        )}\n      </Popper>,\n      document.body\n    );\n  }\n\n  render() {\n    const {title: Title} = this.props;\n    const {isOpen} = this.state;\n    const menu: React.ReactPortal | null = isOpen ? this.renderMenu() : null;\n\n    return (\n      <Manager>\n        <Reference>\n          {({ref}) => (\n            <TitleWrapper ref={ref}>\n              <Title onClick={this.toggleOpen} />\n            </TitleWrapper>\n          )}\n        </Reference>\n        {menu}\n      </Manager>\n    );\n  }\n}\n\nconst DropdownWrapper = styled('div')`\n  /* Adapted from the dropdown-menu class */\n  border: none;\n  border-radius: 2px;\n  box-shadow: 0 0 0 1px rgba(52, 60, 69, 0.2), 0 1px 3px rgba(70, 82, 98, 0.25);\n  background-clip: padding-box;\n  background-color: ${p => p.theme.background};\n  width: 220px;\n  overflow: visible;\n  z-index: ${p => p.theme.zIndex.tooltip};\n\n  &:before,\n  &:after {\n    width: 0;\n    height: 0;\n    content: '';\n    display: block;\n    position: absolute;\n    right: auto;\n  }\n\n  &:before {\n    border-left: 9px solid transparent;\n    border-right: 9px solid transparent;\n    left: calc(50% - 9px);\n    z-index: -2;\n  }\n\n  &:after {\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    left: calc(50% - 8px);\n    z-index: -1;\n  }\n\n  &[data-placement*='bottom'] {\n    margin-top: 9px;\n\n    &:before {\n      border-bottom: 9px solid ${p => p.theme.border};\n      top: -9px;\n    }\n\n    &:after {\n      border-bottom: 8px solid ${p => p.theme.background};\n      top: -8px;\n    }\n  }\n\n  &[data-placement*='top'] {\n    margin-bottom: 9px;\n\n    &:before {\n      border-top: 9px solid ${p => p.theme.border};\n      bottom: -9px;\n    }\n\n    &:after {\n      border-top: 8px solid ${p => p.theme.background};\n      bottom: -8px;\n    }\n  }\n`;\n\nconst DropdownMenuItem = styled(MenuItem)`\n  font-size: ${p => p.theme.fontSizeMedium};\n\n  &:not(:last-child) {\n    border-bottom: 1px solid ${p => p.theme.innerBorder};\n  }\n`;\n\nconst MenuItemContent = styled('div')`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n`;\n\nconst RadioLabel = styled('label')`\n  display: grid;\n  cursor: pointer;\n  gap: 0.25em 0.5em;\n  grid-template-columns: max-content auto;\n  align-items: center;\n  outline: none;\n  font-weight: normal;\n  margin: 0;\n`;\n\nconst StyledRadio = styled(Radio)`\n  margin: 0;\n`;\n\nconst DropdownContent = styled('div')`\n  max-height: 250px;\n  overflow-y: auto;\n`;\n\nconst TitleWrapper = styled('div')`\n  cursor: pointer;\n`;\n\nexport default OperationSort;\n","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n"],"names":["withApi","GenericDiscoverQuery","shouldRefetchData","prevProps","nextProps","transactionName","transactionThreshold","transactionThresholdMetric","DiscoverQuery","props","endpoint","useEvents","afterFetch","data","_","fields","otherMeta","meta","undefined","t","FILTER_OPTIONS","label","value","Component","browserHistory","decodeScalar","Histogram","location","zoomKeys","push","pathname","query","removeHistogramQueryStrings","dataFilter","isZoomed","map","key","some","getActiveFilter","find","item","render","childrenProps","handleResetView","activeFilter","handleFilterChange","filterOptions","children","cursor","forEach","omit","Button","DatePageFilter","EnvironmentPageFilter","SearchBar","CompactSelect","Layout","PageFilterBar","normalizeDateTimeParams","space","trackAdvancedAnalyticsEvent","Filter","filterToSearchConditions","EventsTable","getEventsFilterOptions","TRANSACTIONS_LIST_TITLES","EventsContent","organization","eventView","originalEventView","spanOperationBreakdownFilter","webVital","setError","totalEventCount","clone","transactionsListTitles","slice","splice","spanOperationBreakdownConditions","trim","Search","onChangeSpanOperationBreakdownFilter","eventsDisplayFilterName","onChangeEventsDisplayFilter","percentileValues","handleSearch","queryParams","searchQueryParams","eventsFilterOptions","handleDiscoverButtonClick","project","prefix","opt","Object","entries","name","filter","getResultsViewUrlTarget","slug","FilterActions","p","theme","breakpoints","small","xlarge","StyledSearchBar","Fragment","GridEditable","COL_WIDTH_UNDEFINED","SortLink","Link","Pagination","QuestionTooltip","Tooltip","tct","defined","trackAnalyticsEvent","isFieldSortable","getFieldRenderer","fieldAlignment","getAggregateAlias","isSpanOperationBreakdownField","SPAN_OP_RELATIVE_BREAKDOWN_FIELD","parseLinkHeader","CellAction","Actions","updateQuery","COLUMN_TITLES","generateTraceLink","generateTransactionLink","normalizeSearchConditions","OperationSort","getProjectID","eventData","projects","projectSlug","currentProject","id","OperationTitle","onClick","widths","column","action","eventKey","eventName","organization_id","parseInt","searchConditions","formatString","tableData","dataRow","renderBodyCell","tableMeta","columnTitles","index","renderHeadCell","columnIndex","nextColumn","state","width","Number","setState","field","String","fieldRenderer","rendered","allowActions","ADD","EXCLUDE","SHOW_GREATER_THAN","SHOW_LESS_THAN","generateLink","target","handleCellAction","fieldName","toLocaleString","onSortClick","currentSortKind","currentSortField","direction","title","align","type","generateSortLink","nextEventView","sortOnField","queryStringObject","generateQueryStringObject","sort","currentSort","sortForField","canSort","kind","sortLink","totalTransactionsView","sorts","containsSpanOpsBreakdown","getColumns","col","columnOrder","i","error","message","pageLinks","isLoading","parsedPageLinks","currentEvent","next","split","results","paginationCaption","getSorts","onResizeColumn","handleResizeColumn","renderHeadCellWithMeta","renderBodyCellWithData","StyledIconQuestion","LoadingIndicator","EventView","isAggregateField","SPAN_OP_BREAKDOWN_FIELDS","WebVital","MutableSearch","withOrganization","withProjects","decodeFilterFromLocation","filterToLocationQuery","SpanOperationBreakdownFilter","PageLayout","Tab","ZOOM_END","ZOOM_START","decodeEventsDisplayFilterFromLocation","EventsDisplayFilterName","filterEventsDisplayToLocationQuery","TransactionEvents","Events","getDocumentTitle","generateEventView","EventsContentWrapper","getWebVital","totalEventsView","percentilesView","getPercentilesEventView","getFilteredEventView","percentiles","filteredEventView","setFilterValues","newFilter","eventsFilterOptionSort","sortQuery","nextQuery","None","breakdown","newFilterName","p100","showTransaction","isTotalEventsLoading","table","percentileData","p99","p95","p75","p50","hasTransactionName","length","join","values","includes","conditions","keys","filters","removeFilter","fromNewQueryWithLocation","version","orderby","percentileColumns","function","withColumns","createPortal","Manager","Popper","Reference","MenuItem","Radio","isOpen","event","menuEl","Element","contains","componentDidUpdate","_props","prevState","document","addEventListener","handleClickOutside","removeEventListener","componentWillUnmount","renderMenuItem","operation","renderMenuContent","renderMenu","modifiers","enabled","options","padding","ref","popperRef","style","placement","body","Title","menu","toggleOpen","DropdownWrapper","background","zIndex","tooltip","border","DropdownMenuItem","fontSizeMedium","innerBorder","MenuItemContent","RadioLabel","StyledRadio","DropdownContent","TitleWrapper"],"sourceRoot":""}