{"version":3,"file":"chunks/app_views_settings_account_apiApplications_details_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/data/forms/apiApplication.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/account/apiApplications/details.tsx"],"sourcesContent":["import {JsonFormObject} from 'sentry/components/forms/type';\nimport {convertMultilineFieldValue, extractMultilineFields} from 'sentry/utils';\nimport getDynamicText from 'sentry/utils/getDynamicText';\n\nconst forms: JsonFormObject[] = [\n  {\n    // Form \"section\"/\"panel\"\n    title: 'Application Details',\n    fields: [\n      {\n        name: 'name',\n        type: 'string',\n        required: true,\n\n        // additional data/props that is related to rendering of form field rather than data\n        label: 'Name',\n        help: 'e.g. My Application',\n        setValue: value => getDynamicText({value, fixed: 'CI_APPLICATION_NAME'}),\n      },\n      {\n        name: 'homepageUrl',\n        type: 'string',\n        required: false,\n        label: 'Homepage',\n        placeholder: 'e.g. https://example.com/',\n        help: \"An optional link to your application's homepage\",\n      },\n      {\n        name: 'privacyUrl',\n        type: 'string',\n        label: 'Privacy Policy',\n        placeholder: 'e.g. https://example.com/privacy',\n        help: 'An optional link to your Privacy Policy',\n      },\n      {\n        name: 'termsUrl',\n        type: 'string',\n        label: 'Terms of Service',\n        placeholder: 'e.g. https://example.com/terms',\n        help: 'An optional link to your Terms of Service agreement',\n      },\n    ],\n  },\n\n  {\n    title: 'Security',\n    fields: [\n      {\n        name: 'redirectUris',\n        type: 'string',\n        multiline: true,\n        placeholder: 'e.g. https://example.com/oauth/complete',\n        label: 'Authorized Redirect URIs',\n        help: 'Separate multiple entries with a newline.',\n        getValue: val => extractMultilineFields(val),\n        setValue: val => convertMultilineFieldValue(val),\n      },\n      {\n        name: 'allowedOrigins',\n        type: 'string',\n        multiline: true,\n        placeholder: 'e.g. example.com',\n        label: 'Authorized JavaScript Origins',\n        help: 'Separate multiple entries with a newline.',\n        getValue: val => extractMultilineFields(val),\n        setValue: val => convertMultilineFieldValue(val),\n      },\n    ],\n  },\n];\n\nexport default forms;\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {RouteComponentProps} from 'react-router';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport Form from 'sentry/components/forms/form';\nimport FormField from 'sentry/components/forms/formField';\nimport JsonForm from 'sentry/components/forms/jsonForm';\nimport TextCopyInput from 'sentry/components/forms/textCopyInput';\nimport {Panel, PanelBody, PanelHeader} from 'sentry/components/panels';\nimport apiApplication from 'sentry/data/forms/apiApplication';\nimport {t} from 'sentry/locale';\nimport ConfigStore from 'sentry/stores/configStore';\nimport {ApiApplication} from 'sentry/types';\nimport getDynamicText from 'sentry/utils/getDynamicText';\nimport AsyncView from 'sentry/views/asyncView';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\n\ntype Props = RouteComponentProps<{appId: string}, {}>;\ntype State = {\n  app: ApiApplication;\n} & AsyncView['state'];\n\nclass ApiApplicationsDetails extends AsyncView<Props, State> {\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    return [['app', `/api-applications/${this.props.params.appId}/`]];\n  }\n\n  getTitle() {\n    return t('Application Details');\n  }\n\n  renderBody() {\n    const urlPrefix = ConfigStore.get('urlPrefix');\n\n    return (\n      <div>\n        <SettingsPageHeader title={this.getTitle()} />\n\n        <Form\n          apiMethod=\"PUT\"\n          apiEndpoint={`/api-applications/${this.props.params.appId}/`}\n          saveOnBlur\n          allowUndo\n          initialData={this.state.app}\n          onSubmitError={() => addErrorMessage('Unable to save change')}\n        >\n          <JsonForm forms={apiApplication} />\n\n          <Panel>\n            <PanelHeader>{t('Credentials')}</PanelHeader>\n\n            <PanelBody>\n              <FormField name=\"clientID\" label=\"Client ID\">\n                {({value}) => (\n                  <div>\n                    <TextCopyInput>\n                      {getDynamicText({value, fixed: 'CI_CLIENT_ID'})}\n                    </TextCopyInput>\n                  </div>\n                )}\n              </FormField>\n\n              <FormField\n                name=\"clientSecret\"\n                label=\"Client Secret\"\n                help={t(`Your secret is only available briefly after application creation. Make\n                  sure to save this value!`)}\n              >\n                {({value}) =>\n                  value ? (\n                    <TextCopyInput>\n                      {getDynamicText({value, fixed: 'CI_CLIENT_SECRET'})}\n                    </TextCopyInput>\n                  ) : (\n                    <em>hidden</em>\n                  )\n                }\n              </FormField>\n\n              <FormField name=\"\" label=\"Authorization URL\">\n                {() => <TextCopyInput>{`${urlPrefix}/oauth/authorize/`}</TextCopyInput>}\n              </FormField>\n\n              <FormField name=\"\" label=\"Token URL\">\n                {() => <TextCopyInput>{`${urlPrefix}/oauth/token/`}</TextCopyInput>}\n              </FormField>\n            </PanelBody>\n          </Panel>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default ApiApplicationsDetails;\n"],"names":["convertMultilineFieldValue","extractMultilineFields","getDynamicText","forms","title","fields","name","type","required","label","help","setValue","value","fixed","placeholder","multiline","getValue","val","AsyncComponent","SentryDocumentTitle","AsyncView","getTitle","render","renderComponent","addErrorMessage","Form","FormField","JsonForm","TextCopyInput","Panel","PanelBody","PanelHeader","apiApplication","t","ConfigStore","SettingsPageHeader","ApiApplicationsDetails","getEndpoints","props","params","appId","renderBody","urlPrefix","get","state","app"],"sourceRoot":""}