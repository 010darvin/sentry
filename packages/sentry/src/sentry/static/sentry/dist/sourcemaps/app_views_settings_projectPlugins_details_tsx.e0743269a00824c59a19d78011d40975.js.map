{"version":3,"file":"chunks/app_views_settings_projectPlugins_details_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;AAYA;AACA;AACA;AACA;AACA,SAASO,WAAT,CACEC,gBADF,EAEE;EACA,MAAMC,WAAN,SAA0BT,4CAA1B,CAAuF;IAAA;MAAA;;MAAA,iGAE7E;QAACU,OAAO,EAAE,EAAV;QAAcC,OAAO,EAAE;MAAvB,CAF6E;;MAAA,uGAwCvET,yEAAA,CAAoB,QAA+B;QAAA,IAA9B;UAACQ,OAAD;UAAUC;QAAV,CAA8B;QAC/D;QACA;QACA,KAAKE,QAAL,CAAc;UAACH,OAAD;UAAUC;QAAV,CAAd;MACD,CAJa,EAIXG,SAJW,CAxCuE;IAAA;;IAIrFC,iBAAiB,GAAG;MAClB,KAAKd,YAAL;IACD;;IAEDe,kBAAkB,CAACC,SAAD,EAAYC,UAAZ,EAAwBC,WAAxB,EAAqC;MACrD,MAAM;QAACC,YAAD;QAAeC;MAAf,IAA0B,KAAKC,KAArC,CADqD,CAGrD;;MACA,MAAMC,OAAO,GAAGN,SAAS,CAACG,YAAV,KAA0BD,WAA1B,aAA0BA,WAA1B,uBAA0BA,WAAW,CAAEC,YAAvC,CAAhB;MACA,MAAMI,WAAW,GAAGP,SAAS,CAACI,OAAV,KAAqBF,WAArB,aAAqBA,WAArB,uBAAqBA,WAAW,CAAEE,OAAlC,CAApB,CALqD,CAOrD;MACA;MACA;MACA;MACA;MACA;;MACA,IAAI,CAAClB,qDAAO,CAACqB,WAAD,CAAR,IAAyB,CAACrB,qDAAO,CAACoB,OAAD,CAArC,EAAgD;QAC9C;MACD;;MAED,MAAME,SAAS,GAAGF,OAAO,CAACG,IAAR,KAAiBN,YAAY,CAACM,IAAhD;MACA,MAAMC,aAAa,GAAGH,WAAW,CAACE,IAAZ,MAAqBL,OAArB,aAAqBA,OAArB,uBAAqBA,OAAO,CAAEK,IAA9B,CAAtB,CAlBqD,CAoBrD;;MACA,IAAID,SAAS,IAAIE,aAAjB,EAAgC;QAC9B;MACD;;MAED,KAAK1B,YAAL;IACD;;IAED2B,oBAAoB,GAAG;MACrB,KAAKC,WAAL;IACD;;IAQD5B,YAAY,GAAG;MACb,MAAM;QAACmB,YAAD;QAAeC;MAAf,IAA0B,KAAKC,KAArC;;MAEA,IAAI,CAACD,OAAD,IAAY,CAACD,YAAjB,EAA+B;QAC7B;MACD;;MAEDnB,2EAAY,CAAC;QAAC6B,SAAS,EAAET,OAAO,CAACK,IAApB;QAA0BK,KAAK,EAAEX,YAAY,CAACM;MAA9C,CAAD,CAAZ;IACD;;IAEDM,MAAM,GAAG;MACP,OACE,gEAAC,gBAAD,OAAuB,KAAKV,KAA5B;QAA2D,OAAO,EAAE,KAAKW;MAAzE,EADF;IAGD;;EA5DoF;;EAAjFxB,WADN;;EAAA,kFACMA,WADN,iBAEwB,eAAcL,uEAAc,CAACI,gBAAD,CAAmB,GAFvE;;EA+DA,OAAOH,yEAAgB,CAACC,oEAAW,CAACG,WAAD,CAAZ,CAAvB;AACD;;AAED,iEAAeF,WAAf;;;;;;;;;;;;;;;;;AC5FA;AACA;;AAKe,MAAM6B,SAAN,SAGLF,wEAHK,CAGgB;EAC7BG,QAAQ,GAAG;IACT,OAAO,EAAP;EACD;;EAEDL,MAAM,GAAG;IACP,OACE,gEAAC,6EAAD;MAAqB,KAAK,EAAE,KAAKK,QAAL,EAA5B;MAAA,UACG,KAAKC,eAAL;IADH,EADF;EAKD;;AAX4B;AAHVF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHrB;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMe,oBAAN,SAAmCf,+DAAnC,CAA2D;EAAA;IAAA;;IAAA,uGAuC3C,MAAM;MAClB,MAAM;QAACN,SAAD;QAAYC,KAAZ;QAAmBqB;MAAnB,IAA+B,KAAK9B,KAAL,CAAW+B,MAAhD;MAEAb,kFAAiB,CAACO,gDAAC,CAAC,sBAAD,CAAF,CAAjB;MACAE,wFAAyB,CAAC,gCAAD,EAAmC;QAC1DK,WAAW,EAAEF,QAD6C;QAE1DG,gBAAgB,EAAE,QAFwC;QAG1DC,IAAI,EAAE,gBAHoD;QAI1DpC,YAAY,EAAE,KAAKE,KAAL,CAAWF;MAJiC,CAAnC,CAAzB;MAOA,KAAKqC,GAAL,CAASC,OAAT,CAAkB,aAAY3B,KAAM,IAAGD,SAAU,YAAWsB,QAAS,GAArE,EAAyE;QACvEO,MAAM,EAAE,MAD+D;QAEvEC,IAAI,EAAE;UAACC,KAAK,EAAE;QAAR,CAFiE;QAGvEC,OAAO,EAAEC,aAAa,IAAI;UACxB,KAAKlD,QAAL,CAAc;YAACkD;UAAD,CAAd;UACAtB,kFAAiB,CAACM,gDAAC,CAAC,kBAAD,CAAF,CAAjB;UACAE,wFAAyB,CAAC,kCAAD,EAAqC;YAC5DK,WAAW,EAAEF,QAD+C;YAE5DG,gBAAgB,EAAE,QAF0C;YAG5DC,IAAI,EAAE,gBAHsD;YAI5DpC,YAAY,EAAE,KAAKE,KAAL,CAAWF;UAJmC,CAArC,CAAzB;QAMD,CAZsE;QAavE4C,KAAK,EAAE,MAAM;UACXzB,gFAAe,CAACQ,gDAAC,CAAC,mBAAD,CAAF,CAAf;QACD;MAfsE,CAAzE;IAiBD,CAnEwD;;IAAA,wGAqE1C,MAAM;MACnBJ,2EAAY,CAAC,KAAKrB,KAAL,CAAW+B,MAAZ,CAAZ;MACA,KAAKY,2BAAL,CAAiC,IAAjC;IACD,CAxEwD;;IAAA,yGA0EzC,MAAM;MACpBvB,4EAAa,CAAC,KAAKpB,KAAL,CAAW+B,MAAZ,CAAb;MACA,KAAKY,2BAAL,CAAiC,KAAjC;IACD,CA7EwD;;IAAA,uHA+E1BC,OAAD,IAAsB;MAClD,MAAM;QAACd;MAAD,IAAa,KAAK9B,KAAL,CAAW+B,MAA9B;MACA,MAAMc,QAAQ,GAAGD,OAAO,GAAG,sBAAH,GAA4B,uBAApD;MACAjB,wFAAyB,CAACkB,QAAD,EAAW;QAClCb,WAAW,EAAEF,QADqB;QAElCG,gBAAgB,EAAE,QAFgB;QAGlCC,IAAI,EAAE,gBAH4B;QAIlCpC,YAAY,EAAE,KAAKE,KAAL,CAAWF;MAJS,CAAX,CAAzB;IAMD,CAxFwD;EAAA;;EACzDJ,kBAAkB,CAACC,SAAD,EAAmBmD,SAAnB,EAAqC;IACrD,MAAMpD,kBAAN,CAAyBC,SAAzB,EAAoCmD,SAApC;;IACA,IAAInD,SAAS,CAACoC,MAAV,CAAiBD,QAAjB,KAA8B,KAAK9B,KAAL,CAAW+B,MAAX,CAAkBD,QAApD,EAA8D;MAC5D,KAAKiB,mBAAL;IACD;EACF;;EACDtD,iBAAiB,GAAG;IAClB,KAAKsD,mBAAL;EACD;;EAEDA,mBAAmB,GAAG;IACpB,MAAM;MAACjB;IAAD,IAAa,KAAK9B,KAAL,CAAW+B,MAA9B;IAEAJ,wFAAyB,CAAC,6BAAD,EAAgC;MACvDK,WAAW,EAAEF,QAD0C;MAEvDG,gBAAgB,EAAE,QAFqC;MAGvDC,IAAI,EAAE,gBAHiD;MAIvDpC,YAAY,EAAE,KAAKE,KAAL,CAAWF;IAJ8B,CAAhC,CAAzB;EAMD;;EAEDiB,QAAQ,GAAG;IACT,MAAM;MAACiC;IAAD,IAAW,KAAKrC,KAAtB;;IACA,IAAIqC,MAAM,IAAIA,MAAM,CAACC,IAArB,EAA2B;MACzB,OAAOD,MAAM,CAACC,IAAd;IACD;;IACD,OAAO,QAAP;EACD;;EAEDC,YAAY,GAA0C;IACpD,MAAM;MAAC1C,SAAD;MAAYC,KAAZ;MAAmBqB;IAAnB,IAA+B,KAAK9B,KAAL,CAAW+B,MAAhD;IACA,OAAO,CAAC,CAAC,eAAD,EAAmB,aAAYtB,KAAM,IAAGD,SAAU,YAAWsB,QAAS,GAAtE,CAAD,CAAP;EACD;;EAEDqB,UAAU,CAACC,KAAD,EAAQ;IAChB,OAAOA,KAAK,CAACC,KAAN,CAAY,IAAZ,EAAkB,CAAlB,CAAP;EACD;;EAqDD;EACAC,UAAU,GAAG;IACX,MAAM;MAACb;IAAD,IAAkB,KAAK9B,KAA7B;IACA,MAAM;MAACvB;IAAD,IAAY,KAAKY,KAAvB;IAEA,MAAMgD,MAAM,GACV5D,OAAO,IACPA,OAAO,CAACA,OADR,IAEAA,OAAO,CAACA,OAAR,CAAgBmE,IAAhB,CAAqB;MAAA,IAAC;QAACnD;MAAD,CAAD;MAAA,OAAYA,IAAI,KAAK,KAAKJ,KAAL,CAAW+B,MAAX,CAAkBD,QAAvC;IAAA,CAArB,CAHF;IAKA,OAAOkB,MAAM,GAAGA,MAAM,CAACJ,OAAV,GAAoBH,aAAa,IAAIA,aAAa,CAACG,OAAhE;EACD;;EAEDY,aAAa,GAAG;IACd,MAAM;MAACf;IAAD,IAAkB,KAAK9B,KAA7B;;IACA,IAAI,CAAC8B,aAAL,EAAoB;MAClB,OAAO,IAAP;IACD;;IACD,MAAMG,OAAO,GAAG,KAAKU,UAAL,EAAhB;;IAEA,MAAMG,MAAM,GACV,iEAAC,YAAD;MAAc,IAAI,EAAC,IAAnB;MAAwB,OAAO,EAAE,KAAKC,YAAtC;MAAA,UACGjC,gDAAC,CAAC,eAAD;IADJ,EADF;;IAMA,MAAMkC,OAAO,GACX,iEAAC,YAAD;MAAc,IAAI,EAAC,IAAnB;MAAwB,QAAQ,EAAC,QAAjC;MAA0C,OAAO,EAAE,KAAKC,aAAxD;MAAA,UACGnC,gDAAC,CAAC,gBAAD;IADJ,EADF;;IAMA,MAAMoC,YAAY,GAAGjB,OAAO,GAAGe,OAAH,GAAaF,MAAzC;IAEA,OACE;MAAK,SAAS,EAAC,YAAf;MAAA,WACGhB,aAAa,CAACqB,UAAd,IAA4BD,YAD/B,EAEE,iEAAC,gEAAD;QAAQ,IAAI,EAAC,IAAb;QAAkB,OAAO,EAAE,KAAKE,WAAhC;QAAA,UACGtC,gDAAC,CAAC,qBAAD;MADJ,EAFF;IAAA,EADF;EAQD;;EAEDuC,UAAU,GAAG;IAAA;;IACX,MAAM;MAAClE,YAAD;MAAeC;IAAf,IAA0B,KAAKC,KAArC;IACA,MAAM;MAACyC;IAAD,IAAkB,KAAK9B,KAA7B;;IACA,IAAI,CAAC8B,aAAL,EAAoB;MAClB,OAAO,IAAP;IACD;;IAED,OACE;MAAA,WACE,iEAAC,4FAAD;QAAoB,KAAK,EAAEA,aAAa,CAACQ,IAAzC;QAA+C,MAAM,EAAE,KAAKO,aAAL;MAAvD,EADF,EAEE;QAAK,SAAS,EAAC,KAAf;QAAA,WACE;UAAK,SAAS,EAAC,UAAf;UAAA,UACE,iEAAC,sEAAD;YACE,YAAY,EAAE1D,YADhB;YAEE,OAAO,EAAEC,OAFX;YAGE,IAAI,EAAE0C,aAHR;YAIE,OAAO,EAAE,KAAKa,UAAL,EAJX;YAKE,eAAe,EAAE,KAAKM;UALxB;QADF,EADF,EAUE;UAAK,SAAS,EAAC,0BAAf;UAAA,UACE;YAAK,SAAS,EAAC,oBAAf;YAAA,WACE;cAAA,UAAKnC,gDAAC,CAAC,oBAAD;YAAN,EADF,EAGE;cAAI,SAAS,EAAC,MAAd;cAAA,WACE;gBAAA,UAAKA,gDAAC,CAAC,MAAD;cAAN,EADF,EAEE;gBAAA,UAAKgB,aAAa,CAACQ;cAAnB,EAFF,EAGE;gBAAA,UAAKxB,gDAAC,CAAC,QAAD;cAAN,EAHF,EAIE;gBAAA,mCAAKgB,aAAa,CAACwB,MAAnB,0DAAK,sBAAsBhB;cAA3B,EAJF,EAKG,2BAAAR,aAAa,CAACwB,MAAd,kFAAsBC,GAAtB,KACC;gBAAA,WACE;kBAAA,UAAKzC,gDAAC,CAAC,KAAD;gBAAN,EADF,EAEE;kBAAA,UACE,iEAAC,4EAAD;oBAAc,IAAI,EAAEgB,aAAa,CAACwB,MAAd,CAAqBC,GAAzC;oBAAA,UACG,KAAKf,UAAL,CAAgBV,aAAa,CAACwB,MAAd,CAAqBC,GAArC;kBADH;gBADF,EAFF;cAAA,EANJ,EAeE;gBAAA,UAAKzC,gDAAC,CAAC,SAAD;cAAN,EAfF,EAgBE;gBAAA,UAAKgB,aAAa,CAAC0B;cAAnB,EAhBF;YAAA,EAHF,EAsBG1B,aAAa,CAAC2B,WAAd,IACC;cAAA,WACE;gBAAA,UAAK3C,gDAAC,CAAC,aAAD;cAAN,EADF,EAEE;gBAAG,SAAS,EAAC,aAAb;gBAAA,UAA4BgB,aAAa,CAAC2B;cAA1C,EAFF;YAAA,EAvBJ,EA6BG3B,aAAa,CAAC4B,aAAd,IACC;cAAA,WACE;gBAAA,UAAK5C,gDAAC,CAAC,WAAD;cAAN,EADF,EAEE;gBAAI,SAAS,EAAC,MAAd;gBAAA,UACGgB,aAAa,CAAC4B,aAAd,CAA4BC,GAA5B,CAAgC;kBAAA,IAAC;oBAACC,KAAD;oBAAQL;kBAAR,CAAD;kBAAA,OAC/B;oBAAA,UACE,iEAAC,4EAAD;sBAAc,IAAI,EAAEA,GAApB;sBAAA,UAA0BK;oBAA1B;kBADF,GAASL,GAAT,CAD+B;gBAAA,CAAhC;cADH,EAFF;YAAA,EA9BJ;UAAA;QADF,EAVF;MAAA,EAFF;IAAA,EADF;EA4DD;;AAzMwD;;AA4M3D;AAEA,iEAAejF,qEAAW,CAAC4C,oBAAD,CAA1B;;AAEA,MAAM2C,YAAY,GAAG,8EAAOlD,gEAAP;EAAA;AAAA,MAAH,kBACAI,+DAAK,CAAC,IAAD,CADL,yBAAlB","sources":["webpack:///./app/utils/withPlugins.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/projectPlugins/details.tsx"],"sourcesContent":["import {Component} from 'react';\n\nimport {fetchPlugins} from 'sentry/actionCreators/plugins';\nimport PluginsStore from 'sentry/stores/pluginsStore';\nimport {Organization, Plugin, Project} from 'sentry/types';\nimport {defined} from 'sentry/utils';\nimport getDisplayName from 'sentry/utils/getDisplayName';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport withProject from 'sentry/utils/withProject';\n\ntype WithPluginProps = {\n  organization: Organization;\n  project?: Project;\n};\n\ntype State = {\n  loading: boolean;\n  plugins: Plugin[];\n};\n\n/**\n * Higher order component that fetches list of plugins and\n * passes PluginsStore to component as `plugins`\n */\nfunction withPlugins<P extends WithPluginProps>(\n  WrappedComponent: React.ComponentType<P>\n) {\n  class WithPlugins extends Component<Omit<P, keyof 'plugins'> & WithPluginProps, State> {\n    static displayName = `withPlugins(${getDisplayName(WrappedComponent)})`;\n    state = {plugins: [], loading: true};\n\n    componentDidMount() {\n      this.fetchPlugins();\n    }\n\n    componentDidUpdate(prevProps, _prevState, prevContext) {\n      const {organization, project} = this.props;\n\n      // Only fetch plugins when a org slug or project slug has changed\n      const prevOrg = prevProps.organization || prevContext?.organization;\n      const prevProject = prevProps.project || prevContext?.project;\n\n      // If previous org/project is undefined then it means:\n      // the HoC has mounted, `fetchPlugins` has been called (via cDM), and\n      // store was updated. We don't need to fetchPlugins again (or it will cause an infinite loop)\n      //\n      // This is for the unusual case where component is mounted and receives a new org/project prop\n      // e.g. when switching projects via breadcrumbs in settings.\n      if (!defined(prevProject) || !defined(prevOrg)) {\n        return;\n      }\n\n      const isOrgSame = prevOrg.slug === organization.slug;\n      const isProjectSame = prevProject.slug === project?.slug;\n\n      // Don't do anything if org and project are the same\n      if (isOrgSame && isProjectSame) {\n        return;\n      }\n\n      this.fetchPlugins();\n    }\n\n    componentWillUnmount() {\n      this.unsubscribe();\n    }\n\n    unsubscribe = PluginsStore.listen(({plugins, loading}: State) => {\n      // State is destructured as store updates contain additional keys\n      // that are not exposed by this HoC\n      this.setState({plugins, loading});\n    }, undefined);\n\n    fetchPlugins() {\n      const {organization, project} = this.props;\n\n      if (!project || !organization) {\n        return;\n      }\n\n      fetchPlugins({projectId: project.slug, orgId: organization.slug});\n    }\n\n    render() {\n      return (\n        <WrappedComponent {...(this.props as P & WithPluginProps)} plugins={this.state} />\n      );\n    }\n  }\n  return withOrganization(withProject(WithPlugins));\n}\n\nexport default withPlugins;\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n} from 'sentry/actionCreators/indicator';\nimport {disablePlugin, enablePlugin} from 'sentry/actionCreators/plugins';\nimport Button from 'sentry/components/button';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport PluginConfig from 'sentry/components/pluginConfig';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, Plugin, Project} from 'sentry/types';\nimport {trackIntegrationAnalytics} from 'sentry/utils/integrationUtil';\nimport withPlugins from 'sentry/utils/withPlugins';\nimport AsyncView from 'sentry/views/asyncView';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\n\ntype Props = {\n  organization: Organization;\n  plugins: {\n    plugins: Plugin[];\n  };\n  project: Project;\n} & RouteComponentProps<{orgId: string; pluginId: string; projectId: string}, {}>;\n\ntype State = {\n  pluginDetails?: Plugin;\n} & AsyncView['state'];\n\n/**\n * There are currently two sources of truths for plugin details:\n *\n * 1) PluginsStore has a list of plugins, and this is where ENABLED state lives\n * 2) We fetch \"plugin details\" via API and save it to local state as `pluginDetails`.\n *    This is because \"details\" call contains form `config` and the \"list\" endpoint does not.\n *    The more correct way would be to pass `config` to PluginConfig and use plugin from\n *    PluginsStore\n */\nclass ProjectPluginDetails extends AsyncView<Props, State> {\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    super.componentDidUpdate(prevProps, prevState);\n    if (prevProps.params.pluginId !== this.props.params.pluginId) {\n      this.recordDetailsViewed();\n    }\n  }\n  componentDidMount() {\n    this.recordDetailsViewed();\n  }\n\n  recordDetailsViewed() {\n    const {pluginId} = this.props.params;\n\n    trackIntegrationAnalytics('integrations.details_viewed', {\n      integration: pluginId,\n      integration_type: 'plugin',\n      view: 'plugin_details',\n      organization: this.props.organization,\n    });\n  }\n\n  getTitle() {\n    const {plugin} = this.state;\n    if (plugin && plugin.name) {\n      return plugin.name;\n    }\n    return 'Sentry';\n  }\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {projectId, orgId, pluginId} = this.props.params;\n    return [['pluginDetails', `/projects/${orgId}/${projectId}/plugins/${pluginId}/`]];\n  }\n\n  trimSchema(value) {\n    return value.split('//')[1];\n  }\n\n  handleReset = () => {\n    const {projectId, orgId, pluginId} = this.props.params;\n\n    addLoadingMessage(t('Saving changes\\u2026'));\n    trackIntegrationAnalytics('integrations.uninstall_clicked', {\n      integration: pluginId,\n      integration_type: 'plugin',\n      view: 'plugin_details',\n      organization: this.props.organization,\n    });\n\n    this.api.request(`/projects/${orgId}/${projectId}/plugins/${pluginId}/`, {\n      method: 'POST',\n      data: {reset: true},\n      success: pluginDetails => {\n        this.setState({pluginDetails});\n        addSuccessMessage(t('Plugin was reset'));\n        trackIntegrationAnalytics('integrations.uninstall_completed', {\n          integration: pluginId,\n          integration_type: 'plugin',\n          view: 'plugin_details',\n          organization: this.props.organization,\n        });\n      },\n      error: () => {\n        addErrorMessage(t('An error occurred'));\n      },\n    });\n  };\n\n  handleEnable = () => {\n    enablePlugin(this.props.params);\n    this.analyticsChangeEnableStatus(true);\n  };\n\n  handleDisable = () => {\n    disablePlugin(this.props.params);\n    this.analyticsChangeEnableStatus(false);\n  };\n\n  analyticsChangeEnableStatus = (enabled: boolean) => {\n    const {pluginId} = this.props.params;\n    const eventKey = enabled ? 'integrations.enabled' : 'integrations.disabled';\n    trackIntegrationAnalytics(eventKey, {\n      integration: pluginId,\n      integration_type: 'plugin',\n      view: 'plugin_details',\n      organization: this.props.organization,\n    });\n  };\n\n  // Enabled state is handled via PluginsStore and not via plugins detail\n  getEnabled() {\n    const {pluginDetails} = this.state;\n    const {plugins} = this.props;\n\n    const plugin =\n      plugins &&\n      plugins.plugins &&\n      plugins.plugins.find(({slug}) => slug === this.props.params.pluginId);\n\n    return plugin ? plugin.enabled : pluginDetails && pluginDetails.enabled;\n  }\n\n  renderActions() {\n    const {pluginDetails} = this.state;\n    if (!pluginDetails) {\n      return null;\n    }\n    const enabled = this.getEnabled();\n\n    const enable = (\n      <StyledButton size=\"sm\" onClick={this.handleEnable}>\n        {t('Enable Plugin')}\n      </StyledButton>\n    );\n\n    const disable = (\n      <StyledButton size=\"sm\" priority=\"danger\" onClick={this.handleDisable}>\n        {t('Disable Plugin')}\n      </StyledButton>\n    );\n\n    const toggleEnable = enabled ? disable : enable;\n\n    return (\n      <div className=\"pull-right\">\n        {pluginDetails.canDisable && toggleEnable}\n        <Button size=\"sm\" onClick={this.handleReset}>\n          {t('Reset Configuration')}\n        </Button>\n      </div>\n    );\n  }\n\n  renderBody() {\n    const {organization, project} = this.props;\n    const {pluginDetails} = this.state;\n    if (!pluginDetails) {\n      return null;\n    }\n\n    return (\n      <div>\n        <SettingsPageHeader title={pluginDetails.name} action={this.renderActions()} />\n        <div className=\"row\">\n          <div className=\"col-md-7\">\n            <PluginConfig\n              organization={organization}\n              project={project}\n              data={pluginDetails}\n              enabled={this.getEnabled()}\n              onDisablePlugin={this.handleDisable}\n            />\n          </div>\n          <div className=\"col-md-4 col-md-offset-1\">\n            <div className=\"pluginDetails-meta\">\n              <h4>{t('Plugin Information')}</h4>\n\n              <dl className=\"flat\">\n                <dt>{t('Name')}</dt>\n                <dd>{pluginDetails.name}</dd>\n                <dt>{t('Author')}</dt>\n                <dd>{pluginDetails.author?.name}</dd>\n                {pluginDetails.author?.url && (\n                  <div>\n                    <dt>{t('URL')}</dt>\n                    <dd>\n                      <ExternalLink href={pluginDetails.author.url}>\n                        {this.trimSchema(pluginDetails.author.url)}\n                      </ExternalLink>\n                    </dd>\n                  </div>\n                )}\n                <dt>{t('Version')}</dt>\n                <dd>{pluginDetails.version}</dd>\n              </dl>\n\n              {pluginDetails.description && (\n                <div>\n                  <h4>{t('Description')}</h4>\n                  <p className=\"description\">{pluginDetails.description}</p>\n                </div>\n              )}\n\n              {pluginDetails.resourceLinks && (\n                <div>\n                  <h4>{t('Resources')}</h4>\n                  <dl className=\"flat\">\n                    {pluginDetails.resourceLinks.map(({title, url}) => (\n                      <dd key={url}>\n                        <ExternalLink href={url}>{title}</ExternalLink>\n                      </dd>\n                    ))}\n                  </dl>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport {ProjectPluginDetails};\n\nexport default withPlugins(ProjectPluginDetails);\n\nconst StyledButton = styled(Button)`\n  margin-right: ${space(0.75)};\n`;\n"],"names":["Component","fetchPlugins","PluginsStore","defined","getDisplayName","withOrganization","withProject","withPlugins","WrappedComponent","WithPlugins","plugins","loading","listen","setState","undefined","componentDidMount","componentDidUpdate","prevProps","_prevState","prevContext","organization","project","props","prevOrg","prevProject","isOrgSame","slug","isProjectSame","componentWillUnmount","unsubscribe","projectId","orgId","render","state","AsyncComponent","SentryDocumentTitle","AsyncView","getTitle","renderComponent","addErrorMessage","addLoadingMessage","addSuccessMessage","disablePlugin","enablePlugin","Button","ExternalLink","PluginConfig","t","space","trackIntegrationAnalytics","SettingsPageHeader","ProjectPluginDetails","pluginId","params","integration","integration_type","view","api","request","method","data","reset","success","pluginDetails","error","analyticsChangeEnableStatus","enabled","eventKey","prevState","recordDetailsViewed","plugin","name","getEndpoints","trimSchema","value","split","getEnabled","find","renderActions","enable","handleEnable","disable","handleDisable","toggleEnable","canDisable","handleReset","renderBody","author","url","version","description","resourceLinks","map","title","StyledButton"],"sourceRoot":""}