{"version":3,"file":"chunks/app_components_searchBar_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/searchBar.tsx"],"sourcesContent":["import {useCallback, useRef, useState} from 'react';\nimport isPropValid from '@emotion/is-prop-valid';\nimport styled from '@emotion/styled';\n\nimport Button from 'sentry/components/button';\nimport Input, {InputProps} from 'sentry/components/input';\nimport {IconSearch} from 'sentry/icons';\nimport {IconClose} from 'sentry/icons/iconClose';\nimport {t} from 'sentry/locale';\n\ninterface SearchBarProps extends Omit<InputProps, 'onChange'> {\n  defaultQuery?: string;\n  onChange?: (query: string) => void;\n  onSearch?: (query: string) => void;\n  query?: string;\n  width?: string;\n}\n\nfunction SearchBar({\n  query: queryProp,\n  defaultQuery = '',\n  onChange,\n  onSearch,\n  width,\n  size,\n  className,\n  ...inputProps\n}: SearchBarProps) {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [query, setQuery] = useState(queryProp ?? defaultQuery);\n\n  const onQueryChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const {value} = e.target;\n      setQuery(value);\n      onChange?.(value);\n    },\n    [onChange]\n  );\n\n  const onSubmit = useCallback(\n    (e: React.FormEvent<HTMLFormElement>) => {\n      e.preventDefault();\n      inputRef.current?.blur();\n      onSearch?.(query);\n    },\n    [onSearch, query]\n  );\n\n  const clearSearch = useCallback(() => {\n    setQuery('');\n    onChange?.('');\n    onSearch?.('');\n  }, [onChange, onSearch]);\n\n  return (\n    <FormWrap onSubmit={onSubmit} className={className}>\n      <StyledInput\n        {...inputProps}\n        ref={inputRef}\n        type=\"text\"\n        name=\"query\"\n        autoComplete=\"off\"\n        value={query}\n        onChange={onQueryChange}\n        width={width}\n        size={size}\n        showClearButton={!!query}\n      />\n      <StyledIconSearch\n        color=\"subText\"\n        size={size === 'xs' ? 'xs' : 'sm'}\n        inputSize={size}\n      />\n      {!!query && (\n        <SearchClearButton\n          type=\"button\"\n          priority=\"link\"\n          onClick={clearSearch}\n          size=\"xs\"\n          icon={<IconClose size=\"xs\" />}\n          aria-label={t('Clear')}\n          inputSize={size}\n        />\n      )}\n    </FormWrap>\n  );\n}\n\nconst FormWrap = styled('form')`\n  display: block;\n  position: relative;\n`;\n\nconst StyledInput = styled(Input)<{showClearButton: boolean}>`\n  width: ${p => (p.width ? p.width : undefined)};\n  padding-left: ${p => `calc(\n    ${p.theme.formPadding[p.size ?? 'md'].paddingLeft}px * 1.5 +\n    ${p.theme.iconSizes.sm}\n  )`};\n\n  ${p =>\n    p.showClearButton &&\n    `\n      padding-right: calc(\n        ${p.theme.formPadding[p.size ?? 'md'].paddingRight}px * 1.5 +\n        ${p.theme.iconSizes.xs}\n      );\n    `}\n`;\n\nconst StyledIconSearch = styled(IconSearch, {\n  shouldForwardProp: prop => typeof prop === 'string' && isPropValid(prop),\n})<{inputSize: InputProps['size']}>`\n  position: absolute;\n  top: 50%;\n  left: ${p => p.theme.formPadding[p.inputSize ?? 'md'].paddingLeft}px;\n  transform: translateY(-50%);\n  pointer-events: none;\n`;\n\nconst SearchClearButton = styled(Button)<{inputSize: InputProps['size']}>`\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: ${p => p.theme.formPadding[p.inputSize ?? 'md'].paddingRight}px;\n  font-size: ${p => p.theme.fontSizeLarge};\n  color: ${p => p.theme.subText};\n\n  &:hover {\n    color: ${p => p.theme.textColor};\n  }\n`;\n\nexport default SearchBar;\n"],"names":["useCallback","useRef","useState","isPropValid","Button","Input","IconSearch","IconClose","t","SearchBar","query","queryProp","defaultQuery","onChange","onSearch","width","size","className","inputProps","inputRef","setQuery","onQueryChange","e","value","target","onSubmit","preventDefault","current","blur","clearSearch","FormWrap","StyledInput","p","undefined","theme","formPadding","paddingLeft","iconSizes","sm","showClearButton","paddingRight","xs","StyledIconSearch","shouldForwardProp","prop","inputSize","SearchClearButton","fontSizeLarge","subText","textColor"],"sourceRoot":""}