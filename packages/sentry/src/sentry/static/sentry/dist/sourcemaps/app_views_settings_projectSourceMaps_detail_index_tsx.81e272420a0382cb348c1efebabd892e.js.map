{"version":3,"file":"chunks/app_views_settings_projectSourceMaps_detail_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/acl/role.tsx","webpack:///./app/utils/routeTitle.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/projectSourceMaps/detail/index.tsx","webpack:///./app/views/settings/projectSourceMaps/detail/sourceMapsArtifactRow.tsx"],"sourcesContent":["import {useMemo} from 'react';\n\nimport ConfigStore from 'sentry/stores/configStore';\nimport {Organization, User} from 'sentry/types';\nimport {isActiveSuperuser} from 'sentry/utils/isActiveSuperuser';\nimport {isRenderFunc} from 'sentry/utils/isRenderFunc';\nimport withOrganization from 'sentry/utils/withOrganization';\n\ntype RoleRenderProps = {\n  hasRole: boolean;\n};\n\ntype ChildrenRenderFn = (props: RoleRenderProps) => React.ReactElement | null;\n\nfunction checkUserRole(user: User, organization: Organization, role: RoleProps['role']) {\n  if (!user) {\n    return false;\n  }\n\n  if (isActiveSuperuser()) {\n    return true;\n  }\n\n  if (!Array.isArray(organization.orgRoleList)) {\n    return false;\n  }\n\n  const roleIds = organization.orgRoleList.map(r => r.id);\n\n  if (!roleIds.includes(role) || !roleIds.includes(organization.role ?? '')) {\n    return false;\n  }\n\n  const requiredIndex = roleIds.indexOf(role);\n  const currentIndex = roleIds.indexOf(organization.role ?? '');\n  return currentIndex >= requiredIndex;\n}\n\ninterface RoleProps {\n  /**\n   * If children is a function then will be treated as a render prop and\n   * passed RoleRenderProps.\n   *\n   * The other interface is more simple, only show `children` if user has\n   * the minimum required role.\n   */\n  children: React.ReactElement | ChildrenRenderFn;\n  /**\n   * Current Organization\n   */\n  organization: Organization;\n  /**\n   * Minimum required role\n   */\n  role: string;\n}\n\nfunction Role({role, organization, children}: RoleProps): React.ReactElement | null {\n  const user = ConfigStore.get('user');\n\n  const hasRole = useMemo(\n    () => checkUserRole(user, organization, role),\n    // It seems that this returns a stable reference, but\n    [organization, role, user]\n  );\n\n  if (isRenderFunc<ChildrenRenderFn>(children)) {\n    return children({hasRole});\n  }\n\n  return hasRole ? children : null;\n}\n\nconst withOrganizationRole = withOrganization(Role);\n\nexport {withOrganizationRole as Role};\n","function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true,\n  projectSlug?: string\n): string {\n  const tmplBase = `${routeName} - ${orgSlug}`;\n  const tmpl = projectSlug ? `${tmplBase} - ${projectSlug}` : tmplBase;\n\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {Fragment} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n} from 'sentry/actionCreators/indicator';\nimport Access from 'sentry/components/acl/access';\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport Confirm from 'sentry/components/confirm';\nimport Pagination from 'sentry/components/pagination';\nimport {PanelTable} from 'sentry/components/panels';\nimport SearchBar from 'sentry/components/searchBar';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport Tooltip from 'sentry/components/tooltip';\nimport Version from 'sentry/components/version';\nimport {IconDelete} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Artifact, Organization, Project} from 'sentry/types';\nimport {formatVersion} from 'sentry/utils/formatters';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport routeTitleGen from 'sentry/utils/routeTitle';\nimport AsyncView from 'sentry/views/asyncView';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\n\nimport SourceMapsArtifactRow from './sourceMapsArtifactRow';\n\ntype RouteParams = {name: string; orgId: string; projectId: string};\n\ntype Props = RouteComponentProps<RouteParams, {}> & {\n  organization: Organization;\n  project: Project;\n};\n\ntype State = AsyncView['state'] & {\n  artifacts: Artifact[];\n};\n\nclass ProjectSourceMapsDetail extends AsyncView<Props, State> {\n  getTitle() {\n    const {projectId, name} = this.props.params;\n\n    return routeTitleGen(t('Archive %s', formatVersion(name)), projectId, false);\n  }\n\n  getDefaultState(): State {\n    return {\n      ...super.getDefaultState(),\n      artifacts: [],\n    };\n  }\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    return [['artifacts', this.getArtifactsUrl(), {query: {query: this.getQuery()}}]];\n  }\n\n  getArtifactsUrl() {\n    const {orgId, projectId, name} = this.props.params;\n\n    return `/projects/${orgId}/${projectId}/releases/${encodeURIComponent(name)}/files/`;\n  }\n\n  handleSearch = (query: string) => {\n    const {location, router} = this.props;\n\n    router.push({\n      ...location,\n      query: {...location.query, cursor: undefined, query},\n    });\n  };\n\n  handleArtifactDelete = async (id: string) => {\n    addLoadingMessage(t('Removing artifact\\u2026'));\n\n    try {\n      await this.api.requestPromise(`${this.getArtifactsUrl()}${id}/`, {\n        method: 'DELETE',\n      });\n      this.fetchData();\n      addSuccessMessage(t('Artifact removed.'));\n    } catch {\n      addErrorMessage(t('Unable to remove artifact. Please try again.'));\n    }\n  };\n\n  handleArchiveDelete = async () => {\n    const {orgId, projectId, name} = this.props.params;\n\n    addLoadingMessage(t('Removing artifacts\\u2026'));\n\n    try {\n      await this.api.requestPromise(\n        `/projects/${orgId}/${projectId}/files/source-maps/`,\n        {\n          method: 'DELETE',\n          query: {name},\n        }\n      );\n      this.fetchData();\n      addSuccessMessage(t('Artifacts removed.'));\n    } catch {\n      addErrorMessage(t('Unable to remove artifacts. Please try again.'));\n    }\n  };\n\n  getQuery() {\n    const {query} = this.props.location.query;\n\n    return decodeScalar(query);\n  }\n\n  getEmptyMessage() {\n    if (this.getQuery()) {\n      return t('There are no artifacts that match your search.');\n    }\n\n    return t('There are no artifacts in this archive.');\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderArtifacts() {\n    const {organization} = this.props;\n    const {artifacts} = this.state;\n    const artifactApiUrl = this.api.baseUrl + this.getArtifactsUrl();\n\n    if (!artifacts.length) {\n      return null;\n    }\n\n    return artifacts.map(artifact => {\n      return (\n        <SourceMapsArtifactRow\n          key={artifact.id}\n          artifact={artifact}\n          onDelete={this.handleArtifactDelete}\n          downloadUrl={`${artifactApiUrl}${artifact.id}/?download=1`}\n          downloadRole={organization.debugFilesRole}\n          orgSlug={organization.slug}\n        />\n      );\n    });\n  }\n\n  renderBody() {\n    const {loading, artifacts, artifactsPageLinks} = this.state;\n    const {name, orgId} = this.props.params;\n    const {project} = this.props;\n\n    return (\n      <Fragment>\n        <StyledSettingsPageHeader\n          title={\n            <Title>\n              {t('Archive')}&nbsp;\n              <TextOverflow>\n                <Version version={name} tooltipRawVersion anchor={false} truncate />\n              </TextOverflow>\n            </Title>\n          }\n          action={\n            <StyledButtonBar gap={1}>\n              <ReleaseButton\n                to={`/organizations/${orgId}/releases/${encodeURIComponent(\n                  name\n                )}/?project=${project.id}`}\n              >\n                {t('Go to Release')}\n              </ReleaseButton>\n              <Access access={['project:releases']}>\n                {({hasAccess}) => (\n                  <Tooltip\n                    disabled={hasAccess}\n                    title={t('You do not have permission to delete artifacts.')}\n                  >\n                    <Confirm\n                      message={t(\n                        'Are you sure you want to remove all artifacts in this archive?'\n                      )}\n                      onConfirm={this.handleArchiveDelete}\n                      disabled={!hasAccess}\n                    >\n                      <Button\n                        icon={<IconDelete size=\"sm\" />}\n                        title={t('Remove All Artifacts')}\n                        aria-label={t('Remove All Artifacts')}\n                        disabled={!hasAccess}\n                      />\n                    </Confirm>\n                  </Tooltip>\n                )}\n              </Access>\n\n              <SearchBar\n                placeholder={t('Filter artifacts')}\n                onSearch={this.handleSearch}\n                query={this.getQuery()}\n              />\n            </StyledButtonBar>\n          }\n        />\n\n        <StyledPanelTable\n          headers={[\n            t('Artifact'),\n            <SizeColumn key=\"size\">{t('File Size')}</SizeColumn>,\n            '',\n          ]}\n          emptyMessage={this.getEmptyMessage()}\n          isEmpty={artifacts.length === 0}\n          isLoading={loading}\n        >\n          {this.renderArtifacts()}\n        </StyledPanelTable>\n        <Pagination pageLinks={artifactsPageLinks} />\n      </Fragment>\n    );\n  }\n}\n\nconst StyledSettingsPageHeader = styled(SettingsPageHeader)`\n  /*\n    ugly selector to make header work on mobile\n    we can refactor this once we start making other settings more responsive\n  */\n  > div {\n    @media (max-width: ${p => p.theme.breakpoints.large}) {\n      display: block;\n    }\n    > div {\n      min-width: 0;\n      @media (max-width: ${p => p.theme.breakpoints.large}) {\n        margin-bottom: ${space(2)};\n      }\n    }\n  }\n`;\n\nconst Title = styled('div')`\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledButtonBar = styled(ButtonBar)`\n  justify-content: flex-start;\n`;\n\nconst StyledPanelTable = styled(PanelTable)`\n  grid-template-columns: minmax(220px, 1fr) max-content 120px;\n`;\n\nconst ReleaseButton = styled(Button)`\n  white-space: nowrap;\n`;\n\nconst SizeColumn = styled('div')`\n  text-align: right;\n`;\n\nexport default ProjectSourceMapsDetail;\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport Access from 'sentry/components/acl/access';\nimport {Role} from 'sentry/components/acl/role';\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport Confirm from 'sentry/components/confirm';\nimport FileSize from 'sentry/components/fileSize';\nimport Link from 'sentry/components/links/link';\nimport Tag from 'sentry/components/tag';\nimport TimeSince from 'sentry/components/timeSince';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconClock, IconDelete, IconDownload} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Artifact} from 'sentry/types';\n\ntype Props = {\n  artifact: Artifact;\n  downloadRole: string;\n  downloadUrl: string;\n  onDelete: (id: string) => void;\n  orgSlug: string;\n};\n\nconst SourceMapsArtifactRow = ({\n  artifact,\n  onDelete,\n  downloadUrl,\n  downloadRole,\n  orgSlug,\n}: Props) => {\n  const {name, size, dateCreated, id, dist} = artifact;\n\n  const handleDeleteClick = () => {\n    onDelete(id);\n  };\n\n  return (\n    <Fragment>\n      <NameColumn>\n        <Name>{name || `(${t('empty')})`}</Name>\n        <TimeAndDistWrapper>\n          <TimeWrapper>\n            <IconClock size=\"sm\" />\n            <TimeSince date={dateCreated} />\n          </TimeWrapper>\n          <StyledTag\n            type={dist ? 'info' : undefined}\n            tooltipText={dist ? undefined : t('No distribution set')}\n          >\n            {dist ?? t('none')}\n          </StyledTag>\n        </TimeAndDistWrapper>\n      </NameColumn>\n      <SizeColumn>\n        <FileSize bytes={size} />\n      </SizeColumn>\n      <ActionsColumn>\n        <ButtonBar gap={0.5}>\n          <Role role={downloadRole}>\n            {({hasRole}) => (\n              <Tooltip\n                title={tct(\n                  'Artifacts can only be downloaded by users with organization [downloadRole] role[orHigher]. This can be changed in [settingsLink:Debug Files Access] settings.',\n                  {\n                    downloadRole,\n                    orHigher: downloadRole !== 'owner' ? ` ${t('or higher')}` : '',\n                    settingsLink: <Link to={`/settings/${orgSlug}/#debugFilesRole`} />,\n                  }\n                )}\n                disabled={hasRole}\n                isHoverable\n              >\n                <Button\n                  size=\"sm\"\n                  icon={<IconDownload size=\"sm\" />}\n                  disabled={!hasRole}\n                  href={downloadUrl}\n                  title={hasRole ? t('Download Artifact') : undefined}\n                  aria-label={t('Download Artifact')}\n                />\n              </Tooltip>\n            )}\n          </Role>\n\n          <Access access={['project:releases']}>\n            {({hasAccess}) => (\n              <Tooltip\n                disabled={hasAccess}\n                title={t('You do not have permission to delete artifacts.')}\n              >\n                <Confirm\n                  message={t('Are you sure you want to remove this artifact?')}\n                  onConfirm={handleDeleteClick}\n                  disabled={!hasAccess}\n                >\n                  <Button\n                    size=\"sm\"\n                    icon={<IconDelete size=\"sm\" />}\n                    title={hasAccess ? t('Remove Artifact') : undefined}\n                    aria-label={t('Remove Artifact')}\n                    disabled={!hasAccess}\n                  />\n                </Confirm>\n              </Tooltip>\n            )}\n          </Access>\n        </ButtonBar>\n      </ActionsColumn>\n    </Fragment>\n  );\n};\n\nconst NameColumn = styled('div')`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n`;\n\nconst SizeColumn = styled('div')`\n  display: flex;\n  justify-content: flex-end;\n  text-align: right;\n  align-items: center;\n`;\n\nconst ActionsColumn = styled(SizeColumn)``;\n\nconst Name = styled('div')`\n  padding-right: ${space(4)};\n  overflow-wrap: break-word;\n  word-break: break-all;\n`;\n\nconst TimeAndDistWrapper = styled('div')`\n  width: 100%;\n  display: flex;\n  margin-top: ${space(1)};\n  align-items: center;\n`;\n\nconst TimeWrapper = styled('div')`\n  display: grid;\n  gap: ${space(0.5)};\n  grid-template-columns: min-content 1fr;\n  font-size: ${p => p.theme.fontSizeMedium};\n  align-items: center;\n  color: ${p => p.theme.subText};\n`;\n\nconst StyledTag = styled(Tag)`\n  margin-left: ${space(1)};\n`;\n\nexport default SourceMapsArtifactRow;\n"],"names":["useMemo","ConfigStore","isActiveSuperuser","isRenderFunc","withOrganization","checkUserRole","user","organization","role","Array","isArray","orgRoleList","roleIds","map","r","id","includes","requiredIndex","indexOf","currentIndex","Role","children","get","hasRole","withOrganizationRole","routeTitleGen","routeName","orgSlug","withSentry","projectSlug","tmplBase","tmpl","AsyncComponent","SentryDocumentTitle","AsyncView","getTitle","render","renderComponent","Fragment","addErrorMessage","addLoadingMessage","addSuccessMessage","Access","Button","ButtonBar","Confirm","Pagination","PanelTable","SearchBar","TextOverflow","Tooltip","Version","IconDelete","t","space","formatVersion","decodeScalar","SettingsPageHeader","SourceMapsArtifactRow","ProjectSourceMapsDetail","query","location","router","props","push","cursor","undefined","api","requestPromise","getArtifactsUrl","method","fetchData","orgId","projectId","name","params","getDefaultState","artifacts","getEndpoints","getQuery","encodeURIComponent","getEmptyMessage","renderLoading","renderBody","renderArtifacts","state","artifactApiUrl","baseUrl","length","artifact","handleArtifactDelete","debugFilesRole","slug","loading","artifactsPageLinks","project","hasAccess","handleArchiveDelete","handleSearch","StyledSettingsPageHeader","p","theme","breakpoints","large","Title","StyledButtonBar","StyledPanelTable","ReleaseButton","SizeColumn","FileSize","Link","Tag","TimeSince","IconClock","IconDownload","tct","onDelete","downloadUrl","downloadRole","size","dateCreated","dist","handleDeleteClick","orHigher","settingsLink","NameColumn","ActionsColumn","Name","TimeAndDistWrapper","TimeWrapper","fontSizeMedium","subText","StyledTag"],"sourceRoot":""}