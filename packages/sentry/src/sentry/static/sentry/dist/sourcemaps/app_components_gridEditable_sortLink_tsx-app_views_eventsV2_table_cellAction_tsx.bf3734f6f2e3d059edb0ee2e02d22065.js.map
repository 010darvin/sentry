{"version":3,"file":"chunks/app_components_gridEditable_sortLink_tsx-app_views_eventsV2_table_cellAction_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/gridEditable/sortLink.tsx","webpack:///./app/views/eventsV2/table/cellAction.tsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport {LocationDescriptorObject} from 'history';\nimport omit from 'lodash/omit';\n\nimport Link from 'sentry/components/links/link';\nimport {IconArrow} from 'sentry/icons';\n\nexport type Alignments = 'left' | 'right' | undefined;\nexport type Directions = 'desc' | 'asc' | undefined;\n\ntype Props = {\n  align: Alignments;\n  canSort: boolean;\n  direction: Directions;\n  generateSortLink: () => LocationDescriptorObject | undefined;\n\n  title: React.ReactNode;\n  onClick?: (e: React.MouseEvent<HTMLAnchorElement>) => void;\n};\n\nfunction SortLink({align, title, canSort, generateSortLink, onClick, direction}: Props) {\n  const target = generateSortLink();\n\n  if (!target || !canSort) {\n    return <StyledNonLink align={align}>{title}</StyledNonLink>;\n  }\n\n  const arrow = !direction ? null : (\n    <StyledIconArrow size=\"xs\" direction={direction === 'desc' ? 'down' : 'up'} />\n  );\n\n  return (\n    <StyledLink align={align} to={target} onClick={onClick}>\n      {title} {arrow}\n    </StyledLink>\n  );\n}\n\ntype LinkProps = React.ComponentPropsWithoutRef<typeof Link>;\ntype StyledLinkProps = LinkProps & {align: Alignments};\n\nconst StyledLink = styled((props: StyledLinkProps) => {\n  const forwardProps = omit(props, ['align']);\n  return <Link {...forwardProps} />;\n})`\n  display: block;\n  width: 100%;\n  white-space: nowrap;\n  color: inherit;\n\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: inherit;\n  }\n\n  ${(p: StyledLinkProps) => (p.align ? `text-align: ${p.align};` : '')}\n`;\n\nconst StyledNonLink = styled('div')<{align: Alignments}>`\n  display: block;\n  width: 100%;\n  white-space: nowrap;\n  ${(p: {align: Alignments}) => (p.align ? `text-align: ${p.align};` : '')}\n`;\n\nconst StyledIconArrow = styled(IconArrow)`\n  vertical-align: top;\n`;\n\nexport default SortLink;\n","import {Component} from 'react';\nimport {createPortal} from 'react-dom';\nimport {Manager, Popper, Reference} from 'react-popper';\nimport styled from '@emotion/styled';\nimport color from 'color';\n\nimport {IconEllipsis} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {defined} from 'sentry/utils';\nimport {TableDataRow} from 'sentry/utils/discover/discoverQuery';\nimport {\n  isEquationAlias,\n  isRelativeSpanOperationBreakdownField,\n} from 'sentry/utils/discover/fields';\nimport {getDuration} from 'sentry/utils/formatters';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\n\nimport {TableColumn} from './types';\n\nexport enum Actions {\n  ADD = 'add',\n  EXCLUDE = 'exclude',\n  SHOW_GREATER_THAN = 'show_greater_than',\n  SHOW_LESS_THAN = 'show_less_than',\n  TRANSACTION = 'transaction',\n  RELEASE = 'release',\n  DRILLDOWN = 'drilldown',\n  EDIT_THRESHOLD = 'edit_threshold',\n}\n\nexport function updateQuery(\n  results: MutableSearch,\n  action: Actions,\n  column: TableColumn<keyof TableDataRow>,\n  value: React.ReactText | string[]\n) {\n  const key = column.name;\n\n  if (column.type === 'duration' && typeof value === 'number') {\n    // values are assumed to be in milliseconds\n    value = getDuration(value / 1000, 2, true);\n  }\n\n  // De-duplicate array values\n  if (Array.isArray(value)) {\n    value = [...new Set(value)];\n    if (value.length === 1) {\n      value = value[0];\n    }\n  }\n\n  switch (action) {\n    case Actions.ADD:\n      // If the value is null/undefined create a has !has condition.\n      if (value === null || value === undefined) {\n        // Adding a null value is the same as excluding truthy values.\n        // Remove inclusion if it exists.\n        results.removeFilterValue('has', key);\n        results.addFilterValues('!has', [key]);\n      } else {\n        // Remove exclusion if it exists.\n        results.removeFilter(`!${key}`);\n\n        if (Array.isArray(value)) {\n          // For array values, add to existing filters\n          const currentFilters = results.getFilterValues(key);\n          value = [...new Set([...currentFilters, ...value])];\n        } else {\n          value = [String(value)];\n        }\n\n        results.setFilterValues(key, value);\n      }\n      break;\n    case Actions.EXCLUDE:\n      if (value === null || value === undefined) {\n        // Excluding a null value is the same as including truthy values.\n        // Remove exclusion if it exists.\n        results.removeFilterValue('!has', key);\n        results.addFilterValues('has', [key]);\n      } else {\n        // Remove positive if it exists.\n        results.removeFilter(key);\n        // Negations should stack up.\n        const negation = `!${key}`;\n        value = Array.isArray(value) ? value : [String(value)];\n        const currentNegations = results.getFilterValues(negation);\n        value = [...new Set([...currentNegations, ...value])];\n        results.setFilterValues(negation, value);\n      }\n      break;\n    case Actions.SHOW_GREATER_THAN: {\n      // Remove query token if it already exists\n      results.setFilterValues(key, [`>${value}`]);\n      break;\n    }\n    case Actions.SHOW_LESS_THAN: {\n      // Remove query token if it already exists\n      results.setFilterValues(key, [`<${value}`]);\n      break;\n    }\n    // these actions do not modify the query in any way,\n    // instead they have side effects\n    case Actions.TRANSACTION:\n    case Actions.RELEASE:\n    case Actions.DRILLDOWN:\n      break;\n    default:\n      throw new Error(`Unknown action type. ${action}`);\n  }\n}\n\ntype CellActionsOpts = {\n  column: TableColumn<keyof TableDataRow>;\n  dataRow: TableDataRow;\n  handleCellAction: (action: Actions, value: React.ReactText) => void;\n  /**\n   * allow list of actions to display on the context menu\n   */\n  allowActions?: Actions[];\n};\n\nfunction makeCellActions({\n  dataRow,\n  column,\n  handleCellAction,\n  allowActions,\n}: CellActionsOpts) {\n  // Do not render context menu buttons for the span op breakdown field.\n  if (isRelativeSpanOperationBreakdownField(column.name)) {\n    return null;\n  }\n\n  // Do not render context menu buttons for the equation fields until we can query on them\n  if (isEquationAlias(column.name)) {\n    return null;\n  }\n\n  let value = dataRow[column.name];\n\n  // error.handled is a strange field where null = true.\n  if (\n    Array.isArray(value) &&\n    value[0] === null &&\n    column.column.kind === 'field' &&\n    column.column.field === 'error.handled'\n  ) {\n    value = 1;\n  }\n  const actions: React.ReactNode[] = [];\n\n  function addMenuItem(action: Actions, menuItem: React.ReactNode) {\n    if ((Array.isArray(allowActions) && allowActions.includes(action)) || !allowActions) {\n      actions.push(menuItem);\n    }\n  }\n\n  if (\n    !['duration', 'number', 'percentage'].includes(column.type) ||\n    (value === null && column.column.kind === 'field')\n  ) {\n    addMenuItem(\n      Actions.ADD,\n      <ActionItem\n        key=\"add-to-filter\"\n        data-test-id=\"add-to-filter\"\n        onClick={() => handleCellAction(Actions.ADD, value)}\n      >\n        {t('Add to filter')}\n      </ActionItem>\n    );\n\n    if (column.type !== 'date') {\n      addMenuItem(\n        Actions.EXCLUDE,\n        <ActionItem\n          key=\"exclude-from-filter\"\n          data-test-id=\"exclude-from-filter\"\n          onClick={() => handleCellAction(Actions.EXCLUDE, value)}\n        >\n          {t('Exclude from filter')}\n        </ActionItem>\n      );\n    }\n  }\n\n  if (\n    ['date', 'duration', 'integer', 'number', 'percentage'].includes(column.type) &&\n    value !== null\n  ) {\n    addMenuItem(\n      Actions.SHOW_GREATER_THAN,\n      <ActionItem\n        key=\"show-values-greater-than\"\n        data-test-id=\"show-values-greater-than\"\n        onClick={() => handleCellAction(Actions.SHOW_GREATER_THAN, value)}\n      >\n        {t('Show values greater than')}\n      </ActionItem>\n    );\n\n    addMenuItem(\n      Actions.SHOW_LESS_THAN,\n      <ActionItem\n        key=\"show-values-less-than\"\n        data-test-id=\"show-values-less-than\"\n        onClick={() => handleCellAction(Actions.SHOW_LESS_THAN, value)}\n      >\n        {t('Show values less than')}\n      </ActionItem>\n    );\n  }\n\n  if (column.column.kind === 'field' && column.column.field === 'transaction') {\n    addMenuItem(\n      Actions.TRANSACTION,\n      <ActionItem\n        key=\"transaction-summary\"\n        data-test-id=\"transaction-summary\"\n        onClick={() => handleCellAction(Actions.TRANSACTION, value)}\n      >\n        {t('Go to summary')}\n      </ActionItem>\n    );\n  }\n\n  if (column.column.kind === 'field' && column.column.field === 'release' && value) {\n    addMenuItem(\n      Actions.RELEASE,\n      <ActionItem\n        key=\"release\"\n        data-test-id=\"release\"\n        onClick={() => handleCellAction(Actions.RELEASE, value)}\n      >\n        {t('Go to release')}\n      </ActionItem>\n    );\n  }\n\n  if (column.column.kind === 'function' && column.column.function[0] === 'count_unique') {\n    addMenuItem(\n      Actions.DRILLDOWN,\n      <ActionItem\n        key=\"drilldown\"\n        data-test-id=\"per-cell-drilldown\"\n        onClick={() => handleCellAction(Actions.DRILLDOWN, value)}\n      >\n        {t('View Stacks')}\n      </ActionItem>\n    );\n  }\n\n  if (\n    column.column.kind === 'function' &&\n    column.column.function[0] === 'user_misery' &&\n    defined(dataRow.project_threshold_config)\n  ) {\n    addMenuItem(\n      Actions.EDIT_THRESHOLD,\n      <ActionItem\n        key=\"edit_threshold\"\n        data-test-id=\"edit-threshold\"\n        onClick={() => handleCellAction(Actions.EDIT_THRESHOLD, value)}\n      >\n        {tct('Edit threshold ([threshold]ms)', {\n          threshold: dataRow.project_threshold_config[1],\n        })}\n      </ActionItem>\n    );\n  }\n\n  if (actions.length === 0) {\n    return null;\n  }\n\n  return actions;\n}\n\ntype Props = React.PropsWithoutRef<CellActionsOpts>;\n\ntype State = {\n  isHovering: boolean;\n  isOpen: boolean;\n};\n\nclass CellAction extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    let portal = document.getElementById('cell-action-portal');\n    if (!portal) {\n      portal = document.createElement('div');\n      portal.setAttribute('id', 'cell-action-portal');\n      document.body.appendChild(portal);\n    }\n    this.portalEl = portal;\n    this.menuEl = null;\n  }\n\n  state: State = {\n    isHovering: false,\n    isOpen: false,\n  };\n\n  componentDidUpdate(_props: Props, prevState: State) {\n    if (this.state.isOpen && prevState.isOpen === false) {\n      document.addEventListener('click', this.handleClickOutside, true);\n    }\n    if (this.state.isOpen === false && prevState.isOpen) {\n      document.removeEventListener('click', this.handleClickOutside, true);\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleClickOutside, true);\n  }\n\n  private portalEl: Element;\n  private menuEl: Element | null;\n\n  handleClickOutside = (event: MouseEvent) => {\n    if (!this.menuEl) {\n      return;\n    }\n    if (!(event.target instanceof Element)) {\n      return;\n    }\n    if (this.menuEl.contains(event.target)) {\n      return;\n    }\n    this.setState({isOpen: false, isHovering: false});\n  };\n\n  handleMouseEnter = () => {\n    this.setState({isHovering: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState(state => {\n      // Don't hide the button if the menu is open.\n      if (state.isOpen) {\n        return state;\n      }\n      return {...state, isHovering: false};\n    });\n  };\n\n  handleMenuToggle = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    this.setState({isOpen: !this.state.isOpen});\n  };\n\n  renderMenu() {\n    const {isOpen} = this.state;\n\n    const actions = makeCellActions(this.props);\n\n    if (actions === null) {\n      // do not render the menu if there are no per cell actions\n      return null;\n    }\n\n    const modifiers = [\n      {\n        name: 'hide',\n        enabled: false,\n      },\n      {\n        name: 'preventOverflow',\n        enabled: true,\n        options: {\n          padding: 10,\n          altAxis: true,\n        },\n      },\n      {\n        name: 'offset',\n        options: {\n          offset: [0, ARROW_SIZE / 2],\n        },\n      },\n      {\n        name: 'computeStyles',\n        options: {\n          // Using the `transform` attribute causes our borders to get blurry\n          // in chrome. See [0]. This just causes it to use `top` / `left`\n          // positions, which should be fine.\n          //\n          // [0]: https://stackoverflow.com/questions/29543142/css3-transformation-blurry-borders\n          gpuAcceleration: false,\n        },\n      },\n    ];\n\n    const menu = !isOpen\n      ? null\n      : createPortal(\n          <Popper placement=\"top\" modifiers={modifiers}>\n            {({ref: popperRef, style, placement, arrowProps}) => (\n              <Menu\n                ref={ref => {\n                  (popperRef as Function)(ref);\n                  this.menuEl = ref;\n                }}\n                style={style}\n              >\n                <MenuArrow\n                  ref={arrowProps.ref}\n                  data-placement={placement}\n                  style={arrowProps.style}\n                />\n                <MenuButtons onClick={event => event.stopPropagation()}>\n                  {actions}\n                </MenuButtons>\n              </Menu>\n            )}\n          </Popper>,\n          this.portalEl\n        );\n\n    return (\n      <MenuRoot>\n        <Manager>\n          <Reference>\n            {({ref}) => (\n              <MenuButton ref={ref} onClick={this.handleMenuToggle}>\n                <IconEllipsis size=\"sm\" data-test-id=\"cell-action\" color=\"blue300\" />\n              </MenuButton>\n            )}\n          </Reference>\n          {menu}\n        </Manager>\n      </MenuRoot>\n    );\n  }\n\n  render() {\n    const {children} = this.props;\n    const {isHovering} = this.state;\n\n    return (\n      <Container\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n      >\n        {children}\n        {isHovering && this.renderMenu()}\n      </Container>\n    );\n  }\n}\n\nexport default CellAction;\n\nconst Container = styled('div')`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst MenuRoot = styled('div')`\n  position: absolute;\n  top: 0;\n  right: 0;\n`;\n\nconst Menu = styled('div')`\n  z-index: ${p => p.theme.zIndex.tooltip};\n`;\n\nconst MenuButtons = styled('div')`\n  background: ${p => p.theme.background};\n  border: 1px solid ${p => p.theme.border};\n  border-radius: ${p => p.theme.borderRadius};\n  box-shadow: ${p => p.theme.dropShadowHeavy};\n  overflow: hidden;\n`;\n\nconst ARROW_SIZE = 12;\n\nconst MenuArrow = styled('span')`\n  pointer-events: none;\n  position: absolute;\n  width: ${ARROW_SIZE}px;\n  height: ${ARROW_SIZE}px;\n\n  &::before,\n  &::after {\n    content: '';\n    display: block;\n    position: absolute;\n    height: ${ARROW_SIZE}px;\n    width: ${ARROW_SIZE}px;\n    border: solid 6px transparent;\n  }\n\n  &[data-placement|='bottom'] {\n    top: -${ARROW_SIZE}px;\n    &::before {\n      bottom: 1px;\n      border-bottom-color: ${p => p.theme.translucentBorder};\n    }\n    &::after {\n      border-bottom-color: ${p => p.theme.backgroundElevated};\n    }\n  }\n\n  &[data-placement|='top'] {\n    bottom: -${ARROW_SIZE}px;\n    &::before {\n      top: 1px;\n      border-top-color: ${p => p.theme.translucentBorder};\n    }\n    &::after {\n      border-top-color: ${p => p.theme.backgroundElevated};\n    }\n  }\n\n  &[data-placement|='right'] {\n    left: -${ARROW_SIZE}px;\n    &::before {\n      right: 1px;\n      border-right-color: ${p => p.theme.translucentBorder};\n    }\n    &::after {\n      border-right-color: ${p => p.theme.backgroundElevated};\n    }\n  }\n\n  &[data-placement|='left'] {\n    right: -${ARROW_SIZE}px;\n    &::before {\n      left: 1px;\n      border-left-color: ${p => p.theme.translucentBorder};\n    }\n    &::after {\n      border-left-color: ${p => p.theme.backgroundElevated};\n    }\n  }\n`;\n\nconst ActionItem = styled('button')`\n  display: block;\n  width: 100%;\n  padding: ${space(1)} ${space(2)};\n  background: transparent;\n\n  outline: none;\n  border: 0;\n  border-bottom: 1px solid ${p => p.theme.innerBorder};\n\n  font-size: ${p => p.theme.fontSizeMedium};\n  text-align: left;\n  line-height: 1.2;\n\n  &:hover {\n    background: ${p => p.theme.backgroundSecondary};\n  }\n\n  &:last-child {\n    border-bottom: 0;\n  }\n`;\n\nconst MenuButton = styled('button')`\n  display: flex;\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  justify-content: center;\n  align-items: center;\n\n  background: ${p => color(p.theme.background).alpha(0.85).string()};\n  border-radius: ${p => p.theme.borderRadius};\n  border: 1px solid ${p => p.theme.border};\n  cursor: pointer;\n  outline: none;\n`;\n"],"names":["omit","Link","IconArrow","SortLink","align","title","canSort","generateSortLink","onClick","direction","target","arrow","StyledLink","props","forwardProps","p","StyledNonLink","StyledIconArrow","Component","createPortal","Manager","Popper","Reference","color","IconEllipsis","t","tct","space","defined","isEquationAlias","isRelativeSpanOperationBreakdownField","getDuration","Actions","updateQuery","results","action","column","value","key","name","type","Array","isArray","Set","length","ADD","undefined","removeFilterValue","addFilterValues","removeFilter","currentFilters","getFilterValues","String","setFilterValues","EXCLUDE","negation","currentNegations","SHOW_GREATER_THAN","SHOW_LESS_THAN","TRANSACTION","RELEASE","DRILLDOWN","Error","makeCellActions","dataRow","handleCellAction","allowActions","kind","field","actions","addMenuItem","menuItem","includes","push","function","project_threshold_config","EDIT_THRESHOLD","threshold","CellAction","constructor","isHovering","isOpen","event","menuEl","Element","contains","setState","state","preventDefault","portal","document","getElementById","createElement","setAttribute","body","appendChild","portalEl","componentDidUpdate","_props","prevState","addEventListener","handleClickOutside","removeEventListener","componentWillUnmount","renderMenu","modifiers","enabled","options","padding","altAxis","offset","ARROW_SIZE","gpuAcceleration","menu","ref","popperRef","style","placement","arrowProps","stopPropagation","handleMenuToggle","render","children","handleMouseEnter","handleMouseLeave","Container","MenuRoot","Menu","theme","zIndex","tooltip","MenuButtons","background","border","borderRadius","dropShadowHeavy","MenuArrow","translucentBorder","backgroundElevated","ActionItem","innerBorder","fontSizeMedium","backgroundSecondary","MenuButton","alpha","string"],"sourceRoot":""}