{"version":3,"file":"chunks/app_views_settings_projectProguard_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/acl/role.tsx","webpack:///./app/utils/routeTitle.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/projectProguard/index.tsx","webpack:///./app/views/settings/projectProguard/projectProguard.tsx","webpack:///./app/views/settings/projectProguard/projectProguardRow.tsx"],"sourcesContent":["import {useMemo} from 'react';\n\nimport ConfigStore from 'sentry/stores/configStore';\nimport {Organization, User} from 'sentry/types';\nimport {isActiveSuperuser} from 'sentry/utils/isActiveSuperuser';\nimport {isRenderFunc} from 'sentry/utils/isRenderFunc';\nimport withOrganization from 'sentry/utils/withOrganization';\n\ntype RoleRenderProps = {\n  hasRole: boolean;\n};\n\ntype ChildrenRenderFn = (props: RoleRenderProps) => React.ReactElement | null;\n\nfunction checkUserRole(user: User, organization: Organization, role: RoleProps['role']) {\n  if (!user) {\n    return false;\n  }\n\n  if (isActiveSuperuser()) {\n    return true;\n  }\n\n  if (!Array.isArray(organization.orgRoleList)) {\n    return false;\n  }\n\n  const roleIds = organization.orgRoleList.map(r => r.id);\n\n  if (!roleIds.includes(role) || !roleIds.includes(organization.role ?? '')) {\n    return false;\n  }\n\n  const requiredIndex = roleIds.indexOf(role);\n  const currentIndex = roleIds.indexOf(organization.role ?? '');\n  return currentIndex >= requiredIndex;\n}\n\ninterface RoleProps {\n  /**\n   * If children is a function then will be treated as a render prop and\n   * passed RoleRenderProps.\n   *\n   * The other interface is more simple, only show `children` if user has\n   * the minimum required role.\n   */\n  children: React.ReactElement | ChildrenRenderFn;\n  /**\n   * Current Organization\n   */\n  organization: Organization;\n  /**\n   * Minimum required role\n   */\n  role: string;\n}\n\nfunction Role({role, organization, children}: RoleProps): React.ReactElement | null {\n  const user = ConfigStore.get('user');\n\n  const hasRole = useMemo(\n    () => checkUserRole(user, organization, role),\n    // It seems that this returns a stable reference, but\n    [organization, role, user]\n  );\n\n  if (isRenderFunc<ChildrenRenderFn>(children)) {\n    return children({hasRole});\n  }\n\n  return hasRole ? children : null;\n}\n\nconst withOrganizationRole = withOrganization(Role);\n\nexport {withOrganizationRole as Role};\n","function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true,\n  projectSlug?: string\n): string {\n  const tmplBase = `${routeName} - ${orgSlug}`;\n  const tmpl = projectSlug ? `${tmplBase} - ${projectSlug}` : tmplBase;\n\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {Component} from 'react';\n\nimport withOrganization from 'sentry/utils/withOrganization';\n\nimport ProjectProguard from './projectProguard';\n\nclass ProjectProguardContainer extends Component<ProjectProguard['props']> {\n  render() {\n    return <ProjectProguard {...this.props} />;\n  }\n}\n\nexport default withOrganization(ProjectProguardContainer);\n","import {Fragment} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport Pagination from 'sentry/components/pagination';\nimport {PanelTable} from 'sentry/components/panels';\nimport SearchBar from 'sentry/components/searchBar';\nimport {t, tct} from 'sentry/locale';\nimport {Organization, Project} from 'sentry/types';\nimport {DebugFile} from 'sentry/types/debugFiles';\nimport routeTitleGen from 'sentry/utils/routeTitle';\nimport AsyncView from 'sentry/views/asyncView';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\nimport TextBlock from 'sentry/views/settings/components/text/textBlock';\n\nimport ProjectProguardRow from './projectProguardRow';\n\ntype Props = RouteComponentProps<{orgId: string; projectId: string}, {}> & {\n  organization: Organization;\n  project: Project;\n};\n\ntype State = AsyncView['state'] & {\n  mappings: DebugFile[];\n};\n\nclass ProjectProguard extends AsyncView<Props, State> {\n  getTitle() {\n    const {projectId} = this.props.params;\n\n    return routeTitleGen(t('ProGuard Mappings'), projectId, false);\n  }\n\n  getDefaultState(): State {\n    return {\n      ...super.getDefaultState(),\n      mappings: [],\n    };\n  }\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {params, location} = this.props;\n    const {orgId, projectId} = params;\n\n    const endpoints: ReturnType<AsyncView['getEndpoints']> = [\n      [\n        'mappings',\n        `/projects/${orgId}/${projectId}/files/dsyms/`,\n        {query: {query: location.query.query, file_formats: 'proguard'}},\n      ],\n    ];\n\n    return endpoints;\n  }\n\n  handleDelete = (id: string) => {\n    const {orgId, projectId} = this.props.params;\n\n    this.setState({\n      loading: true,\n    });\n\n    this.api.request(\n      `/projects/${orgId}/${projectId}/files/dsyms/?id=${encodeURIComponent(id)}`,\n      {\n        method: 'DELETE',\n        complete: () => this.fetchData(),\n      }\n    );\n  };\n\n  handleSearch = (query: string) => {\n    const {location, router} = this.props;\n\n    router.push({\n      ...location,\n      query: {...location.query, cursor: undefined, query},\n    });\n  };\n\n  getQuery() {\n    const {query} = this.props.location.query;\n\n    return typeof query === 'string' ? query : undefined;\n  }\n\n  getEmptyMessage() {\n    if (this.getQuery()) {\n      return t('There are no mappings that match your search.');\n    }\n\n    return t('There are no mappings for this project.');\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderMappings() {\n    const {mappings} = this.state;\n    const {organization, params} = this.props;\n    const {orgId, projectId} = params;\n\n    if (!mappings?.length) {\n      return null;\n    }\n\n    return mappings.map(mapping => {\n      const downloadUrl = `${\n        this.api.baseUrl\n      }/projects/${orgId}/${projectId}/files/dsyms/?id=${encodeURIComponent(mapping.id)}`;\n\n      return (\n        <ProjectProguardRow\n          mapping={mapping}\n          downloadUrl={downloadUrl}\n          onDelete={this.handleDelete}\n          downloadRole={organization.debugFilesRole}\n          key={mapping.id}\n          orgSlug={organization.slug}\n        />\n      );\n    });\n  }\n\n  renderBody() {\n    const {loading, mappings, mappingsPageLinks} = this.state;\n\n    return (\n      <Fragment>\n        <SettingsPageHeader\n          title={t('ProGuard Mappings')}\n          action={\n            <SearchBar\n              placeholder={t('Filter mappings')}\n              onSearch={this.handleSearch}\n              query={this.getQuery()}\n              width=\"280px\"\n            />\n          }\n        />\n\n        <TextBlock>\n          {tct(\n            `ProGuard mapping files are used to convert minified classes, methods and field names into a human readable format. To learn more about proguard mapping files, [link: read the docs].`,\n            {\n              link: (\n                <ExternalLink href=\"https://docs.sentry.io/platforms/android/proguard/\" />\n              ),\n            }\n          )}\n        </TextBlock>\n\n        <StyledPanelTable\n          headers={[\n            t('Mapping'),\n            <SizeColumn key=\"size\">{t('File Size')}</SizeColumn>,\n            '',\n          ]}\n          emptyMessage={this.getEmptyMessage()}\n          isEmpty={mappings?.length === 0}\n          isLoading={loading}\n        >\n          {this.renderMappings()}\n        </StyledPanelTable>\n        <Pagination pageLinks={mappingsPageLinks} />\n      </Fragment>\n    );\n  }\n}\n\nconst StyledPanelTable = styled(PanelTable)`\n  grid-template-columns: minmax(220px, 1fr) max-content 120px;\n`;\n\nconst SizeColumn = styled('div')`\n  text-align: right;\n`;\n\nexport default ProjectProguard;\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport Access from 'sentry/components/acl/access';\nimport {Role} from 'sentry/components/acl/role';\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport Confirm from 'sentry/components/confirm';\nimport FileSize from 'sentry/components/fileSize';\nimport Link from 'sentry/components/links/link';\nimport TimeSince from 'sentry/components/timeSince';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconClock, IconDelete, IconDownload} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {DebugFile} from 'sentry/types/debugFiles';\n\ntype Props = {\n  downloadRole: string;\n  downloadUrl: string;\n  mapping: DebugFile;\n  onDelete: (id: string) => void;\n  orgSlug: string;\n};\n\nconst ProjectProguardRow = ({\n  mapping,\n  onDelete,\n  downloadUrl,\n  downloadRole,\n  orgSlug,\n}: Props) => {\n  const {id, debugId, uuid, size, dateCreated} = mapping;\n\n  const handleDeleteClick = () => {\n    onDelete(id);\n  };\n\n  return (\n    <Fragment>\n      <NameColumn>\n        <Name>{debugId || uuid || `(${t('empty')})`}</Name>\n        <TimeWrapper>\n          <IconClock size=\"sm\" />\n          <TimeSince date={dateCreated} />\n        </TimeWrapper>\n      </NameColumn>\n      <SizeColumn>\n        <FileSize bytes={size} />\n      </SizeColumn>\n      <ActionsColumn>\n        <ButtonBar gap={0.5}>\n          <Role role={downloadRole}>\n            {({hasRole}) => (\n              <Tooltip\n                title={tct(\n                  'Mappings can only be downloaded by users with organization [downloadRole] role[orHigher]. This can be changed in [settingsLink:Debug Files Access] settings.',\n                  {\n                    downloadRole,\n                    orHigher: downloadRole !== 'owner' ? ` ${t('or higher')}` : '',\n                    settingsLink: <Link to={`/settings/${orgSlug}/#debugFilesRole`} />,\n                  }\n                )}\n                disabled={hasRole}\n                isHoverable\n              >\n                <Button\n                  size=\"sm\"\n                  icon={<IconDownload size=\"sm\" />}\n                  disabled={!hasRole}\n                  href={downloadUrl}\n                  title={hasRole ? t('Download Mapping') : undefined}\n                  aria-label={t('Download Mapping')}\n                />\n              </Tooltip>\n            )}\n          </Role>\n\n          <Access access={['project:releases']}>\n            {({hasAccess}) => (\n              <Tooltip\n                disabled={hasAccess}\n                title={t('You do not have permission to delete mappings.')}\n              >\n                <Confirm\n                  message={t('Are you sure you want to remove this mapping?')}\n                  onConfirm={handleDeleteClick}\n                  disabled={!hasAccess}\n                >\n                  <Button\n                    size=\"sm\"\n                    icon={<IconDelete size=\"sm\" />}\n                    title={hasAccess ? t('Remove Mapping') : undefined}\n                    aria-label={t('Remove Mapping')}\n                    disabled={!hasAccess}\n                  />\n                </Confirm>\n              </Tooltip>\n            )}\n          </Access>\n        </ButtonBar>\n      </ActionsColumn>\n    </Fragment>\n  );\n};\n\nconst NameColumn = styled('div')`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n`;\n\nconst SizeColumn = styled('div')`\n  display: flex;\n  justify-content: flex-end;\n  text-align: right;\n  align-items: center;\n`;\n\nconst ActionsColumn = styled(SizeColumn)``;\n\nconst Name = styled('div')`\n  padding-right: ${space(4)};\n  overflow-wrap: break-word;\n  word-break: break-all;\n`;\n\nconst TimeWrapper = styled('div')`\n  display: grid;\n  gap: ${space(0.5)};\n  grid-template-columns: min-content 1fr;\n  font-size: ${p => p.theme.fontSizeMedium};\n  align-items: center;\n  color: ${p => p.theme.subText};\n  margin-top: ${space(1)};\n`;\n\nexport default ProjectProguardRow;\n"],"names":["useMemo","ConfigStore","isActiveSuperuser","isRenderFunc","withOrganization","checkUserRole","user","organization","role","Array","isArray","orgRoleList","roleIds","map","r","id","includes","requiredIndex","indexOf","currentIndex","Role","children","get","hasRole","withOrganizationRole","routeTitleGen","routeName","orgSlug","withSentry","projectSlug","tmplBase","tmpl","AsyncComponent","SentryDocumentTitle","AsyncView","getTitle","render","renderComponent","Component","ProjectProguard","ProjectProguardContainer","props","Fragment","ExternalLink","Pagination","PanelTable","SearchBar","t","tct","SettingsPageHeader","TextBlock","ProjectProguardRow","orgId","projectId","params","setState","loading","api","request","encodeURIComponent","method","complete","fetchData","query","location","router","push","cursor","undefined","getDefaultState","mappings","getEndpoints","endpoints","file_formats","getQuery","getEmptyMessage","renderLoading","renderBody","renderMappings","state","length","mapping","downloadUrl","baseUrl","handleDelete","debugFilesRole","slug","mappingsPageLinks","handleSearch","link","StyledPanelTable","SizeColumn","Access","Button","ButtonBar","Confirm","FileSize","Link","TimeSince","Tooltip","IconClock","IconDelete","IconDownload","space","onDelete","downloadRole","debugId","uuid","size","dateCreated","handleDeleteClick","orHigher","settingsLink","hasAccess","NameColumn","ActionsColumn","Name","TimeWrapper","p","theme","fontSizeMedium","subText"],"sourceRoot":""}