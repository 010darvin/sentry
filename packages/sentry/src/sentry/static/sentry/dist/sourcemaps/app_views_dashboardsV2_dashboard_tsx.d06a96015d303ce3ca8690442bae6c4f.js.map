{"version":3,"file":"chunks/app_views_dashboardsV2_dashboard_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/actionCreators/dashboards.tsx","webpack:///./app/views/dashboardsV2/addWidget.tsx","webpack:///./app/views/dashboardsV2/dashboard.tsx","webpack:///./app/views/dashboardsV2/layoutUtils.tsx","webpack:///./app/views/dashboardsV2/sortableWidget.tsx","webpack:///./app/views/dashboardsV2/widgetCard/index.tsx","webpack:///./app/views/dashboardsV2/widgetCard/widgetCardContextMenu.tsx","webpack:///./app/views/dashboardsV2/widgetViewer/widgetViewerContext.tsx","webpack:///./app/views/dashboardsV2/widgetWrapper.tsx"],"sourcesContent":["import omit from 'lodash/omit';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport {Client} from 'sentry/api';\nimport {ALL_ACCESS_PROJECTS} from 'sentry/constants/pageFilters';\nimport {t} from 'sentry/locale';\nimport {\n  DashboardDetails,\n  DashboardListItem,\n  Widget,\n} from 'sentry/views/dashboardsV2/types';\nimport {flattenErrors} from 'sentry/views/dashboardsV2/utils';\n\nexport function fetchDashboards(api: Client, orgSlug: string) {\n  const promise: Promise<DashboardListItem[]> = api.requestPromise(\n    `/organizations/${orgSlug}/dashboards/`,\n    {\n      method: 'GET',\n      query: {sort: 'myDashboardsAndRecentlyViewed'},\n    }\n  );\n\n  promise.catch(response => {\n    const errorResponse = response?.responseJSON ?? null;\n\n    if (errorResponse) {\n      const errors = flattenErrors(errorResponse, {});\n      addErrorMessage(errors[Object.keys(errors)[0]]);\n    } else {\n      addErrorMessage(t('Unable to fetch dashboards'));\n    }\n  });\n\n  return promise;\n}\n\nexport function createDashboard(\n  api: Client,\n  orgId: string,\n  newDashboard: DashboardDetails,\n  duplicate?: boolean\n): Promise<DashboardDetails> {\n  const {title, widgets, projects, environment, period, start, end, filters, utc} =\n    newDashboard;\n\n  const promise: Promise<DashboardDetails> = api.requestPromise(\n    `/organizations/${orgId}/dashboards/`,\n    {\n      method: 'POST',\n      data: {\n        title,\n        widgets: widgets.map(widget => omit(widget, ['tempId'])),\n        duplicate,\n        projects,\n        environment,\n        period,\n        start,\n        end,\n        filters,\n        utc,\n      },\n      query: {\n        project: projects,\n      },\n    }\n  );\n\n  promise.catch(response => {\n    const errorResponse = response?.responseJSON ?? null;\n\n    if (errorResponse) {\n      const errors = flattenErrors(errorResponse, {});\n      addErrorMessage(errors[Object.keys(errors)[0]]);\n    } else {\n      addErrorMessage(t('Unable to create dashboard'));\n    }\n  });\n\n  return promise;\n}\n\nexport function updateDashboardVisit(\n  api: Client,\n  orgId: string,\n  dashboardId: string | string[]\n): Promise<void> {\n  const promise = api.requestPromise(\n    `/organizations/${orgId}/dashboards/${dashboardId}/visit/`,\n    {\n      method: 'POST',\n    }\n  );\n\n  return promise;\n}\n\nexport function fetchDashboard(\n  api: Client,\n  orgId: string,\n  dashboardId: string\n): Promise<DashboardDetails> {\n  const promise: Promise<DashboardDetails> = api.requestPromise(\n    `/organizations/${orgId}/dashboards/${dashboardId}/`,\n    {\n      method: 'GET',\n    }\n  );\n\n  promise.catch(response => {\n    const errorResponse = response?.responseJSON ?? null;\n\n    if (errorResponse) {\n      const errors = flattenErrors(errorResponse, {});\n      addErrorMessage(errors[Object.keys(errors)[0]]);\n    } else {\n      addErrorMessage(t('Unable to load dashboard'));\n    }\n  });\n  return promise;\n}\n\nexport function updateDashboard(\n  api: Client,\n  orgId: string,\n  dashboard: DashboardDetails\n): Promise<DashboardDetails> {\n  const {title, widgets, projects, environment, period, start, end, filters, utc} =\n    dashboard;\n  const data = {\n    title,\n    widgets: widgets.map(widget => omit(widget, ['tempId'])),\n    projects,\n    environment,\n    period,\n    start,\n    end,\n    filters,\n    utc,\n  };\n\n  const promise: Promise<DashboardDetails> = api.requestPromise(\n    `/organizations/${orgId}/dashboards/${dashboard.id}/`,\n    {\n      method: 'PUT',\n      data,\n      query: {\n        project: projects,\n      },\n    }\n  );\n\n  promise.catch(response => {\n    const errorResponse = response?.responseJSON ?? null;\n\n    if (errorResponse) {\n      const errors = flattenErrors(errorResponse, {});\n      addErrorMessage(errors[Object.keys(errors)[0]]);\n    } else {\n      addErrorMessage(t('Unable to update dashboard'));\n    }\n  });\n\n  return promise;\n}\n\nexport function deleteDashboard(\n  api: Client,\n  orgId: string,\n  dashboardId: string\n): Promise<undefined> {\n  const promise: Promise<undefined> = api.requestPromise(\n    `/organizations/${orgId}/dashboards/${dashboardId}/`,\n    {\n      method: 'DELETE',\n    }\n  );\n\n  promise.catch(response => {\n    const errorResponse = response?.responseJSON ?? null;\n\n    if (errorResponse) {\n      const errors = flattenErrors(errorResponse, {});\n      addErrorMessage(errors[Object.keys(errors)[0]]);\n    } else {\n      addErrorMessage(t('Unable to delete dashboard'));\n    }\n  });\n\n  return promise;\n}\n\nexport function validateWidget(\n  api: Client,\n  orgId: string,\n  widget: Widget\n): Promise<undefined> {\n  const promise: Promise<undefined> = api.requestPromise(\n    `/organizations/${orgId}/dashboards/widgets/`,\n    {\n      method: 'POST',\n      data: widget,\n      query: {\n        // TODO: This should be replaced in the future with projects\n        // when we save Dashboard page filters. This is being sent to\n        // bypass validation when creating or updating dashboards\n        project: [ALL_ACCESS_PROJECTS],\n      },\n    }\n  );\n  return promise;\n}\n","import {useSortable} from '@dnd-kit/sortable';\nimport styled from '@emotion/styled';\n\nimport Button from 'sentry/components/button';\nimport {IconAdd} from 'sentry/icons';\nimport {t} from 'sentry/locale';\n\nimport {DisplayType} from './types';\nimport WidgetWrapper from './widgetWrapper';\n\nexport const ADD_WIDGET_BUTTON_DRAG_ID = 'add-widget-button';\n\nconst initialStyles = {\n  x: 0,\n  y: 0,\n  scaleX: 1,\n  scaleY: 1,\n};\n\ntype Props = {\n  onAddWidget: () => void;\n};\n\nfunction AddWidget({onAddWidget}: Props) {\n  const {setNodeRef, transform} = useSortable({\n    disabled: true,\n    id: ADD_WIDGET_BUTTON_DRAG_ID,\n    transition: null,\n  });\n\n  return (\n    <WidgetWrapper\n      key=\"add\"\n      ref={setNodeRef}\n      displayType={DisplayType.BIG_NUMBER}\n      layoutId={ADD_WIDGET_BUTTON_DRAG_ID}\n      style={{originX: 0, originY: 0}}\n      animate={\n        transform\n          ? {\n              x: transform.x,\n              y: transform.y,\n              scaleX: transform?.scaleX && transform.scaleX <= 1 ? transform.scaleX : 1,\n              scaleY: transform?.scaleY && transform.scaleY <= 1 ? transform.scaleY : 1,\n            }\n          : initialStyles\n      }\n      transition={{\n        duration: 0.25,\n      }}\n    >\n      <InnerWrapper onClick={onAddWidget}>\n        <AddButton\n          data-test-id=\"widget-add\"\n          icon={<IconAdd size=\"lg\" isCircled color=\"inactive\" />}\n          aria-label={t('Add widget')}\n        />\n      </InnerWrapper>\n    </WidgetWrapper>\n  );\n}\n\nexport default AddWidget;\n\nconst AddButton = styled(Button)`\n  border: none;\n  &,\n  &:focus,\n  &:active,\n  &:hover {\n    background: transparent;\n    box-shadow: none;\n  }\n`;\n\nconst InnerWrapper = styled('div')<{onClick?: () => void}>`\n  width: 100%;\n  height: 110px;\n  border: 2px dashed ${p => p.theme.border};\n  border-radius: ${p => p.theme.borderRadius};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: ${p => (p.onClick ? 'pointer' : '')};\n`;\n","import 'react-grid-layout/css/styles.css';\nimport 'react-resizable/css/styles.css';\n\nimport {Component} from 'react';\nimport {Layouts, Responsive, WidthProvider} from 'react-grid-layout';\nimport {forceCheck} from 'react-lazyload';\nimport {InjectedRouter} from 'react-router';\nimport {closestCenter, DndContext} from '@dnd-kit/core';\nimport {arrayMove, rectSortingStrategy, SortableContext} from '@dnd-kit/sortable';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\nimport cloneDeep from 'lodash/cloneDeep';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\n\nimport {validateWidget} from 'sentry/actionCreators/dashboards';\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport {fetchOrgMembers} from 'sentry/actionCreators/members';\nimport {openAddDashboardWidgetModal} from 'sentry/actionCreators/modal';\nimport {loadOrganizationTags} from 'sentry/actionCreators/tags';\nimport {Client} from 'sentry/api';\nimport Button from 'sentry/components/button';\nimport {IconResize} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, PageFilters} from 'sentry/types';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport theme from 'sentry/utils/theme';\nimport withApi from 'sentry/utils/withApi';\nimport withPageFilters from 'sentry/utils/withPageFilters';\n\nimport AddWidget, {ADD_WIDGET_BUTTON_DRAG_ID} from './addWidget';\nimport {\n  assignDefaultLayout,\n  assignTempId,\n  calculateColumnDepths,\n  constructGridItemKey,\n  DEFAULT_WIDGET_WIDTH,\n  enforceWidgetHeightValues,\n  generateWidgetId,\n  generateWidgetsAfterCompaction,\n  getDashboardLayout,\n  getDefaultWidgetHeight,\n  getMobileLayout,\n  getNextAvailablePosition,\n  pickDefinedStoreKeys,\n  Position,\n} from './layoutUtils';\nimport SortableWidget from './sortableWidget';\nimport {DashboardDetails, DashboardWidgetSource, Widget, WidgetType} from './types';\nimport {getDashboardFiltersFromURL} from './utils';\n\nexport const DRAG_HANDLE_CLASS = 'widget-drag';\nconst DRAG_RESIZE_CLASS = 'widget-resize';\nconst DESKTOP = 'desktop';\nconst MOBILE = 'mobile';\nexport const NUM_DESKTOP_COLS = 6;\nconst NUM_MOBILE_COLS = 2;\nconst ROW_HEIGHT = 120;\nconst WIDGET_MARGINS: [number, number] = [16, 16];\nconst BOTTOM_MOBILE_VIEW_POSITION = {\n  x: 0,\n  y: Number.MAX_SAFE_INTEGER,\n};\nconst MOBILE_BREAKPOINT = parseInt(theme.breakpoints.small, 10);\nconst BREAKPOINTS = {[MOBILE]: 0, [DESKTOP]: MOBILE_BREAKPOINT};\nconst COLUMNS = {[MOBILE]: NUM_MOBILE_COLS, [DESKTOP]: NUM_DESKTOP_COLS};\n\ntype Props = {\n  api: Client;\n  dashboard: DashboardDetails;\n  handleAddCustomWidget: (widget: Widget) => void;\n  handleUpdateWidgetList: (widgets: Widget[]) => void;\n  isEditing: boolean;\n  location: Location;\n  /**\n   * Fired when widgets are added/removed/sorted.\n   */\n  onUpdate: (widgets: Widget[]) => void;\n  organization: Organization;\n  router: InjectedRouter;\n  selection: PageFilters;\n  widgetLimitReached: boolean;\n  isPreview?: boolean;\n  newWidget?: Widget;\n  onSetNewWidget?: () => void;\n  paramDashboardId?: string;\n  paramTemplateId?: string;\n};\n\ntype State = {\n  isMobile: boolean;\n  layouts: Layouts;\n  windowWidth: number;\n};\n\nclass Dashboard extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    const {dashboard, organization} = props;\n    const isUsingGrid = organization.features.includes('dashboard-grid-layout');\n    const desktopLayout = getDashboardLayout(dashboard.widgets);\n    this.state = {\n      isMobile: false,\n      layouts: {\n        [DESKTOP]: isUsingGrid ? desktopLayout : [],\n        [MOBILE]: isUsingGrid ? getMobileLayout(desktopLayout, dashboard.widgets) : [],\n      },\n      windowWidth: window.innerWidth,\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.organization.features.includes('dashboard-grid-layout')) {\n      if (state.isMobile) {\n        // Don't need to recalculate any layout state from props in the mobile view\n        // because we want to force different positions (i.e. new widgets added\n        // at the bottom)\n        return null;\n      }\n\n      // If the user clicks \"Cancel\" and the dashboard resets,\n      // recalculate the layout to revert to the unmodified state\n      const dashboardLayout = getDashboardLayout(props.dashboard.widgets);\n      if (\n        !isEqual(\n          dashboardLayout.map(pickDefinedStoreKeys),\n          state.layouts[DESKTOP].map(pickDefinedStoreKeys)\n        )\n      ) {\n        return {\n          ...state,\n          layouts: {\n            [DESKTOP]: dashboardLayout,\n            [MOBILE]: getMobileLayout(dashboardLayout, props.dashboard.widgets),\n          },\n        };\n      }\n    }\n    return null;\n  }\n\n  componentDidMount() {\n    const {organization, newWidget} = this.props;\n    if (organization.features.includes('dashboard-grid-layout')) {\n      window.addEventListener('resize', this.debouncedHandleResize);\n    }\n\n    // Always load organization tags on dashboards\n    this.fetchTags();\n\n    if (newWidget) {\n      this.addNewWidget();\n    }\n\n    // Get member list data for issue widgets\n    this.fetchMemberList();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const {selection, newWidget} = this.props;\n\n    if (newWidget && newWidget !== prevProps.newWidget) {\n      this.addNewWidget();\n    }\n    if (!isEqual(prevProps.selection.projects, selection.projects)) {\n      this.fetchMemberList();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.organization.features.includes('dashboard-grid-layout')) {\n      window.removeEventListener('resize', this.debouncedHandleResize);\n    }\n\n    window.clearTimeout(this.forceCheckTimeout);\n  }\n\n  forceCheckTimeout: number | undefined = undefined;\n\n  debouncedHandleResize = debounce(() => {\n    this.setState({\n      windowWidth: window.innerWidth,\n    });\n  }, 250);\n\n  fetchMemberList() {\n    const {api, selection} = this.props;\n    // Stores MemberList in MemberListStore for use in modals and sets state for use is child components\n    fetchOrgMembers(\n      api,\n      this.props.organization.slug,\n      selection.projects?.map(projectId => String(projectId))\n    );\n  }\n\n  async addNewWidget() {\n    const {api, organization, newWidget, handleAddCustomWidget, onSetNewWidget} =\n      this.props;\n    if (newWidget) {\n      try {\n        await validateWidget(api, organization.slug, newWidget);\n        handleAddCustomWidget(newWidget);\n        onSetNewWidget?.();\n      } catch (error) {\n        // Don't do anything, widget isn't valid\n        addErrorMessage(error);\n      }\n    }\n  }\n\n  fetchTags() {\n    const {api, organization, selection} = this.props;\n    loadOrganizationTags(api, organization.slug, selection);\n  }\n\n  handleStartAdd = () => {\n    const {\n      organization,\n      dashboard,\n      selection,\n      handleUpdateWidgetList,\n      handleAddCustomWidget,\n      router,\n      location,\n      paramDashboardId,\n    } = this.props;\n\n    if (organization.features.includes('new-widget-builder-experience-design')) {\n      if (paramDashboardId) {\n        router.push({\n          pathname: `/organizations/${organization.slug}/dashboard/${paramDashboardId}/widget/new/`,\n          query: {\n            ...location.query,\n            source: DashboardWidgetSource.DASHBOARDS,\n          },\n        });\n        return;\n      }\n\n      router.push({\n        pathname: `/organizations/${organization.slug}/dashboards/new/widget/new/`,\n        query: {\n          ...location.query,\n          source: DashboardWidgetSource.DASHBOARDS,\n        },\n      });\n\n      return;\n    }\n\n    trackAdvancedAnalyticsEvent('dashboards_views.add_widget_modal.opened', {\n      organization,\n    });\n\n    trackAdvancedAnalyticsEvent('dashboards_views.widget_library.opened', {\n      organization,\n    });\n    openAddDashboardWidgetModal({\n      organization,\n      dashboard,\n      selection,\n      onAddWidget: handleAddCustomWidget,\n      onAddLibraryWidget: (widgets: Widget[]) => handleUpdateWidgetList(widgets),\n      source: DashboardWidgetSource.LIBRARY,\n    });\n  };\n\n  handleUpdateComplete = (prevWidget: Widget) => (nextWidget: Widget) => {\n    const {isEditing, onUpdate, handleUpdateWidgetList} = this.props;\n\n    let nextList = [...this.props.dashboard.widgets];\n    const updateIndex = nextList.indexOf(prevWidget);\n    const nextWidgetData = {\n      ...nextWidget,\n      tempId: prevWidget.tempId,\n    };\n\n    // Only modify and re-compact if the default height has changed\n    if (\n      getDefaultWidgetHeight(prevWidget.displayType) !==\n      getDefaultWidgetHeight(nextWidget.displayType)\n    ) {\n      nextList[updateIndex] = enforceWidgetHeightValues(nextWidgetData);\n      nextList = generateWidgetsAfterCompaction(nextList);\n    } else {\n      nextList[updateIndex] = nextWidgetData;\n    }\n\n    onUpdate(nextList);\n    if (!!!isEditing) {\n      handleUpdateWidgetList(nextList);\n    }\n  };\n\n  handleDeleteWidget = (widgetToDelete: Widget) => () => {\n    const {dashboard, onUpdate, isEditing, handleUpdateWidgetList} = this.props;\n\n    let nextList = dashboard.widgets.filter(widget => widget !== widgetToDelete);\n    nextList = generateWidgetsAfterCompaction(nextList);\n\n    onUpdate(nextList);\n\n    if (!!!isEditing) {\n      handleUpdateWidgetList(nextList);\n    }\n  };\n\n  handleDuplicateWidget = (widget: Widget, index: number) => () => {\n    const {dashboard, onUpdate, isEditing, handleUpdateWidgetList} = this.props;\n\n    const widgetCopy = cloneDeep(\n      assignTempId({...widget, id: undefined, tempId: undefined})\n    );\n\n    let nextList = [...dashboard.widgets];\n    nextList.splice(index, 0, widgetCopy);\n    nextList = generateWidgetsAfterCompaction(nextList);\n\n    onUpdate(nextList);\n    if (!!!isEditing) {\n      handleUpdateWidgetList(nextList);\n    }\n  };\n\n  handleEditWidget = (widget: Widget, index: number) => () => {\n    const {\n      organization,\n      dashboard,\n      selection,\n      router,\n      location,\n      paramDashboardId,\n      handleAddCustomWidget,\n      isEditing,\n    } = this.props;\n\n    if (\n      organization.features.includes('new-widget-builder-experience-design') &&\n      (!organization.features.includes('new-widget-builder-experience-modal-access') ||\n        isEditing)\n    ) {\n      if (paramDashboardId) {\n        router.push({\n          pathname: `/organizations/${organization.slug}/dashboard/${paramDashboardId}/widget/${index}/edit/`,\n          query: {\n            ...location.query,\n            source: DashboardWidgetSource.DASHBOARDS,\n          },\n        });\n        return;\n      }\n\n      router.push({\n        pathname: `/organizations/${organization.slug}/dashboards/new/widget/${index}/edit/`,\n        query: {\n          ...location.query,\n          source: DashboardWidgetSource.DASHBOARDS,\n        },\n      });\n\n      return;\n    }\n\n    trackAdvancedAnalyticsEvent('dashboards_views.edit_widget_modal.opened', {\n      organization,\n    });\n    const modalProps = {\n      organization,\n      widget,\n      selection,\n      onAddWidget: handleAddCustomWidget,\n      onUpdateWidget: this.handleUpdateComplete(widget),\n    };\n    openAddDashboardWidgetModal({\n      ...modalProps,\n      dashboard,\n      source: DashboardWidgetSource.DASHBOARDS,\n    });\n  };\n\n  getWidgetIds() {\n    return [\n      ...this.props.dashboard.widgets.map((widget, index): string => {\n        return generateWidgetId(widget, index);\n      }),\n      ADD_WIDGET_BUTTON_DRAG_ID,\n    ];\n  }\n\n  renderWidget(widget: Widget, index: number) {\n    const {isMobile, windowWidth} = this.state;\n    const {isEditing, organization, widgetLimitReached, isPreview, dashboard, location} =\n      this.props;\n\n    const widgetProps = {\n      widget,\n      isEditing,\n      widgetLimitReached,\n      onDelete: this.handleDeleteWidget(widget),\n      onEdit: this.handleEditWidget(widget, index),\n      onDuplicate: this.handleDuplicateWidget(widget, index),\n      isPreview,\n      dashboardFilters: getDashboardFiltersFromURL(location) ?? dashboard.filters,\n    };\n\n    if (organization.features.includes('dashboard-grid-layout')) {\n      const key = constructGridItemKey(widget);\n      const dragId = key;\n      return (\n        <div key={key} data-grid={widget.layout}>\n          <SortableWidget\n            {...widgetProps}\n            dragId={dragId}\n            isMobile={isMobile}\n            windowWidth={windowWidth}\n            index={String(index)}\n          />\n        </div>\n      );\n    }\n\n    const key = generateWidgetId(widget, index);\n    const dragId = key;\n    return (\n      <SortableWidget {...widgetProps} key={key} dragId={dragId} index={String(index)} />\n    );\n  }\n\n  handleLayoutChange = (_, allLayouts: Layouts) => {\n    const {isMobile} = this.state;\n    const {dashboard, onUpdate} = this.props;\n    const isNotAddButton = ({i}) => i !== ADD_WIDGET_BUTTON_DRAG_ID;\n    const newLayouts = {\n      [DESKTOP]: allLayouts[DESKTOP].filter(isNotAddButton),\n      [MOBILE]: allLayouts[MOBILE].filter(isNotAddButton),\n    };\n\n    // Generate a new list of widgets where the layouts are associated\n    let columnDepths = calculateColumnDepths(newLayouts[DESKTOP]);\n    const newWidgets = dashboard.widgets.map(widget => {\n      const gridKey = constructGridItemKey(widget);\n      let matchingLayout = newLayouts[DESKTOP].find(({i}) => i === gridKey);\n      if (!matchingLayout) {\n        const height = getDefaultWidgetHeight(widget.displayType);\n        const defaultWidgetParams = {\n          w: DEFAULT_WIDGET_WIDTH,\n          h: height,\n          minH: height,\n          i: gridKey,\n        };\n\n        // Calculate the available position\n        const [nextPosition, nextColumnDepths] = getNextAvailablePosition(\n          columnDepths,\n          height\n        );\n        columnDepths = nextColumnDepths;\n\n        // Set the position for the desktop layout\n        matchingLayout = {\n          ...defaultWidgetParams,\n          ...nextPosition,\n        };\n\n        if (isMobile) {\n          // This is a new widget and it's on the mobile page so we keep it at the bottom\n          const mobileLayout = newLayouts[MOBILE].filter(({i}) => i !== gridKey);\n          mobileLayout.push({\n            ...defaultWidgetParams,\n            ...BOTTOM_MOBILE_VIEW_POSITION,\n          });\n          newLayouts[MOBILE] = mobileLayout;\n        }\n      }\n      return {\n        ...widget,\n        layout: pickDefinedStoreKeys(matchingLayout),\n      };\n    });\n\n    this.setState({\n      layouts: newLayouts,\n    });\n    onUpdate(newWidgets);\n\n    // Force check lazyLoad elements that might have shifted into view after (re)moving an upper widget\n    // Unfortunately need to use window.setTimeout since React Grid Layout animates widgets into view when layout changes\n    // RGL doesn't provide a handler for post animation layout change\n    window.clearTimeout(this.forceCheckTimeout);\n    this.forceCheckTimeout = window.setTimeout(forceCheck, 400);\n  };\n\n  handleBreakpointChange = (newBreakpoint: string) => {\n    const {layouts} = this.state;\n    const {\n      dashboard: {widgets},\n    } = this.props;\n\n    if (newBreakpoint === MOBILE) {\n      this.setState({\n        isMobile: true,\n        layouts: {\n          ...layouts,\n          [MOBILE]: getMobileLayout(layouts[DESKTOP], widgets),\n        },\n      });\n      return;\n    }\n    this.setState({isMobile: false});\n  };\n\n  get addWidgetLayout() {\n    const {isMobile, layouts} = this.state;\n    let position: Position = BOTTOM_MOBILE_VIEW_POSITION;\n    if (!isMobile) {\n      const columnDepths = calculateColumnDepths(layouts[DESKTOP]);\n      const [nextPosition] = getNextAvailablePosition(columnDepths, 1);\n      position = nextPosition;\n    }\n\n    return {\n      ...position,\n      w: DEFAULT_WIDGET_WIDTH,\n      h: 1,\n      isResizable: false,\n    };\n  }\n\n  renderGridDashboard() {\n    const {layouts, isMobile} = this.state;\n    const {isEditing, dashboard, organization, widgetLimitReached} = this.props;\n    let {widgets} = dashboard;\n    // Filter out any issue/release widgets if the user does not have the feature flag\n    widgets = widgets.filter(({widgetType}) => {\n      if (widgetType === WidgetType.RELEASE) {\n        return organization.features.includes('dashboards-releases');\n      }\n      return true;\n    });\n\n    const columnDepths = calculateColumnDepths(layouts[DESKTOP]);\n    const widgetsWithLayout = assignDefaultLayout(widgets, columnDepths);\n\n    const canModifyLayout = !isMobile && isEditing;\n\n    return (\n      <GridLayout\n        breakpoints={BREAKPOINTS}\n        cols={COLUMNS}\n        rowHeight={ROW_HEIGHT}\n        margin={WIDGET_MARGINS}\n        draggableHandle={`.${DRAG_HANDLE_CLASS}`}\n        draggableCancel={`.${DRAG_RESIZE_CLASS}`}\n        layouts={layouts}\n        onLayoutChange={this.handleLayoutChange}\n        onBreakpointChange={this.handleBreakpointChange}\n        isDraggable={canModifyLayout}\n        isResizable={canModifyLayout}\n        resizeHandle={\n          <ResizeHandle\n            aria-label={t('Resize Widget')}\n            data-test-id=\"custom-resize-handle\"\n            className={DRAG_RESIZE_CLASS}\n            size=\"xs\"\n            borderless\n            icon={<IconResize size=\"xs\" />}\n          />\n        }\n        useCSSTransforms={false}\n        isBounded\n      >\n        {widgetsWithLayout.map((widget, index) => this.renderWidget(widget, index))}\n        {isEditing && !!!widgetLimitReached && (\n          <AddWidgetWrapper\n            key={ADD_WIDGET_BUTTON_DRAG_ID}\n            data-grid={this.addWidgetLayout}\n          >\n            <AddWidget onAddWidget={this.handleStartAdd} />\n          </AddWidgetWrapper>\n        )}\n      </GridLayout>\n    );\n  }\n\n  renderDndDashboard = () => {\n    const {isEditing, onUpdate, dashboard, organization, widgetLimitReached} = this.props;\n    let {widgets} = dashboard;\n    // Filter out any issue/release widgets if the user does not have the feature flag\n    widgets = widgets.filter(({widgetType}) => {\n      if (widgetType === WidgetType.RELEASE) {\n        return organization.features.includes('dashboards-releases');\n      }\n      return true;\n    });\n\n    const items = this.getWidgetIds();\n\n    return (\n      <DndContext\n        collisionDetection={closestCenter}\n        onDragEnd={({over, active}) => {\n          const activeDragId = active.id;\n          const getIndex = items.indexOf.bind(items);\n\n          const activeIndex = activeDragId ? getIndex(activeDragId) : -1;\n\n          if (over && over.id !== ADD_WIDGET_BUTTON_DRAG_ID) {\n            const overIndex = getIndex(over.id);\n            if (activeIndex !== overIndex) {\n              onUpdate(arrayMove(widgets, activeIndex, overIndex));\n            }\n          }\n        }}\n      >\n        <WidgetContainer>\n          <SortableContext items={items} strategy={rectSortingStrategy}>\n            {widgets.map((widget, index) => this.renderWidget(widget, index))}\n            {isEditing && !!!widgetLimitReached && (\n              <AddWidget onAddWidget={this.handleStartAdd} />\n            )}\n          </SortableContext>\n        </WidgetContainer>\n      </DndContext>\n    );\n  };\n\n  render() {\n    const {organization} = this.props;\n    if (organization.features.includes('dashboard-grid-layout')) {\n      return this.renderGridDashboard();\n    }\n\n    return this.renderDndDashboard();\n  }\n}\n\nexport default withApi(withPageFilters(Dashboard));\n\nconst WidgetContainer = styled('div')`\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  grid-auto-flow: row dense;\n  gap: ${space(2)};\n\n  @media (min-width: ${p => p.theme.breakpoints.medium}) {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints.xlarge}) {\n    grid-template-columns: repeat(6, minmax(0, 1fr));\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints.xxlarge}) {\n    grid-template-columns: repeat(8, minmax(0, 1fr));\n  }\n`;\n\n// A widget being dragged has a z-index of 3\n// Allow the Add Widget tile to show above widgets when moved\nconst AddWidgetWrapper = styled('div')`\n  z-index: 5;\n  background-color: ${p => p.theme.background};\n`;\n\nconst GridLayout = styled(WidthProvider(Responsive))`\n  margin: -${space(2)};\n\n  .react-grid-item.react-grid-placeholder {\n    background: ${p => p.theme.purple200};\n    border-radius: ${p => p.theme.borderRadius};\n  }\n`;\n\nconst ResizeHandle = styled(Button)`\n  position: absolute;\n  z-index: 2;\n  bottom: ${space(0.5)};\n  right: ${space(0.5)};\n  color: ${p => p.theme.subText};\n  cursor: nwse-resize;\n\n  .react-resizable-hide & {\n    display: none;\n  }\n`;\n","import {Layout} from 'react-grid-layout';\nimport {compact} from 'react-grid-layout/build/utils';\nimport pickBy from 'lodash/pickBy';\nimport sortBy from 'lodash/sortBy';\nimport zip from 'lodash/zip';\n\nimport {defined} from 'sentry/utils';\nimport {uniqueId} from 'sentry/utils/guid';\n\nimport {NUM_DESKTOP_COLS} from './dashboard';\nimport {DisplayType, Widget, WidgetLayout} from './types';\n\nexport const DEFAULT_WIDGET_WIDTH = 2;\n\nconst WIDGET_PREFIX = 'grid-item';\n\n// Keys for grid layout values we track in the server\nconst STORE_KEYS = ['x', 'y', 'w', 'h', 'minW', 'maxW', 'minH', 'maxH'];\n\nexport type Position = Pick<Layout, 'x' | 'y'>;\n\ntype NextPosition = [position: Position, columnDepths: number[]];\n\nexport function generateWidgetId(widget: Widget, index: number) {\n  return widget.id ? `${widget.id}-index-${index}` : `index-${index}`;\n}\n\nexport function constructGridItemKey(widget: {id?: string; tempId?: string}) {\n  return `${WIDGET_PREFIX}-${widget.id ?? widget.tempId}`;\n}\n\nexport function assignTempId(widget: Widget) {\n  if (widget.id ?? widget.tempId) {\n    return widget;\n  }\n\n  return {...widget, tempId: uniqueId()};\n}\n\n/**\n * Naive positioning for widgets assuming no resizes.\n */\nexport function getDefaultPosition(index: number, displayType: DisplayType) {\n  return {\n    x: (DEFAULT_WIDGET_WIDTH * index) % NUM_DESKTOP_COLS,\n    y: Number.MAX_SAFE_INTEGER,\n    w: DEFAULT_WIDGET_WIDTH,\n    h: displayType === DisplayType.BIG_NUMBER ? 1 : 2,\n    minH: displayType === DisplayType.BIG_NUMBER ? 1 : 2,\n  };\n}\n\nexport function getMobileLayout(desktopLayout: Layout[], widgets: Widget[]) {\n  if (desktopLayout.length === 0) {\n    // Initial case where the user has no layout saved, but\n    // dashboard has widgets\n    return [];\n  }\n\n  const layoutWidgetPairs = zip(desktopLayout, widgets) as [Layout, Widget][];\n\n  // Sort by y and then subsort by x\n  const sorted = sortBy(layoutWidgetPairs, ['0.y', '0.x']);\n\n  const mobileLayout = sorted.map(([layout, widget], index) => ({\n    ...layout,\n    x: 0,\n    y: index * 2,\n    w: 2,\n    h: widget.displayType === DisplayType.BIG_NUMBER ? 1 : 2,\n  }));\n\n  return mobileLayout;\n}\n\n/**\n * Reads the layout from an array of widgets.\n */\nexport function getDashboardLayout(widgets: Widget[]): Layout[] {\n  type WidgetWithDefinedLayout = Omit<Widget, 'layout'> & {layout: WidgetLayout};\n  return widgets\n    .filter((widget): widget is WidgetWithDefinedLayout => defined(widget.layout))\n    .map(({layout, ...widget}) => ({\n      ...layout,\n      i: constructGridItemKey(widget),\n    }));\n}\n\nexport function pickDefinedStoreKeys(layout: Layout): WidgetLayout {\n  // TODO(nar): Fix the types here\n  return pickBy(\n    layout,\n    (value, key) => defined(value) && STORE_KEYS.includes(key)\n  ) as WidgetLayout;\n}\n\nexport function getDefaultWidgetHeight(displayType: DisplayType): number {\n  return displayType === DisplayType.BIG_NUMBER ? 1 : 2;\n}\n\nexport function getInitialColumnDepths() {\n  return Array(NUM_DESKTOP_COLS).fill(0);\n}\n\n/**\n * Creates an array from layouts where each column stores how deep it is.\n */\nexport function calculateColumnDepths(\n  layouts: Pick<Layout, 'h' | 'w' | 'x' | 'y'>[]\n): number[] {\n  const depths = getInitialColumnDepths();\n\n  // For each layout's x, record the max depth\n  layouts.forEach(({x, w, y, h}) => {\n    // Adjust the column depths for each column the widget takes up\n    for (let col = x; col < x + w; col++) {\n      depths[col] = Math.max(y + h, depths[col]);\n    }\n  });\n\n  return depths;\n}\n\n/**\n * Find the next place to place a widget and also returns the next\n * input when this operation needs to be called multiple times.\n *\n * @param columnDepths A profile of how deep the widgets in a column extend.\n * @param height The desired height of the next widget we want to place.\n * @returns An {x, y} positioning for the next available spot, as well as the\n * next columnDepths array if this position were used.\n */\nexport function getNextAvailablePosition(\n  initialColumnDepths: number[],\n  height: number\n): NextPosition {\n  const columnDepths = [...initialColumnDepths];\n  const maxColumnDepth = Math.max(...columnDepths);\n\n  // Look for an opening at each depth by scanning from 0, 0\n  // By scanning from 0 depth to the highest depth, we ensure\n  // we get the top-most available spot\n  for (let currDepth = 0; currDepth <= maxColumnDepth; currDepth++) {\n    for (let start = 0; start <= columnDepths.length - DEFAULT_WIDGET_WIDTH; start++) {\n      if (columnDepths[start] > currDepth) {\n        // There are potentially widgets in the way here, so skip\n        continue;\n      }\n\n      // If all of the columns from start to end (the size of the widget)\n      // have at most the current depth, then we've found a valid positioning\n      // No other widgets extend into the space we need\n      const end = start + DEFAULT_WIDGET_WIDTH;\n      if (columnDepths.slice(start, end).every(val => val <= currDepth)) {\n        for (let col = start; col < start + DEFAULT_WIDGET_WIDTH; col++) {\n          columnDepths[col] = currDepth + height;\n        }\n        return [{x: start, y: currDepth}, [...columnDepths]];\n      }\n    }\n  }\n\n  for (let col = 0; col < DEFAULT_WIDGET_WIDTH; col++) {\n    columnDepths[col] = maxColumnDepth;\n  }\n  return [{x: 0, y: maxColumnDepth}, [...columnDepths]];\n}\n\nexport function assignDefaultLayout<T extends Pick<Widget, 'displayType' | 'layout'>>(\n  widgets: T[],\n  initialColumnDepths: number[]\n): T[] {\n  let columnDepths = [...initialColumnDepths];\n  const newWidgets = widgets.map(widget => {\n    if (defined(widget.layout)) {\n      return widget;\n    }\n    const height = getDefaultWidgetHeight(widget.displayType);\n    const [nextPosition, nextColumnDepths] = getNextAvailablePosition(\n      columnDepths,\n      height\n    );\n    columnDepths = nextColumnDepths;\n\n    return {\n      ...widget,\n      layout: {...nextPosition, h: height, minH: height, w: DEFAULT_WIDGET_WIDTH},\n    };\n  });\n  return newWidgets;\n}\n\nexport function enforceWidgetHeightValues(widget: Widget): Widget {\n  const {displayType, layout} = widget;\n  const nextWidget = {\n    ...widget,\n  };\n  if (!defined(layout)) {\n    return nextWidget;\n  }\n\n  const minH = getDefaultWidgetHeight(displayType);\n  const nextLayout = {\n    ...layout,\n    h: Math.max(layout?.h ?? minH, minH),\n    minH,\n  };\n  return {...nextWidget, layout: nextLayout};\n}\n\nexport function generateWidgetsAfterCompaction(widgets: Widget[]) {\n  // Resolves any potential compactions that need to occur after a\n  // single widget change would affect other widget positions, e.g. deletion\n  const nextLayout = compact(getDashboardLayout(widgets), 'vertical', NUM_DESKTOP_COLS);\n  return widgets.map(widget => {\n    const layout = nextLayout.find(({i}) => i === constructGridItemKey(widget));\n    if (!layout) {\n      return widget;\n    }\n    return {...widget, layout};\n  });\n}\n","import {ComponentProps, useEffect} from 'react';\nimport {useSortable} from '@dnd-kit/sortable';\nimport styled from '@emotion/styled';\n\nimport PanelAlert from 'sentry/components/panels/panelAlert';\nimport {Organization} from 'sentry/types';\nimport theme from 'sentry/utils/theme';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport WidgetCard from 'sentry/views/dashboardsV2/widgetCard';\n\nimport {DashboardFilters, Widget} from './types';\nimport DnDKitWidgetWrapper from './widgetWrapper';\n\nconst TABLE_ITEM_LIMIT = 20;\n\ntype Props = {\n  dragId: string;\n  index: string;\n  isEditing: boolean;\n  onDelete: () => void;\n  onDuplicate: () => void;\n  onEdit: () => void;\n  organization: Organization;\n  widget: Widget;\n  widgetLimitReached: boolean;\n  dashboardFilters?: DashboardFilters;\n  isMobile?: boolean;\n  isPreview?: boolean;\n  windowWidth?: number;\n};\n\nfunction SortableWidget(props: Props) {\n  const {\n    organization,\n    widget,\n    dragId,\n    isEditing,\n    widgetLimitReached,\n    onDelete,\n    onEdit,\n    onDuplicate,\n    isPreview,\n    isMobile,\n    windowWidth,\n    index,\n    dashboardFilters,\n  } = props;\n\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    isDragging: currentWidgetDragging,\n    isSorting,\n  } = useSortable({\n    id: dragId,\n    transition: null,\n  });\n\n  useEffect(() => {\n    if (!currentWidgetDragging) {\n      return undefined;\n    }\n\n    document.body.style.cursor = 'grabbing';\n\n    return function cleanup() {\n      document.body.style.cursor = '';\n    };\n  }, [currentWidgetDragging]);\n\n  let widgetProps: ComponentProps<typeof WidgetCard> = {\n    widget,\n    isEditing,\n    widgetLimitReached,\n    onDelete,\n    onEdit,\n    onDuplicate,\n    isSorting,\n    hideToolbar: isSorting,\n    currentWidgetDragging,\n    showContextMenu: true,\n    isPreview,\n    showWidgetViewerButton: organization.features.includes('widget-viewer-modal'),\n    index,\n    dashboardFilters,\n    renderErrorMessage: errorMessage => {\n      return (\n        typeof errorMessage === 'string' && (\n          <PanelAlert type=\"error\">{errorMessage}</PanelAlert>\n        )\n      );\n    },\n  };\n\n  if (organization.features.includes('dashboard-grid-layout')) {\n    widgetProps = {\n      ...widgetProps,\n      isMobile,\n      windowWidth,\n      // TODO(nar): These aren't necessary for supporting RGL\n      isSorting: false,\n      currentWidgetDragging: false,\n      tableItemLimit: TABLE_ITEM_LIMIT,\n    };\n    return (\n      <GridWidgetWrapper>\n        <WidgetCard {...widgetProps} />\n      </GridWidgetWrapper>\n    );\n  }\n\n  const initialStyles: ComponentProps<typeof DnDKitWidgetWrapper>['animate'] = {\n    zIndex: 'auto',\n  };\n\n  widgetProps = {...widgetProps, draggableProps: {attributes, listeners}};\n  return (\n    <DnDKitWidgetWrapper\n      ref={setNodeRef}\n      displayType={widget.displayType}\n      layoutId={dragId}\n      style={{\n        // Origin is set to top right-hand corner where the drag handle is placed.\n        // Otherwise, set the origin to be the top left-hand corner when swapping widgets.\n        originX: currentWidgetDragging ? 1 : 0,\n        originY: 0,\n        boxShadow: currentWidgetDragging ? theme.dropShadowHeavy : 'none',\n        borderRadius: currentWidgetDragging ? theme.borderRadius : undefined,\n      }}\n      animate={\n        transform\n          ? {\n              x: transform.x,\n              y: transform.y,\n              scaleX: transform?.scaleX && transform.scaleX <= 1 ? transform.scaleX : 1,\n              scaleY: transform?.scaleY && transform.scaleY <= 1 ? transform.scaleY : 1,\n              zIndex: currentWidgetDragging ? theme.zIndex.modal : 'auto',\n            }\n          : initialStyles\n      }\n      transformTemplate={(___transform, generatedTransform) => {\n        if (isEditing && !!transform) {\n          return generatedTransform;\n        }\n        return 'none';\n      }}\n      transition={{\n        duration: !currentWidgetDragging ? 0.25 : 0,\n        easings: {\n          type: 'spring',\n        },\n      }}\n    >\n      <WidgetCard {...widgetProps} />\n    </DnDKitWidgetWrapper>\n  );\n}\n\nexport default withOrganization(SortableWidget);\n\nconst GridWidgetWrapper = styled('div')`\n  height: 100%;\n`;\n","import React, {Component} from 'react';\nimport LazyLoad from 'react-lazyload';\n// eslint-disable-next-line no-restricted-imports\nimport {withRouter, WithRouterProps} from 'react-router';\nimport {useSortable} from '@dnd-kit/sortable';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\n\nimport {Client} from 'sentry/api';\nimport Feature from 'sentry/components/acl/feature';\nimport Alert from 'sentry/components/alert';\nimport Button from 'sentry/components/button';\nimport {HeaderTitle} from 'sentry/components/charts/styles';\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport FeatureBadge from 'sentry/components/featureBadge';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport {Panel} from 'sentry/components/panels';\nimport Placeholder from 'sentry/components/placeholder';\nimport {parseSearch} from 'sentry/components/searchSyntax/parser';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconCopy, IconDelete, IconEdit, IconGrabbable} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, PageFilters} from 'sentry/types';\nimport {Series} from 'sentry/types/echarts';\nimport {TableDataWithTitle} from 'sentry/utils/discover/discoverQuery';\nimport {parseFunction} from 'sentry/utils/discover/fields';\nimport withApi from 'sentry/utils/withApi';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport withPageFilters from 'sentry/utils/withPageFilters';\n\nimport {DRAG_HANDLE_CLASS} from '../dashboard';\nimport {DashboardFilters, DisplayType, Widget, WidgetType} from '../types';\nimport {isCustomMeasurementWidget} from '../utils';\nimport {DEFAULT_RESULTS_LIMIT} from '../widgetBuilder/utils';\n\nimport {DashboardsMEPConsumer, DashboardsMEPProvider} from './dashboardsMEPContext';\nimport WidgetCardChartContainer from './widgetCardChartContainer';\nimport WidgetCardContextMenu from './widgetCardContextMenu';\n\ntype DraggableProps = Pick<ReturnType<typeof useSortable>, 'attributes' | 'listeners'>;\n\ntype Props = WithRouterProps & {\n  api: Client;\n  currentWidgetDragging: boolean;\n  isEditing: boolean;\n  isSorting: boolean;\n  location: Location;\n  organization: Organization;\n  selection: PageFilters;\n  widget: Widget;\n  widgetLimitReached: boolean;\n  dashboardFilters?: DashboardFilters;\n  draggableProps?: DraggableProps;\n  hideToolbar?: boolean;\n  index?: string;\n  isMobile?: boolean;\n  isPreview?: boolean;\n  noDashboardsMEPProvider?: boolean;\n  noLazyLoad?: boolean;\n  onDelete?: () => void;\n  onDuplicate?: () => void;\n  onEdit?: () => void;\n  renderErrorMessage?: (errorMessage?: string) => React.ReactNode;\n  showContextMenu?: boolean;\n  showStoredAlert?: boolean;\n  showWidgetViewerButton?: boolean;\n  tableItemLimit?: number;\n  windowWidth?: number;\n};\n\ntype State = {\n  pageLinks?: string;\n  seriesData?: Series[];\n  seriesResultsType?: string;\n  tableData?: TableDataWithTitle[];\n  totalIssuesCount?: string;\n};\n\ntype SearchFilterKey = {key?: {value: string}};\n\nconst ERROR_FIELDS = [\n  'error.handled',\n  'error.unhandled',\n  'error.mechanism',\n  'error.type',\n  'error.value',\n];\n\nclass WidgetCard extends Component<Props, State> {\n  state: State = {};\n  renderToolbar() {\n    const {\n      onEdit,\n      onDelete,\n      onDuplicate,\n      draggableProps,\n      hideToolbar,\n      isEditing,\n      isMobile,\n    } = this.props;\n\n    if (!isEditing) {\n      return null;\n    }\n\n    return (\n      <ToolbarPanel>\n        <IconContainer style={{visibility: hideToolbar ? 'hidden' : 'visible'}}>\n          {!isMobile && (\n            <GrabbableButton\n              size=\"xs\"\n              aria-label={t('Drag Widget')}\n              icon={<IconGrabbable />}\n              borderless\n              className={DRAG_HANDLE_CLASS}\n              {...draggableProps?.listeners}\n              {...draggableProps?.attributes}\n            />\n          )}\n          <Button\n            data-test-id=\"widget-edit\"\n            aria-label={t('Edit Widget')}\n            size=\"xs\"\n            borderless\n            onClick={onEdit}\n            icon={<IconEdit />}\n          />\n          <Button\n            aria-label={t('Duplicate Widget')}\n            size=\"xs\"\n            borderless\n            onClick={onDuplicate}\n            icon={<IconCopy />}\n          />\n          <Button\n            data-test-id=\"widget-delete\"\n            aria-label={t('Delete Widget')}\n            borderless\n            size=\"xs\"\n            onClick={onDelete}\n            icon={<IconDelete />}\n          />\n        </IconContainer>\n      </ToolbarPanel>\n    );\n  }\n\n  renderContextMenu() {\n    const {\n      widget,\n      selection,\n      organization,\n      showContextMenu,\n      isPreview,\n      widgetLimitReached,\n      onEdit,\n      onDuplicate,\n      onDelete,\n      isEditing,\n      showWidgetViewerButton,\n      router,\n      location,\n      index,\n    } = this.props;\n\n    const {seriesData, tableData, pageLinks, totalIssuesCount, seriesResultsType} =\n      this.state;\n\n    if (isEditing) {\n      return null;\n    }\n\n    return (\n      <WidgetCardContextMenu\n        organization={organization}\n        widget={widget}\n        selection={selection}\n        showContextMenu={showContextMenu}\n        isPreview={isPreview}\n        widgetLimitReached={widgetLimitReached}\n        onDuplicate={onDuplicate}\n        onEdit={onEdit}\n        onDelete={onDelete}\n        showWidgetViewerButton={showWidgetViewerButton}\n        router={router}\n        location={location}\n        index={index}\n        seriesData={seriesData}\n        seriesResultsType={seriesResultsType}\n        tableData={tableData}\n        pageLinks={pageLinks}\n        totalIssuesCount={totalIssuesCount}\n      />\n    );\n  }\n\n  setData = ({\n    tableResults,\n    timeseriesResults,\n    totalIssuesCount,\n    pageLinks,\n    timeseriesResultsType,\n  }: {\n    pageLinks?: string;\n    tableResults?: TableDataWithTitle[];\n    timeseriesResults?: Series[];\n    timeseriesResultsType?: string;\n    totalIssuesCount?: string;\n  }) => {\n    this.setState({\n      seriesData: timeseriesResults,\n      tableData: tableResults,\n      totalIssuesCount,\n      pageLinks,\n      seriesResultsType: timeseriesResultsType,\n    });\n  };\n\n  render() {\n    const {\n      api,\n      organization,\n      selection,\n      widget,\n      isMobile,\n      renderErrorMessage,\n      tableItemLimit,\n      windowWidth,\n      noLazyLoad,\n      showStoredAlert,\n      noDashboardsMEPProvider,\n      dashboardFilters,\n    } = this.props;\n\n    if (widget.displayType === DisplayType.TOP_N) {\n      const queries = widget.queries.map(query => ({\n        ...query,\n        // Use the last aggregate because that's where the y-axis is stored\n        aggregates: query.aggregates.length\n          ? [query.aggregates[query.aggregates.length - 1]]\n          : [],\n      }));\n      widget.queries = queries;\n      widget.limit = DEFAULT_RESULTS_LIMIT;\n    }\n\n    function conditionalWrapWithDashboardsMEPProvider(component: React.ReactNode) {\n      if (noDashboardsMEPProvider) {\n        return component;\n      }\n      return <DashboardsMEPProvider>{component}</DashboardsMEPProvider>;\n    }\n    const widgetContainsErrorFields = widget.queries.some(\n      ({columns, aggregates, conditions}) =>\n        ERROR_FIELDS.some(\n          errorField =>\n            columns.includes(errorField) ||\n            aggregates.some(aggregate =>\n              parseFunction(aggregate)?.arguments.includes(errorField)\n            ) ||\n            parseSearch(conditions)?.some(\n              filter => (filter as SearchFilterKey).key?.value === errorField\n            )\n        )\n    );\n    return (\n      <ErrorBoundary\n        customComponent={<ErrorCard>{t('Error loading widget data')}</ErrorCard>}\n      >\n        {conditionalWrapWithDashboardsMEPProvider(\n          <React.Fragment>\n            <WidgetCardPanel isDragging={false}>\n              <WidgetHeader>\n                <Tooltip\n                  title={widget.title}\n                  containerDisplayMode=\"grid\"\n                  showOnlyOnOverflow\n                >\n                  <WidgetTitle>{widget.title}</WidgetTitle>\n                </Tooltip>\n                {this.renderContextMenu()}\n              </WidgetHeader>\n              {noLazyLoad ? (\n                <WidgetCardChartContainer\n                  api={api}\n                  organization={organization}\n                  selection={selection}\n                  widget={widget}\n                  isMobile={isMobile}\n                  renderErrorMessage={renderErrorMessage}\n                  tableItemLimit={tableItemLimit}\n                  windowWidth={windowWidth}\n                  onDataFetched={this.setData}\n                  dashboardFilters={dashboardFilters}\n                />\n              ) : (\n                <LazyLoad once resize height={200}>\n                  <WidgetCardChartContainer\n                    api={api}\n                    organization={organization}\n                    selection={selection}\n                    widget={widget}\n                    isMobile={isMobile}\n                    renderErrorMessage={renderErrorMessage}\n                    tableItemLimit={tableItemLimit}\n                    windowWidth={windowWidth}\n                    onDataFetched={this.setData}\n                    dashboardFilters={dashboardFilters}\n                  />\n                </LazyLoad>\n              )}\n              {this.renderToolbar()}\n            </WidgetCardPanel>\n            <Feature organization={organization} features={['dashboards-mep']}>\n              <DashboardsMEPConsumer>\n                {({isMetricsData}) => {\n                  if (\n                    showStoredAlert &&\n                    isMetricsData === false &&\n                    widget.widgetType === WidgetType.DISCOVER\n                  ) {\n                    if (isCustomMeasurementWidget(widget)) {\n                      return (\n                        <StoredDataAlert showIcon type=\"error\">\n                          {tct(\n                            'You have inputs that are incompatible with [customPerformanceMetrics: custom performance metrics]. See all compatible fields and functions [here: here]. Update your inputs or remove any custom performance metrics.',\n                            {\n                              customPerformanceMetrics: (\n                                <ExternalLink href=\"https://docs.sentry.io/product/sentry-basics/metrics/#custom-performance-measurements\" />\n                              ),\n                              here: (\n                                <ExternalLink href=\"https://docs.sentry.io/product/sentry-basics/search/searchable-properties/#properties-table\" />\n                              ),\n                            }\n                          )}\n                          <FeatureBadge type=\"beta\" />\n                        </StoredDataAlert>\n                      );\n                    }\n                    if (!widgetContainsErrorFields) {\n                      return (\n                        <StoredDataAlert showIcon>\n                          {tct(\n                            \"Your selection is only applicable to [indexedData: indexed event data]. We've automatically adjusted your results.\",\n                            {\n                              indexedData: (\n                                <ExternalLink href=\"https://docs.sentry.io/product/dashboards/widget-builder/#errors--transactions\" />\n                              ),\n                            }\n                          )}\n                          <FeatureBadge type=\"beta\" />\n                        </StoredDataAlert>\n                      );\n                    }\n                  }\n                  return null;\n                }}\n              </DashboardsMEPConsumer>\n            </Feature>\n          </React.Fragment>\n        )}\n      </ErrorBoundary>\n    );\n  }\n}\n\nexport default withApi(withOrganization(withPageFilters(withRouter(WidgetCard))));\n\nconst ErrorCard = styled(Placeholder)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ${p => p.theme.alert.error.backgroundLight};\n  border: 1px solid ${p => p.theme.alert.error.border};\n  color: ${p => p.theme.alert.error.textLight};\n  border-radius: ${p => p.theme.borderRadius};\n  margin-bottom: ${space(2)};\n`;\n\nexport const WidgetCardPanel = styled(Panel, {\n  shouldForwardProp: prop => prop !== 'isDragging',\n})<{\n  isDragging: boolean;\n}>`\n  margin: 0;\n  visibility: ${p => (p.isDragging ? 'hidden' : 'visible')};\n  /* If a panel overflows due to a long title stretch its grid sibling */\n  height: 100%;\n  min-height: 96px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ToolbarPanel = styled('div')`\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-start;\n\n  background-color: ${p => p.theme.overlayBackgroundAlpha};\n  border-radius: ${p => p.theme.borderRadius};\n`;\n\nconst IconContainer = styled('div')`\n  display: flex;\n  margin: ${space(1)};\n  touch-action: none;\n`;\n\nconst GrabbableButton = styled(Button)`\n  cursor: grab;\n`;\n\nconst WidgetTitle = styled(HeaderTitle)`\n  ${p => p.theme.overflowEllipsis};\n  font-weight: normal;\n`;\n\nconst WidgetHeader = styled('div')`\n  padding: ${space(2)} ${space(1)} 0 ${space(3)};\n  min-height: 36px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst StoredDataAlert = styled(Alert)`\n  margin-top: ${space(1)};\n  margin-bottom: 0;\n`;\n","import {InjectedRouter} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\n\nimport {openDashboardWidgetQuerySelectorModal} from 'sentry/actionCreators/modal';\nimport Feature from 'sentry/components/acl/feature';\nimport Button from 'sentry/components/button';\nimport {openConfirmModal} from 'sentry/components/confirm';\nimport DropdownMenuControl from 'sentry/components/dropdownMenuControl';\nimport {MenuItemProps} from 'sentry/components/dropdownMenuItem';\nimport {isWidgetViewerPath} from 'sentry/components/modals/widgetViewerModal/utils';\nimport Tag from 'sentry/components/tag';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconEllipsis, IconExpand} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, PageFilters} from 'sentry/types';\nimport {Series} from 'sentry/types/echarts';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport {TableDataWithTitle} from 'sentry/utils/discover/discoverQuery';\nimport {\n  getWidgetDiscoverUrl,\n  getWidgetIssueUrl,\n  isCustomMeasurementWidget,\n} from 'sentry/views/dashboardsV2/utils';\n\nimport {Widget, WidgetType} from '../types';\nimport {WidgetViewerContext} from '../widgetViewer/widgetViewerContext';\n\nimport {useDashboardsMEPContext} from './dashboardsMEPContext';\n\ntype Props = {\n  location: Location;\n  organization: Organization;\n  router: InjectedRouter;\n  selection: PageFilters;\n  widget: Widget;\n  widgetLimitReached: boolean;\n  index?: string;\n  isPreview?: boolean;\n  onDelete?: () => void;\n  onDuplicate?: () => void;\n  onEdit?: () => void;\n  pageLinks?: string;\n  seriesData?: Series[];\n  seriesResultsType?: string;\n  showContextMenu?: boolean;\n  showWidgetViewerButton?: boolean;\n  tableData?: TableDataWithTitle[];\n  totalIssuesCount?: string;\n};\n\nfunction WidgetCardContextMenu({\n  organization,\n  selection,\n  widget,\n  widgetLimitReached,\n  onDelete,\n  onDuplicate,\n  onEdit,\n  showContextMenu,\n  isPreview,\n  showWidgetViewerButton,\n  router,\n  location,\n  index,\n  seriesData,\n  tableData,\n  pageLinks,\n  totalIssuesCount,\n  seriesResultsType,\n}: Props) {\n  const {isMetricsData} = useDashboardsMEPContext();\n  if (!showContextMenu) {\n    return null;\n  }\n\n  const menuOptions: MenuItemProps[] = [];\n  const usingCustomMeasurements = isCustomMeasurementWidget(widget);\n  const disabledKeys: string[] = usingCustomMeasurements ? ['open-in-discover'] : [];\n\n  const openWidgetViewerPath = (id: string | undefined) => {\n    if (!isWidgetViewerPath(location.pathname)) {\n      router.push({\n        pathname: `${location.pathname}${\n          location.pathname.endsWith('/') ? '' : '/'\n        }widget/${id}/`,\n        query: location.query,\n      });\n    }\n  };\n\n  if (isPreview) {\n    return (\n      <WidgetViewerContext.Consumer>\n        {({setData}) => (\n          <ContextWrapper>\n            <Feature organization={organization} features={['dashboards-mep']}>\n              {isMetricsData === false && (\n                <SampledTag\n                  tooltipText={t('This widget is only applicable to indexed events.')}\n                >\n                  {t('Indexed')}\n                </SampledTag>\n              )}\n            </Feature>\n            <StyledDropdownMenuControl\n              items={[\n                {\n                  key: 'preview',\n                  label: t(\n                    'This is a preview only. To edit, you must add this dashboard.'\n                  ),\n                },\n              ]}\n              triggerProps={{\n                'aria-label': t('Widget actions'),\n                size: 'xs',\n                borderless: true,\n                showChevron: false,\n                icon: <IconEllipsis direction=\"down\" size=\"sm\" />,\n              }}\n              placement=\"bottom right\"\n              disabledKeys={[...disabledKeys, 'preview']}\n            />\n            {showWidgetViewerButton && (\n              <OpenWidgetViewerButton\n                aria-label={t('Open Widget Viewer')}\n                priority=\"link\"\n                size=\"zero\"\n                icon={<IconExpand size=\"xs\" />}\n                onClick={() => {\n                  (seriesData || tableData) &&\n                    setData({\n                      seriesData,\n                      tableData,\n                      pageLinks,\n                      totalIssuesCount,\n                      seriesResultsType,\n                    });\n                  openWidgetViewerPath(index);\n                }}\n              />\n            )}\n          </ContextWrapper>\n        )}\n      </WidgetViewerContext.Consumer>\n    );\n  }\n\n  if (\n    organization.features.includes('discover-basic') &&\n    widget.widgetType === WidgetType.DISCOVER\n  ) {\n    // Open Widget in Discover\n    if (widget.queries.length) {\n      const discoverPath = getWidgetDiscoverUrl(\n        widget,\n        selection,\n        organization,\n        0,\n        isMetricsData\n      );\n      menuOptions.push({\n        key: 'open-in-discover',\n        label: usingCustomMeasurements ? (\n          <Tooltip\n            skipWrapper\n            title={t(\n              'Widget using custom performance metrics cannot be opened in Discover.'\n            )}\n          >\n            {t('Open in Discover')}\n          </Tooltip>\n        ) : (\n          t('Open in Discover')\n        ),\n        to:\n          !usingCustomMeasurements && widget.queries.length === 1\n            ? discoverPath\n            : undefined,\n        onAction: () => {\n          if (!usingCustomMeasurements) {\n            if (widget.queries.length === 1) {\n              trackAdvancedAnalyticsEvent('dashboards_views.open_in_discover.opened', {\n                organization,\n                widget_type: widget.displayType,\n              });\n              return;\n            }\n\n            trackAdvancedAnalyticsEvent('dashboards_views.query_selector.opened', {\n              organization,\n              widget_type: widget.displayType,\n            });\n            openDashboardWidgetQuerySelectorModal({organization, widget, isMetricsData});\n          }\n        },\n      });\n    }\n  }\n\n  if (widget.widgetType === WidgetType.ISSUE) {\n    const issuesLocation = getWidgetIssueUrl(widget, selection, organization);\n\n    menuOptions.push({\n      key: 'open-in-issues',\n      label: t('Open in Issues'),\n      to: issuesLocation,\n    });\n  }\n\n  if (organization.features.includes('dashboards-edit')) {\n    menuOptions.push({\n      key: 'duplicate-widget',\n      label: t('Duplicate Widget'),\n      onAction: () => onDuplicate?.(),\n    });\n    widgetLimitReached && disabledKeys.push('duplicate-widget');\n\n    menuOptions.push({\n      key: 'edit-widget',\n      label: t('Edit Widget'),\n      onAction: () => onEdit?.(),\n    });\n\n    menuOptions.push({\n      key: 'delete-widget',\n      label: t('Delete Widget'),\n      priority: 'danger',\n      onAction: () => {\n        openConfirmModal({\n          message: t('Are you sure you want to delete this widget?'),\n          priority: 'danger',\n          onConfirm: () => onDelete?.(),\n        });\n      },\n    });\n  }\n\n  if (!menuOptions.length) {\n    return null;\n  }\n\n  return (\n    <WidgetViewerContext.Consumer>\n      {({setData}) => (\n        <ContextWrapper>\n          <Feature organization={organization} features={['dashboards-mep']}>\n            {isMetricsData === false && (\n              <SampledTag\n                tooltipText={t('This widget is only applicable to indexed events.')}\n              >\n                {t('Indexed')}\n              </SampledTag>\n            )}\n          </Feature>\n          <StyledDropdownMenuControl\n            items={menuOptions}\n            triggerProps={{\n              'aria-label': t('Widget actions'),\n              size: 'xs',\n              borderless: true,\n              showChevron: false,\n              icon: <IconEllipsis direction=\"down\" size=\"sm\" />,\n            }}\n            placement=\"bottom right\"\n            disabledKeys={[...disabledKeys]}\n          />\n          {showWidgetViewerButton && (\n            <OpenWidgetViewerButton\n              aria-label={t('Open Widget Viewer')}\n              priority=\"link\"\n              size=\"zero\"\n              icon={<IconExpand size=\"xs\" />}\n              onClick={() => {\n                setData({\n                  seriesData,\n                  tableData,\n                  pageLinks,\n                  totalIssuesCount,\n                  seriesResultsType,\n                });\n                openWidgetViewerPath(widget.id ?? index);\n              }}\n            />\n          )}\n        </ContextWrapper>\n      )}\n    </WidgetViewerContext.Consumer>\n  );\n}\n\nexport default WidgetCardContextMenu;\n\nconst ContextWrapper = styled('div')`\n  display: flex;\n  align-items: center;\n  height: ${space(3)};\n  margin-left: ${space(1)};\n`;\n\nconst StyledDropdownMenuControl = styled(DropdownMenuControl)`\n  & > button {\n    z-index: auto;\n  }\n`;\n\nconst OpenWidgetViewerButton = styled(Button)`\n  padding: ${space(0.75)} ${space(1)};\n  color: ${p => p.theme.textColor};\n  &:hover {\n    color: ${p => p.theme.textColor};\n    background: ${p => p.theme.surface400};\n    border-color: transparent;\n  }\n`;\n\nconst SampledTag = styled(Tag)`\n  margin-right: ${space(0.5)};\n`;\n","import {createContext} from 'react';\n\nimport {Series} from 'sentry/types/echarts';\nimport {TableDataWithTitle} from 'sentry/utils/discover/discoverQuery';\n\nexport type WidgetViewerContextProps = {\n  setData: (data: {\n    pageLinks?: string;\n    seriesData?: Series[];\n    seriesResultsType?: string;\n    tableData?: TableDataWithTitle[];\n    totalIssuesCount?: string;\n  }) => void;\n  pageLinks?: string;\n  seriesData?: Series[];\n  seriesResultsType?: string;\n  tableData?: TableDataWithTitle[];\n  totalIssuesCount?: string;\n};\n\nexport const WidgetViewerContext = createContext<WidgetViewerContextProps>({\n  setData: () => undefined,\n});\n","import styled from '@emotion/styled';\nimport {motion} from 'framer-motion';\n\nimport {Widget} from './types';\n\nconst WidgetWrapper = styled(motion.div)<{displayType: Widget['displayType']}>`\n  position: relative;\n  touch-action: manipulation;\n\n  ${p => {\n    switch (p.displayType) {\n      case 'big_number':\n        return `\n          /* 2 cols */\n          grid-area: span 1 / span 2;\n\n          @media (min-width: ${p.theme.breakpoints.small}) {\n            /* 4 cols */\n            grid-area: span 1 / span 1;\n          }\n\n          @media (min-width: ${p.theme.breakpoints.xlarge}) {\n            /* 6 and 8 cols */\n            grid-area: span 1 / span 2;\n          }\n        `;\n      default:\n        return `\n          /* 2, 4, 6 and 8 cols */\n          grid-area: span 2 / span 2;\n        `;\n    }\n  }};\n`;\n\nexport default WidgetWrapper;\n"],"names":["omit","addErrorMessage","ALL_ACCESS_PROJECTS","t","flattenErrors","fetchDashboards","api","orgSlug","promise","requestPromise","method","query","sort","catch","response","errorResponse","responseJSON","errors","Object","keys","createDashboard","orgId","newDashboard","duplicate","title","widgets","projects","environment","period","start","end","filters","utc","data","map","widget","project","updateDashboardVisit","dashboardId","fetchDashboard","updateDashboard","dashboard","id","deleteDashboard","validateWidget","useSortable","Button","IconAdd","DisplayType","WidgetWrapper","ADD_WIDGET_BUTTON_DRAG_ID","initialStyles","x","y","scaleX","scaleY","AddWidget","onAddWidget","setNodeRef","transform","disabled","transition","BIG_NUMBER","originX","originY","duration","AddButton","InnerWrapper","p","theme","border","borderRadius","onClick","Component","Responsive","WidthProvider","forceCheck","closestCenter","DndContext","arrayMove","rectSortingStrategy","SortableContext","cloneDeep","debounce","isEqual","fetchOrgMembers","openAddDashboardWidgetModal","loadOrganizationTags","IconResize","space","trackAdvancedAnalyticsEvent","withApi","withPageFilters","assignDefaultLayout","assignTempId","calculateColumnDepths","constructGridItemKey","DEFAULT_WIDGET_WIDTH","enforceWidgetHeightValues","generateWidgetId","generateWidgetsAfterCompaction","getDashboardLayout","getDefaultWidgetHeight","getMobileLayout","getNextAvailablePosition","pickDefinedStoreKeys","SortableWidget","DashboardWidgetSource","WidgetType","getDashboardFiltersFromURL","DRAG_HANDLE_CLASS","DRAG_RESIZE_CLASS","DESKTOP","MOBILE","NUM_DESKTOP_COLS","NUM_MOBILE_COLS","ROW_HEIGHT","WIDGET_MARGINS","BOTTOM_MOBILE_VIEW_POSITION","Number","MAX_SAFE_INTEGER","MOBILE_BREAKPOINT","parseInt","breakpoints","small","BREAKPOINTS","COLUMNS","Dashboard","constructor","props","undefined","setState","windowWidth","window","innerWidth","organization","selection","handleUpdateWidgetList","handleAddCustomWidget","router","location","paramDashboardId","features","includes","push","pathname","slug","source","DASHBOARDS","onAddLibraryWidget","LIBRARY","prevWidget","nextWidget","isEditing","onUpdate","nextList","updateIndex","indexOf","nextWidgetData","tempId","displayType","widgetToDelete","filter","index","widgetCopy","splice","modalProps","onUpdateWidget","handleUpdateComplete","_","allLayouts","isMobile","state","isNotAddButton","i","newLayouts","columnDepths","newWidgets","gridKey","matchingLayout","find","height","defaultWidgetParams","w","h","minH","nextPosition","nextColumnDepths","mobileLayout","layout","layouts","clearTimeout","forceCheckTimeout","setTimeout","newBreakpoint","widgetLimitReached","widgetType","RELEASE","items","getWidgetIds","over","active","activeDragId","getIndex","bind","activeIndex","overIndex","renderWidget","handleStartAdd","isUsingGrid","desktopLayout","getDerivedStateFromProps","dashboardLayout","componentDidMount","newWidget","addEventListener","debouncedHandleResize","fetchTags","addNewWidget","fetchMemberList","componentDidUpdate","prevProps","componentWillUnmount","removeEventListener","projectId","String","onSetNewWidget","error","isPreview","widgetProps","onDelete","handleDeleteWidget","onEdit","handleEditWidget","onDuplicate","handleDuplicateWidget","dashboardFilters","key","dragId","addWidgetLayout","position","isResizable","renderGridDashboard","widgetsWithLayout","canModifyLayout","handleLayoutChange","handleBreakpointChange","render","renderDndDashboard","WidgetContainer","medium","xlarge","xxlarge","AddWidgetWrapper","background","GridLayout","purple200","ResizeHandle","subText","compact","pickBy","sortBy","zip","defined","uniqueId","WIDGET_PREFIX","STORE_KEYS","getDefaultPosition","length","layoutWidgetPairs","sorted","value","getInitialColumnDepths","Array","fill","depths","forEach","col","Math","max","initialColumnDepths","maxColumnDepth","currDepth","slice","every","val","nextLayout","useEffect","PanelAlert","withOrganization","WidgetCard","DnDKitWidgetWrapper","TABLE_ITEM_LIMIT","attributes","listeners","isDragging","currentWidgetDragging","isSorting","document","body","style","cursor","cleanup","hideToolbar","showContextMenu","showWidgetViewerButton","renderErrorMessage","errorMessage","tableItemLimit","zIndex","draggableProps","boxShadow","dropShadowHeavy","modal","___transform","generatedTransform","easings","type","GridWidgetWrapper","React","LazyLoad","withRouter","Feature","Alert","HeaderTitle","ErrorBoundary","FeatureBadge","ExternalLink","Panel","Placeholder","parseSearch","Tooltip","IconCopy","IconDelete","IconEdit","IconGrabbable","tct","parseFunction","isCustomMeasurementWidget","DEFAULT_RESULTS_LIMIT","DashboardsMEPConsumer","DashboardsMEPProvider","WidgetCardChartContainer","WidgetCardContextMenu","ERROR_FIELDS","tableResults","timeseriesResults","totalIssuesCount","pageLinks","timeseriesResultsType","seriesData","tableData","seriesResultsType","renderToolbar","visibility","renderContextMenu","noLazyLoad","showStoredAlert","noDashboardsMEPProvider","TOP_N","queries","aggregates","limit","conditionalWrapWithDashboardsMEPProvider","component","widgetContainsErrorFields","some","columns","conditions","errorField","aggregate","arguments","setData","isMetricsData","DISCOVER","customPerformanceMetrics","here","indexedData","ErrorCard","alert","backgroundLight","textLight","WidgetCardPanel","shouldForwardProp","prop","ToolbarPanel","overlayBackgroundAlpha","IconContainer","GrabbableButton","WidgetTitle","overflowEllipsis","WidgetHeader","StoredDataAlert","openDashboardWidgetQuerySelectorModal","openConfirmModal","DropdownMenuControl","isWidgetViewerPath","Tag","IconEllipsis","IconExpand","getWidgetDiscoverUrl","getWidgetIssueUrl","WidgetViewerContext","useDashboardsMEPContext","menuOptions","usingCustomMeasurements","disabledKeys","openWidgetViewerPath","endsWith","label","size","borderless","showChevron","icon","discoverPath","to","onAction","widget_type","ISSUE","issuesLocation","priority","message","onConfirm","ContextWrapper","StyledDropdownMenuControl","OpenWidgetViewerButton","textColor","surface400","SampledTag","createContext","motion","div"],"sourceRoot":""}