{"version":3,"file":"chunks/app_views_settings_project_projectOwnership_ownerInput_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/actions/projectActions.tsx","webpack:///./app/components/avatar/actorAvatar.tsx","webpack:///./app/components/deprecatedforms/multiSelectControl.tsx","webpack:///./app/components/textOverflow.tsx","webpack:///./app/stores/memberListStore.tsx","webpack:///./app/stores/projectsStore.tsx","webpack:///./app/utils/parseLinkHeader.tsx","webpack:///./app/utils/teams.tsx","webpack:///./app/utils/useProjects.tsx","webpack:///./app/utils/withProjects.tsx","webpack:///./app/views/settings/project/projectOwnership/ownerInput.tsx","webpack:///./app/views/settings/project/projectOwnership/ruleBuilder.tsx","webpack:///./app/views/settings/project/projectOwnership/selectOwners.tsx"],"sourcesContent":["import {createActions} from 'reflux';\n\nconst ProjectActions = createActions([\n  'addTeam',\n  'addTeamError',\n  'addTeamSuccess',\n  'changeSlug',\n  'createSuccess',\n  'loadProjects',\n  'loadStats',\n  'loadStatsError',\n  'loadStatsForProjectSuccess',\n  'loadStatsSuccess',\n  'removeProject',\n  'removeProjectError',\n  'removeProjectSuccess',\n  'removeTeam',\n  'removeTeamError',\n  'removeTeamSuccess',\n  'reset',\n  'setActive',\n  'update',\n  'updateError',\n  'updateSuccess',\n]);\n\nexport default ProjectActions;\n","import {Component} from 'react';\nimport * as Sentry from '@sentry/react';\n\nimport TeamAvatar from 'sentry/components/avatar/teamAvatar';\nimport UserAvatar from 'sentry/components/avatar/userAvatar';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport Tooltip from 'sentry/components/tooltip';\nimport MemberListStore from 'sentry/stores/memberListStore';\nimport {Actor} from 'sentry/types';\nimport Teams from 'sentry/utils/teams';\n\ntype DefaultProps = {\n  hasTooltip: boolean;\n  size: number;\n};\n\ntype Props = DefaultProps & {\n  actor: Actor;\n  className?: string;\n  default?: string;\n  gravatar?: boolean;\n  onClick?: () => void;\n  suggested?: boolean;\n  title?: string;\n  tooltip?: React.ReactNode;\n  tooltipOptions?: Omit<React.ComponentProps<typeof Tooltip>, 'children' | 'title'>;\n};\n\nclass ActorAvatar extends Component<Props> {\n  static defaultProps: DefaultProps = {\n    size: 24,\n    hasTooltip: true,\n  };\n\n  render() {\n    const {actor, ...props} = this.props;\n\n    if (actor.type === 'user') {\n      const user = actor.id ? MemberListStore.getById(actor.id) ?? actor : actor;\n      return <UserAvatar user={user} {...props} />;\n    }\n\n    if (actor.type === 'team') {\n      return (\n        <Teams ids={[actor.id]}>\n          {({initiallyLoaded, teams}) =>\n            initiallyLoaded ? (\n              <TeamAvatar team={teams[0]} {...props} />\n            ) : (\n              <LoadingIndicator mini />\n            )\n          }\n        </Teams>\n      );\n    }\n\n    Sentry.withScope(scope => {\n      scope.setExtra('actor', actor);\n      Sentry.captureException(new Error('Unknown avatar type'));\n    });\n\n    return null;\n  }\n}\n\nexport default ActorAvatar;\n","import {forwardRef} from 'react';\nimport ReactSelect from 'react-select';\n\nimport SelectControl, {ControlProps} from 'sentry/components/forms/selectControl';\nimport {SelectValue} from 'sentry/types';\n\nexport type MultiControlProps = Omit<ControlProps, 'onChange'> & {\n  /**\n   * Triggered when values change.\n   */\n  onChange?: (value?: SelectValue<any>[] | null) => void;\n};\n\nexport default forwardRef<ReactSelect, MultiControlProps>(function MultiSelectControl(\n  props,\n  ref\n) {\n  return <SelectControl forwardedRef={ref} {...props} multiple />;\n});\n","import styled from '@emotion/styled';\n\ntype Props = {\n  children: React.ReactNode;\n  className?: string;\n  ['data-test-id']?: string;\n  /**\n   * Change which side of the text is elided.\n   * Default: 'right'\n   *\n   * BROWSER COMPAT:\n   * When set to `left` the intention is for something like: `...xample.com/foo/`\n   * In Chrome & Firefox this is what happens.\n   *\n   * In Safari (July 2022) you will see this instead: `...https://example.co`.\n   *\n   * See: https://stackoverflow.com/a/24800788\n   */\n  ellipsisDirection?: 'left' | 'right';\n  isParagraph?: boolean;\n};\n\nconst TextOverflow = styled(\n  ({\n    children,\n    className,\n    ellipsisDirection,\n    isParagraph,\n    ['data-test-id']: dataTestId,\n  }: Props) => {\n    const Component = isParagraph ? 'p' : 'div';\n    if (ellipsisDirection === 'left') {\n      return (\n        <Component className={className} data-test-id={dataTestId}>\n          <bdi>{children}</bdi>\n        </Component>\n      );\n    }\n    return (\n      <Component className={className} data-test-id={dataTestId}>\n        {children}\n      </Component>\n    );\n  }\n)`\n  ${p => p.theme.overflowEllipsis}\n  ${p =>\n    p.ellipsisDirection === 'left' &&\n    `\n      direction: rtl;\n      text-align: left;\n    `};\n  width: auto;\n  line-height: 1.2;\n`;\n\nTextOverflow.defaultProps = {\n  ellipsisDirection: 'right',\n  isParagraph: false,\n};\n\nexport default TextOverflow;\n","import {createStore, StoreDefinition} from 'reflux';\n\nimport {User} from 'sentry/types';\nimport {makeSafeRefluxStore} from 'sentry/utils/makeSafeRefluxStore';\n\ninterface MemberListStoreDefinition extends StoreDefinition {\n  getAll(): User[];\n  getByEmail(email: string): User | undefined;\n  getById(id: string): User | undefined;\n  init(): void;\n  isLoaded(): boolean;\n  loadInitialData(items: User[]): void;\n  loaded: boolean;\n  state: User[];\n}\n\nconst storeConfig: MemberListStoreDefinition = {\n  // listenables: MemberActions,\n\n  loaded: false,\n  state: [],\n\n  init() {\n    this.state = [];\n    this.loaded = false;\n  },\n\n  // TODO(dcramer): this should actually come from an action of some sorts\n  loadInitialData(items: User[]) {\n    this.state = items;\n    this.loaded = true;\n    this.trigger(this.state, 'initial');\n  },\n\n  isLoaded() {\n    return this.loaded;\n  },\n\n  getById(id) {\n    if (!this.state) {\n      return undefined;\n    }\n\n    id = '' + id;\n    for (let i = 0; i < this.state.length; i++) {\n      if (this.state[i].id === id) {\n        return this.state[i];\n      }\n    }\n    return undefined;\n  },\n\n  getByEmail(email) {\n    if (!this.state) {\n      return undefined;\n    }\n\n    email = email.toLowerCase();\n    for (let i = 0; i < this.state.length; i++) {\n      if (this.state[i].email.toLowerCase() === email) {\n        return this.state[i];\n      }\n    }\n    return undefined;\n  },\n\n  getAll() {\n    return this.state;\n  },\n};\n\nconst MemberListStore = createStore(makeSafeRefluxStore(storeConfig));\nexport default MemberListStore;\n","import {createStore} from 'reflux';\n\nimport ProjectActions from 'sentry/actions/projectActions';\nimport TeamActions from 'sentry/actions/teamActions';\nimport {Project, Team} from 'sentry/types';\nimport {makeSafeRefluxStore} from 'sentry/utils/makeSafeRefluxStore';\n\nimport {CommonStoreDefinition} from './types';\n\ntype State = {\n  loading: boolean;\n  projects: Project[];\n};\n\ntype StatsData = Record<string, Project['stats']>;\n\n/**\n * Attributes that need typing but aren't part of the external interface,\n */\ntype InternalDefinition = {\n  itemsById: Record<string, Project>;\n  loading: boolean;\n  removeTeamFromProject(teamSlug: string, project: Project): void;\n};\n\ninterface ProjectsStoreDefinition\n  extends InternalDefinition,\n    CommonStoreDefinition<State> {\n  getAll(): Project[];\n  getById(id?: string): Project | undefined;\n  getBySlug(slug?: string): Project | undefined;\n  init(): void;\n  isLoading(): boolean;\n  loadInitialData(projects: Project[]): void;\n  onAddTeam(team: Team, projectSlug: string): void;\n  onChangeSlug(prevSlug: string, newSlug: string): void;\n  onCreateSuccess(project: Project): void;\n  onDeleteTeam(slug: string): void;\n  onRemoveTeam(teamSlug: string, projectSlug: string): void;\n  onStatsLoadSuccess(data: StatsData): void;\n  onUpdateSuccess(data: Partial<Project>): void;\n  reset(): void;\n}\n\nconst storeConfig: ProjectsStoreDefinition = {\n  itemsById: {},\n  loading: true,\n  unsubscribeListeners: [],\n\n  init() {\n    this.reset();\n\n    this.unsubscribeListeners.push(\n      this.listenTo(ProjectActions.addTeamSuccess, this.onAddTeam)\n    );\n    this.unsubscribeListeners.push(\n      this.listenTo(ProjectActions.changeSlug, this.onChangeSlug)\n    );\n    this.unsubscribeListeners.push(\n      this.listenTo(ProjectActions.createSuccess, this.onCreateSuccess)\n    );\n    this.unsubscribeListeners.push(\n      this.listenTo(ProjectActions.loadProjects, this.loadInitialData)\n    );\n    this.unsubscribeListeners.push(\n      this.listenTo(ProjectActions.loadStatsSuccess, this.onStatsLoadSuccess)\n    );\n    this.unsubscribeListeners.push(\n      this.listenTo(ProjectActions.removeTeamSuccess, this.onRemoveTeam)\n    );\n    this.unsubscribeListeners.push(this.listenTo(ProjectActions.reset, this.reset));\n    this.unsubscribeListeners.push(\n      this.listenTo(ProjectActions.updateSuccess, this.onUpdateSuccess)\n    );\n\n    this.unsubscribeListeners.push(\n      this.listenTo(TeamActions.removeTeamSuccess, this.onDeleteTeam)\n    );\n  },\n\n  reset() {\n    this.itemsById = {};\n    this.loading = true;\n  },\n\n  loadInitialData(items: Project[]) {\n    const mapping = items.map(project => [project.id, project] as const);\n\n    this.itemsById = Object.fromEntries(mapping);\n    this.loading = false;\n\n    this.trigger(new Set(Object.keys(this.itemsById)));\n  },\n\n  onChangeSlug(prevSlug: string, newSlug: string) {\n    const prevProject = this.getBySlug(prevSlug);\n\n    if (!prevProject) {\n      return;\n    }\n\n    const newProject = {...prevProject, slug: newSlug};\n\n    this.itemsById = {...this.itemsById, [newProject.id]: newProject};\n    this.trigger(new Set([prevProject.id]));\n  },\n\n  onCreateSuccess(project: Project) {\n    this.itemsById = {...this.itemsById, [project.id]: project};\n    this.trigger(new Set([project.id]));\n  },\n\n  onUpdateSuccess(data: Partial<Project>) {\n    const project = this.getById(data.id);\n\n    if (!project) {\n      return;\n    }\n\n    const newProject = {...project, ...data};\n\n    this.itemsById = {...this.itemsById, [project.id]: newProject};\n    this.trigger(new Set([data.id]));\n  },\n\n  onStatsLoadSuccess(data) {\n    const entries = Object.entries(data || {}).filter(\n      ([projectId]) => projectId in this.itemsById\n    );\n\n    // Assign stats into projects\n    entries.forEach(([projectId, stats]) => {\n      this.itemsById[projectId].stats = stats;\n    });\n\n    const touchedIds = entries.map(([projectId]) => projectId);\n    this.trigger(new Set(touchedIds));\n  },\n\n  /**\n   * Listener for when a team is completely removed\n   *\n   * @param teamSlug Team Slug\n   */\n  onDeleteTeam(teamSlug: string) {\n    // Look for team in all projects\n    const projects = this.getAll().filter(({teams}) =>\n      teams.find(({slug}) => slug === teamSlug)\n    );\n\n    projects.forEach(project => this.removeTeamFromProject(teamSlug, project));\n\n    const affectedProjectIds = projects.map(project => project.id);\n    this.trigger(new Set(affectedProjectIds));\n  },\n\n  onRemoveTeam(teamSlug: string, projectSlug: string) {\n    const project = this.getBySlug(projectSlug);\n\n    if (!project) {\n      return;\n    }\n\n    this.removeTeamFromProject(teamSlug, project);\n    this.trigger(new Set([project.id]));\n  },\n\n  onAddTeam(team: Team, projectSlug: string) {\n    const project = this.getBySlug(projectSlug);\n\n    // Don't do anything if we can't find a project\n    if (!project) {\n      return;\n    }\n\n    const newProject = {...project, teams: [...project.teams, team]};\n\n    this.itemsById = {...this.itemsById, [project.id]: newProject};\n    this.trigger(new Set([project.id]));\n  },\n\n  // Internal method, does not trigger\n  removeTeamFromProject(teamSlug: string, project: Project) {\n    const newTeams = project.teams.filter(({slug}) => slug !== teamSlug);\n    const newProject = {...project, teams: newTeams};\n\n    this.itemsById = {...this.itemsById, [project.id]: newProject};\n  },\n\n  isLoading() {\n    return this.loading;\n  },\n\n  getAll() {\n    return Object.values(this.itemsById).sort((a, b) => a.slug.localeCompare(b.slug));\n  },\n\n  getById(id) {\n    return this.getAll().find(project => project.id === id);\n  },\n\n  getBySlug(slug) {\n    return this.getAll().find(project => project.slug === slug);\n  },\n\n  getState() {\n    return {\n      projects: this.getAll(),\n      loading: this.loading,\n    };\n  },\n};\n\nconst ProjectsStore = createStore(makeSafeRefluxStore(storeConfig));\nexport default ProjectsStore;\n","type Result = Record<string, {cursor: string; href: string; results: boolean | null}>;\n\nexport default function parseLinkHeader(header: string | null): Result {\n  if (header === null || header === '') {\n    return {};\n  }\n\n  const headerValues = header.split(',');\n  const links = {};\n\n  headerValues.forEach(val => {\n    const match =\n      /<([^>]+)>; rel=\"([^\"]+)\"(?:; results=\"([^\"]+)\")?(?:; cursor=\"([^\"]+)\")?/g.exec(\n        val\n      );\n    const hasResults = match![3] === 'true' ? true : match![3] === 'false' ? false : null;\n\n    links[match![2]] = {\n      href: match![1],\n      results: hasResults,\n      cursor: match![4],\n    };\n  });\n\n  return links;\n}\n","import {Fragment} from 'react';\n\nimport useTeams from 'sentry/utils/useTeams';\n\ntype RenderProps = ReturnType<typeof useTeams>;\n\ntype Props = Parameters<typeof useTeams>[0] & {\n  children: (props: RenderProps) => React.ReactNode;\n};\n\n/**\n * This is a utility component to leverage the useTeams hook to provide\n * a render props component which returns teams through a variety of inputs\n * such as a list of slugs or user teams.\n */\nfunction Teams({children, ...props}: Props) {\n  const renderProps = useTeams(props);\n\n  return <Fragment>{children(renderProps)}</Fragment>;\n}\n\nexport default Teams;\n","import {useEffect, useRef, useState} from 'react';\nimport uniqBy from 'lodash/uniqBy';\n\nimport ProjectActions from 'sentry/actions/projectActions';\nimport {Client} from 'sentry/api';\nimport OrganizationStore from 'sentry/stores/organizationStore';\nimport ProjectsStore from 'sentry/stores/projectsStore';\nimport {useLegacyStore} from 'sentry/stores/useLegacyStore';\nimport {AvatarProject, Project} from 'sentry/types';\nimport parseLinkHeader from 'sentry/utils/parseLinkHeader';\nimport RequestError from 'sentry/utils/requestError/requestError';\nimport useApi from 'sentry/utils/useApi';\n\ntype ProjectPlaceholder = AvatarProject;\n\ntype State = {\n  /**\n   * The error that occurred if fetching failed\n   */\n  fetchError: null | RequestError;\n  /**\n   * This is state for when fetching data from API\n   */\n  fetching: boolean;\n  /**\n   * Indicates that Project results (from API) are paginated and there are more\n   * projects that are not in the initial response\n   */\n  hasMore: null | boolean;\n  /**\n   * Reflects whether or not the initial fetch for the requested projects\n   * was fulfilled. This accounts for both the store and specifically loaded\n   * slugs.\n   */\n  initiallyLoaded: boolean;\n  /**\n   * The last query we searched. Used to validate the cursor\n   */\n  lastSearch: null | string;\n  /**\n   * Pagination\n   */\n  nextCursor?: null | string;\n};\n\ntype Result = {\n  /**\n   * This is an action provided to consumers for them to update the current\n   * projects result set using a simple search query.\n   *\n   * Will always add new options into the store.\n   */\n  onSearch: (searchTerm: string) => Promise<void>;\n  /**\n   * When loading specific slugs, placeholder objects will be returned\n   */\n  placeholders: ProjectPlaceholder[];\n  /**\n   * The loaded projects list\n   */\n  projects: Project[];\n} & Pick<State, 'fetching' | 'hasMore' | 'fetchError' | 'initiallyLoaded'>;\n\ntype Options = {\n  /**\n   * Number of projects to return when not using `props.slugs`\n   */\n  limit?: number;\n  /**\n   * Specify an orgId, overriding the organization in the current context\n   */\n  orgId?: string;\n  /**\n   * List of slugs to look for summaries for, this can be from `props.projects`,\n   * otherwise fetch from API\n   */\n  slugs?: string[];\n};\n\ntype FetchProjectsOptions = {\n  cursor?: State['nextCursor'];\n  lastSearch?: State['lastSearch'];\n  limit?: Options['limit'];\n  search?: State['lastSearch'];\n  slugs?: string[];\n};\n\n/**\n * Helper function to actually load projects\n */\nasync function fetchProjects(\n  api: Client,\n  orgId: string,\n  {slugs, search, limit, lastSearch, cursor}: FetchProjectsOptions = {}\n) {\n  const query: {\n    collapse: string[];\n    all_projects?: number;\n    cursor?: typeof cursor;\n    per_page?: number;\n    query?: string;\n  } = {\n    // Never return latestDeploys project property from api\n    collapse: ['latestDeploys'],\n  };\n\n  if (slugs !== undefined && slugs.length > 0) {\n    query.query = slugs.map(slug => `slug:${slug}`).join(' ');\n  }\n\n  if (search) {\n    query.query = `${query.query ?? ''}${search}`.trim();\n  }\n\n  const prevSearchMatches = (!lastSearch && !search) || lastSearch === search;\n\n  if (prevSearchMatches && cursor) {\n    query.cursor = cursor;\n  }\n\n  if (limit !== undefined) {\n    query.per_page = limit;\n  }\n\n  let hasMore: null | boolean = false;\n  let nextCursor: null | string = null;\n  const [data, , resp] = await api.requestPromise(`/organizations/${orgId}/projects/`, {\n    includeAllArgs: true,\n    query,\n  });\n\n  const pageLinks = resp?.getResponseHeader('Link');\n  if (pageLinks) {\n    const paginationObject = parseLinkHeader(pageLinks);\n    hasMore = paginationObject?.next?.results || paginationObject?.previous?.results;\n    nextCursor = paginationObject?.next?.cursor;\n  }\n\n  return {results: data, hasMore, nextCursor};\n}\n\n/**\n * Provides projects from the ProjectStore\n *\n * This hook also provides a way to select specific project slugs, and search\n * (type-ahead) for more projects that may not be in the project store.\n *\n * NOTE: Currently ALL projects are always loaded, but this hook is designed\n * for future-compat in a world where we do _not_ load all projects.\n */\nfunction useProjects({limit, slugs, orgId: propOrgId}: Options = {}) {\n  const api = useApi();\n\n  const {organization} = useLegacyStore(OrganizationStore);\n  const store = useLegacyStore(ProjectsStore);\n\n  const orgId = propOrgId ?? organization?.slug;\n\n  const storeSlugs = new Set(store.projects.map(t => t.slug));\n  const slugsToLoad = slugs?.filter(slug => !storeSlugs.has(slug)) ?? [];\n  const shouldLoadSlugs = slugsToLoad.length > 0;\n\n  const [state, setState] = useState<State>({\n    initiallyLoaded: !store.loading && !shouldLoadSlugs,\n    fetching: shouldLoadSlugs,\n    hasMore: null,\n    lastSearch: null,\n    nextCursor: null,\n    fetchError: null,\n  });\n\n  const slugsRef = useRef<Set<string> | null>(null);\n\n  // Only initialize slugsRef.current once and modify it when we receive new\n  // slugs determined through set equality\n  if (slugs !== undefined) {\n    if (slugsRef.current === null) {\n      slugsRef.current = new Set(slugs);\n    }\n\n    if (\n      slugs.length !== slugsRef.current.size ||\n      slugs.some(slug => !slugsRef.current?.has(slug))\n    ) {\n      slugsRef.current = new Set(slugs);\n    }\n  }\n\n  async function loadProjectsBySlug() {\n    if (orgId === undefined) {\n      // eslint-disable-next-line no-console\n      console.error('Cannot use useProjects({slugs}) without an organization in context');\n      return;\n    }\n\n    setState({...state, fetching: true});\n    try {\n      const {results, hasMore, nextCursor} = await fetchProjects(api, orgId, {\n        slugs: slugsToLoad,\n        limit,\n      });\n\n      const fetchedProjects = uniqBy([...store.projects, ...results], ({slug}) => slug);\n      ProjectActions.loadProjects(fetchedProjects);\n\n      setState({\n        ...state,\n        hasMore,\n        fetching: false,\n        initiallyLoaded: true,\n        nextCursor,\n      });\n    } catch (err) {\n      console.error(err); // eslint-disable-line no-console\n\n      setState({\n        ...state,\n        fetching: false,\n        initiallyLoaded: !store.loading,\n        fetchError: err,\n      });\n    }\n  }\n\n  async function handleSearch(search: string) {\n    const {lastSearch} = state;\n    const cursor = state.nextCursor;\n\n    if (search === '') {\n      return;\n    }\n\n    if (orgId === undefined) {\n      // eslint-disable-next-line no-console\n      console.error('Cannot use useProjects.onSearch without an organization in context');\n      return;\n    }\n\n    setState({...state, fetching: true});\n\n    try {\n      api.clear();\n      const {results, hasMore, nextCursor} = await fetchProjects(api, orgId, {\n        search,\n        limit,\n        lastSearch,\n        cursor,\n      });\n\n      const fetchedProjects = uniqBy([...store.projects, ...results], ({slug}) => slug);\n\n      // Only update the store if we have more items\n      if (fetchedProjects.length > store.projects.length) {\n        ProjectActions.loadProjects(fetchedProjects);\n      }\n\n      setState({\n        ...state,\n        hasMore,\n        fetching: false,\n        lastSearch: search,\n        nextCursor,\n      });\n    } catch (err) {\n      console.error(err); // eslint-disable-line no-console\n\n      setState({...state, fetching: false, fetchError: err});\n    }\n  }\n\n  useEffect(() => {\n    // Load specified team slugs\n    if (shouldLoadSlugs) {\n      loadProjectsBySlug();\n      return;\n    }\n  }, [slugsRef.current]);\n\n  // Update initiallyLoaded when we finish loading within the projectStore\n  useEffect(() => {\n    const storeLoaded = !store.loading;\n\n    if (state.initiallyLoaded === storeLoaded) {\n      return;\n    }\n\n    if (shouldLoadSlugs) {\n      return;\n    }\n\n    setState({...state, initiallyLoaded: storeLoaded});\n  }, [store.loading]);\n\n  const {initiallyLoaded, fetching, fetchError, hasMore} = state;\n\n  const filteredProjects = slugs\n    ? store.projects.filter(t => slugs.includes(t.slug))\n    : store.projects;\n\n  const placeholders = slugsToLoad.map(slug => ({slug}));\n\n  const result: Result = {\n    projects: filteredProjects,\n    placeholders,\n    fetching: fetching || store.loading,\n    initiallyLoaded,\n    fetchError,\n    hasMore,\n    onSearch: handleSearch,\n  };\n\n  return result;\n}\n\nexport default useProjects;\n","import {Project} from 'sentry/types';\nimport getDisplayName from 'sentry/utils/getDisplayName';\nimport useProjects from 'sentry/utils/useProjects';\n\ntype InjectedProjectsProps = {\n  projects: Project[];\n  loadingProjects?: boolean;\n};\n\n/**\n * Higher order component that uses ProjectsStore and provides a list of projects\n */\nfunction withProjects<P extends InjectedProjectsProps>(\n  WrappedComponent: React.ComponentType<P>\n) {\n  type Props = Omit<P, keyof InjectedProjectsProps>;\n\n  const Wrapper: React.FC<Props> = props => {\n    const {projects, initiallyLoaded} = useProjects();\n    const loadingProjects = !initiallyLoaded;\n\n    return <WrappedComponent {...(props as P)} {...{projects, loadingProjects}} />;\n  };\n\n  Wrapper.displayName = `withProjects(${getDisplayName(WrappedComponent)})`;\n\n  return Wrapper;\n}\n\nexport default withProjects;\n","import {Component, Fragment} from 'react';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage, addSuccessMessage} from 'sentry/actionCreators/indicator';\nimport {Client} from 'sentry/api';\nimport Button from 'sentry/components/button';\nimport {t} from 'sentry/locale';\nimport MemberListStore from 'sentry/stores/memberListStore';\nimport ProjectsStore from 'sentry/stores/projectsStore';\nimport {inputStyles} from 'sentry/styles/input';\nimport {Organization, Project, Team} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nimport RuleBuilder from './ruleBuilder';\n\nconst defaultProps = {\n  urls: [] as string[],\n  paths: [] as string[],\n  disabled: false,\n};\n\ntype Props = {\n  initialText: string;\n  organization: Organization;\n  project: Project;\n  onSave?: (text: string | null) => void;\n} & typeof defaultProps;\n\ntype State = {\n  error: null | {\n    raw: string[];\n  };\n  hasChanges: boolean;\n  text: string | null;\n};\n\nclass OwnerInput extends Component<Props, State> {\n  static defaultProps = defaultProps;\n\n  state: State = {\n    hasChanges: false,\n    text: null,\n    error: null,\n  };\n\n  parseError(error: State['error']) {\n    const text = error?.raw?.[0];\n    if (!text) {\n      return null;\n    }\n\n    if (text.startsWith('Invalid rule owners:')) {\n      return <InvalidOwners>{text}</InvalidOwners>;\n    }\n    return (\n      <SyntaxOverlay line={parseInt(text.match(/line (\\d*),/)?.[1] ?? '', 10) - 1} />\n    );\n  }\n\n  handleUpdateOwnership = () => {\n    const {organization, project, onSave} = this.props;\n    const {text} = this.state;\n    this.setState({error: null});\n\n    const api = new Client();\n    const request = api.requestPromise(\n      `/projects/${organization.slug}/${project.slug}/ownership/`,\n      {\n        method: 'PUT',\n        data: {raw: text || ''},\n      }\n    );\n\n    request\n      .then(() => {\n        addSuccessMessage(t('Updated issue ownership rules'));\n        this.setState(\n          {\n            hasChanges: false,\n            text,\n          },\n          () => onSave && onSave(text)\n        );\n      })\n      .catch(error => {\n        this.setState({error: error.responseJSON});\n        if (error.status === 403) {\n          addErrorMessage(\n            t(\n              \"You don't have permission to modify issue ownership rules for this project\"\n            )\n          );\n        } else if (\n          error.status === 400 &&\n          error.responseJSON.raw &&\n          error.responseJSON.raw[0].startsWith('Invalid rule owners:')\n        ) {\n          addErrorMessage(\n            t('Unable to save issue ownership rule changes: ' + error.responseJSON.raw[0])\n          );\n        } else {\n          addErrorMessage(t('Unable to save issue ownership rule changes'));\n        }\n      });\n\n    return request;\n  };\n\n  mentionableUsers() {\n    return MemberListStore.getAll().map(member => ({\n      id: member.id,\n      display: member.email,\n      email: member.email,\n    }));\n  }\n\n  mentionableTeams() {\n    const {project} = this.props;\n    const projectWithTeams = ProjectsStore.getBySlug(project.slug);\n    if (!projectWithTeams) {\n      return [];\n    }\n    return projectWithTeams.teams.map((team: Team) => ({\n      id: team.id,\n      display: `#${team.slug}`,\n      email: team.id,\n    }));\n  }\n\n  handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({\n      hasChanges: true,\n      text: e.target.value,\n    });\n  };\n\n  handleAddRule = (rule: string) => {\n    const {initialText} = this.props;\n    this.setState(\n      ({text}) => ({\n        text: (text || initialText) + '\\n' + rule,\n      }),\n      this.handleUpdateOwnership\n    );\n  };\n\n  render() {\n    const {project, organization, disabled, urls, paths, initialText} = this.props;\n    const {hasChanges, text, error} = this.state;\n\n    return (\n      <Fragment>\n        <RuleBuilder\n          urls={urls}\n          paths={paths}\n          organization={organization}\n          project={project}\n          onAddRule={this.handleAddRule.bind(this)}\n          disabled={disabled}\n        />\n        <div\n          style={{position: 'relative'}}\n          onKeyDown={e => {\n            if (e.metaKey && e.key === 'Enter') {\n              this.handleUpdateOwnership();\n            }\n          }}\n        >\n          <StyledTextArea\n            placeholder={\n              '#example usage\\n' +\n              'path:src/example/pipeline/* person@sentry.io #infra\\n' +\n              'module:com.module.name.example #sdks\\n' +\n              'url:http://example.com/settings/* #product\\n' +\n              'tags.sku_class:enterprise #enterprise'\n            }\n            onChange={this.handleChange}\n            disabled={disabled}\n            value={defined(text) ? text : initialText}\n            spellCheck=\"false\"\n            autoComplete=\"off\"\n            autoCorrect=\"off\"\n            autoCapitalize=\"off\"\n          />\n          <ActionBar>\n            <div>{this.parseError(error)}</div>\n            <SaveButton>\n              <Button\n                size=\"sm\"\n                priority=\"primary\"\n                onClick={this.handleUpdateOwnership}\n                disabled={disabled || !hasChanges}\n              >\n                {t('Save Changes')}\n              </Button>\n            </SaveButton>\n          </ActionBar>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst TEXTAREA_PADDING = 4;\nconst TEXTAREA_LINE_HEIGHT = 24;\n\nconst ActionBar = styled('div')`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst SyntaxOverlay = styled('div')<{line: number}>`\n  ${inputStyles};\n  width: 100%;\n  height: ${TEXTAREA_LINE_HEIGHT}px;\n  background-color: red;\n  opacity: 0.1;\n  pointer-events: none;\n  position: absolute;\n  top: ${({line}) => TEXTAREA_PADDING + line * 24}px;\n`;\n\nconst SaveButton = styled('div')`\n  text-align: end;\n  padding-top: 10px;\n`;\n\nconst StyledTextArea = styled(TextareaAutosize)`\n  ${p => inputStyles(p)};\n  min-height: 140px;\n  overflow: auto;\n  outline: 0;\n  width: 100%;\n  resize: none;\n  margin: 0;\n  font-family: ${p => p.theme.text.familyMono};\n  word-break: break-all;\n  white-space: pre-wrap;\n  padding-top: ${TEXTAREA_PADDING}px;\n  line-height: ${TEXTAREA_LINE_HEIGHT}px;\n`;\n\nconst InvalidOwners = styled('div')`\n  color: ${p => p.theme.error};\n  font-weight: bold;\n  margin-top: 12px;\n`;\n\nexport default OwnerInput;\n","import {Component, Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport Button from 'sentry/components/button';\nimport SelectField from 'sentry/components/deprecatedforms/selectField';\nimport Input from 'sentry/components/input';\nimport Tag from 'sentry/components/tag';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport {IconAdd, IconChevron} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport MemberListStore from 'sentry/stores/memberListStore';\nimport space from 'sentry/styles/space';\nimport {Organization, Project} from 'sentry/types';\nimport SelectOwners, {\n  Owner,\n} from 'sentry/views/settings/project/projectOwnership/selectOwners';\n\nconst initialState = {\n  text: '',\n  tagName: '',\n  type: 'path',\n  owners: [],\n  isValid: false,\n};\n\nfunction getMatchPlaceholder(type: string): string {\n  switch (type) {\n    case 'path':\n      return 'src/example/*';\n    case 'module':\n      return 'com.module.name.example';\n    case 'url':\n      return 'https://example.com/settings/*';\n    case 'tag':\n      return 'tag-value';\n    default:\n      return '';\n  }\n}\n\ntype Props = {\n  disabled: boolean;\n  onAddRule: (rule: string) => void;\n  organization: Organization;\n  paths: string[];\n  project: Project;\n  urls: string[];\n};\n\ntype State = {\n  isValid: boolean;\n  owners: Owner[];\n  tagName: string;\n  text: string;\n  type: string;\n};\n\nclass RuleBuilder extends Component<Props, State> {\n  state: State = initialState;\n\n  checkIsValid = () => {\n    this.setState(state => ({\n      isValid: !!state.text && state.owners && !!state.owners.length,\n    }));\n  };\n\n  handleTypeChange = (val: string | number | boolean) => {\n    this.setState({type: val as string}); // TODO(ts): Add select value type as generic to select controls\n    this.checkIsValid();\n  };\n\n  handleTagNameChangeValue = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({tagName: e.target.value}, this.checkIsValid);\n  };\n\n  handleChangeValue = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({text: e.target.value});\n    this.checkIsValid();\n  };\n\n  handleChangeOwners = (owners: Owner[]) => {\n    this.setState({owners});\n    this.checkIsValid();\n  };\n\n  handleAddRule = () => {\n    const {type, text, tagName, owners, isValid} = this.state;\n\n    if (!isValid) {\n      addErrorMessage('A rule needs a type, a value, and one or more issue owners.');\n      return;\n    }\n\n    const ownerText = owners\n      .map(owner =>\n        owner.actor.type === 'team'\n          ? `#${owner.actor.name}`\n          : MemberListStore.getById(owner.actor.id)?.email\n      )\n      .join(' ');\n\n    const quotedText = text.match(/\\s/) ? `\"${text}\"` : text;\n\n    const rule = `${\n      type === 'tag' ? `tags.${tagName}` : type\n    }:${quotedText} ${ownerText}`;\n    this.props.onAddRule(rule);\n    this.setState(initialState);\n  };\n\n  handleSelectCandidate = (text: string, type: string) => {\n    this.setState({text, type});\n    this.checkIsValid();\n  };\n\n  render() {\n    const {urls, paths, disabled, project, organization} = this.props;\n    const {type, text, tagName, owners, isValid} = this.state;\n\n    return (\n      <Fragment>\n        {(paths || urls) && (\n          <Candidates>\n            {paths &&\n              paths.map(v => (\n                <RuleCandidate\n                  key={v}\n                  onClick={() => this.handleSelectCandidate(v, 'path')}\n                >\n                  <StyledIconAdd isCircled />\n                  <StyledTextOverflow>{v}</StyledTextOverflow>\n                  <Tag>{t('Path')}</Tag>\n                </RuleCandidate>\n              ))}\n            {urls &&\n              urls.map(v => (\n                <RuleCandidate\n                  key={v}\n                  onClick={() => this.handleSelectCandidate(v, 'url')}\n                >\n                  <StyledIconAdd isCircled />\n                  <StyledTextOverflow>{v}</StyledTextOverflow>\n                  <Tag>{t('URL')}</Tag>\n                </RuleCandidate>\n              ))}\n          </Candidates>\n        )}\n        <BuilderBar>\n          <BuilderSelect\n            name=\"select-type\"\n            value={type}\n            onChange={this.handleTypeChange}\n            options={[\n              {value: 'path', label: t('Path')},\n              {value: 'module', label: t('Module')},\n              {value: 'tag', label: t('Tag')},\n              {value: 'url', label: t('URL')},\n            ]}\n            style={{width: 140}}\n            clearable={false}\n            disabled={disabled}\n          />\n          {type === 'tag' && (\n            <BuilderTagNameInput\n              value={tagName}\n              onChange={this.handleTagNameChangeValue}\n              disabled={disabled}\n              placeholder=\"tag-name\"\n            />\n          )}\n          <BuilderInput\n            value={text}\n            onChange={this.handleChangeValue}\n            disabled={disabled}\n            placeholder={getMatchPlaceholder(type)}\n          />\n          <Divider direction=\"right\" />\n          <SelectOwnersWrapper>\n            <SelectOwners\n              organization={organization}\n              project={project}\n              value={owners}\n              onChange={this.handleChangeOwners}\n              disabled={disabled}\n            />\n          </SelectOwnersWrapper>\n\n          <AddButton\n            priority=\"primary\"\n            disabled={!isValid}\n            onClick={this.handleAddRule}\n            icon={<IconAdd isCircled />}\n            size=\"sm\"\n            aria-label={t('Add rule')}\n          />\n        </BuilderBar>\n      </Fragment>\n    );\n  }\n}\nconst Candidates = styled('div')`\n  margin-bottom: 10px;\n`;\n\nconst StyledTextOverflow = styled(TextOverflow)`\n  flex: 1;\n`;\n\nconst RuleCandidate = styled('div')`\n  font-family: ${p => p.theme.text.familyMono};\n  border: 1px solid ${p => p.theme.border};\n  border-radius: ${p => p.theme.borderRadius};\n  background-color: ${p => p.theme.background};\n  padding: ${space(0.25)} ${space(0.5)};\n  margin-bottom: ${space(0.5)};\n  cursor: pointer;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledIconAdd = styled(IconAdd)`\n  color: ${p => p.theme.border};\n  margin-right: 5px;\n  flex-shrink: 0;\n`;\n\nconst BuilderBar = styled('div')`\n  display: flex;\n  height: 40px;\n  align-items: center;\n  margin-bottom: ${space(2)};\n`;\n\nconst BuilderSelect = styled(SelectField)`\n  margin-right: ${space(1.5)};\n  width: 50px;\n  flex-shrink: 0;\n`;\n\nconst BuilderInput = styled(Input)`\n  padding: ${space(1)};\n  line-height: 19px;\n  margin-right: ${space(0.5)};\n`;\n\nconst BuilderTagNameInput = styled(Input)`\n  padding: ${space(1)};\n  line-height: 19px;\n  margin-right: ${space(0.5)};\n  width: 200px;\n`;\n\nconst Divider = styled(IconChevron)`\n  color: ${p => p.theme.border};\n  flex-shrink: 0;\n  margin-right: 5px;\n`;\n\nconst SelectOwnersWrapper = styled('div')`\n  display: flex;\n  align-items: center;\n  margin-right: ${space(1)};\n`;\n\nconst AddButton = styled(Button)`\n  padding: ${space(0.5)}; /* this sizes the button up to align with the inputs */\n`;\n\nexport default RuleBuilder;\n","import {Component, createRef} from 'react';\nimport {findDOMNode} from 'react-dom';\nimport {MultiValueProps} from 'react-select';\nimport styled from '@emotion/styled';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\n\nimport {addTeamToProject} from 'sentry/actionCreators/projects';\nimport {Client} from 'sentry/api';\nimport ActorAvatar from 'sentry/components/avatar/actorAvatar';\nimport Button from 'sentry/components/button';\nimport MultiSelectControl from 'sentry/components/deprecatedforms/multiSelectControl';\nimport IdBadge from 'sentry/components/idBadge';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconAdd} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport MemberListStore from 'sentry/stores/memberListStore';\nimport ProjectsStore from 'sentry/stores/projectsStore';\nimport TeamStore from 'sentry/stores/teamStore';\nimport space from 'sentry/styles/space';\nimport {Actor, Member, Organization, Project, Team, User} from 'sentry/types';\nimport {buildTeamId, buildUserId} from 'sentry/utils';\nimport withApi from 'sentry/utils/withApi';\nimport withProjects from 'sentry/utils/withProjects';\n\nexport type Owner = {\n  actor: Actor;\n  label: React.ReactNode;\n  searchKey: string;\n  value: string;\n  disabled?: boolean;\n};\n\nfunction ValueComponent({data, removeProps}: MultiValueProps<Owner>) {\n  return (\n    <ValueWrapper onClick={removeProps.onClick}>\n      <ActorAvatar actor={data.actor} size={28} />\n    </ValueWrapper>\n  );\n}\n\nconst getSearchKeyForUser = (user: User) =>\n  `${user.email && user.email.toLowerCase()} ${user.name && user.name.toLowerCase()}`;\n\ntype Props = {\n  api: Client;\n  disabled: boolean;\n  onChange: (owners: Owner[]) => void;\n  organization: Organization;\n  project: Project;\n  projects: Project[];\n  value: any;\n  onInputChange?: (text: string) => void;\n};\n\ntype State = {\n  inputValue: string;\n  loading: boolean;\n};\n\nclass SelectOwners extends Component<Props, State> {\n  state: State = {\n    loading: false,\n    inputValue: '',\n  };\n\n  componentDidUpdate(prevProps: Props) {\n    // Once a team has been added to the project the menu can be closed.\n    if (!isEqual(this.props.projects, prevProps.projects)) {\n      this.closeSelectMenu();\n    }\n  }\n\n  private selectRef = createRef<any>();\n\n  renderUserBadge = (user: User) => (\n    <IdBadge avatarSize={24} user={user} hideEmail useLink={false} />\n  );\n\n  createMentionableUser = (user: User): Owner => ({\n    value: buildUserId(user.id),\n    label: this.renderUserBadge(user),\n    searchKey: getSearchKeyForUser(user),\n    actor: {\n      type: 'user' as const,\n      id: user.id,\n      name: user.name,\n    },\n  });\n\n  createUnmentionableUser = ({user}): Owner => ({\n    ...this.createMentionableUser(user),\n    disabled: true,\n    label: (\n      <DisabledLabel>\n        <Tooltip\n          position=\"left\"\n          title={t('%s is not a member of project', user.name || user.email)}\n        >\n          {this.renderUserBadge(user)}\n        </Tooltip>\n      </DisabledLabel>\n    ),\n  });\n\n  createMentionableTeam = (team: Team): Owner => ({\n    value: buildTeamId(team.id),\n    label: <IdBadge team={team} />,\n    searchKey: `#${team.slug}`,\n    actor: {\n      type: 'team' as const,\n      id: team.id,\n      name: team.slug,\n    },\n  });\n\n  createUnmentionableTeam = (team: Team): Owner => {\n    const {organization} = this.props;\n    const canAddTeam = organization.access.includes('project:write');\n\n    return {\n      ...this.createMentionableTeam(team),\n      disabled: true,\n      label: (\n        <Container>\n          <DisabledLabel>\n            <Tooltip\n              position=\"left\"\n              title={t('%s is not a member of project', `#${team.slug}`)}\n            >\n              <IdBadge team={team} />\n            </Tooltip>\n          </DisabledLabel>\n          <Tooltip\n            title={\n              canAddTeam\n                ? t('Add %s to project', `#${team.slug}`)\n                : t('You do not have permission to add team to project.')\n            }\n          >\n            <AddToProjectButton\n              size=\"zero\"\n              borderless\n              disabled={!canAddTeam}\n              onClick={this.handleAddTeamToProject.bind(this, team)}\n              icon={<IconAdd isCircled />}\n              aria-label={t('Add %s to project', `#${team.slug}`)}\n            />\n          </Tooltip>\n        </Container>\n      ),\n    };\n  };\n\n  getMentionableUsers() {\n    return MemberListStore.getAll().map(this.createMentionableUser);\n  }\n\n  getMentionableTeams() {\n    const {project} = this.props;\n    const projectData = ProjectsStore.getBySlug(project.slug);\n\n    if (!projectData) {\n      return [];\n    }\n\n    return projectData.teams.map(this.createMentionableTeam);\n  }\n\n  /**\n   * Get list of teams that are not in the current project, for use in `MultiSelectMenu`\n   */\n  getTeamsNotInProject(teamsInProject: Owner[] = []) {\n    const teams = TeamStore.getAll() || [];\n    const excludedTeamIds = teamsInProject.map(({actor}) => actor.id);\n\n    return teams\n      .filter(team => excludedTeamIds.indexOf(team.id) === -1)\n      .map(this.createUnmentionableTeam);\n  }\n\n  /**\n   * Closes the select menu by blurring input if possible since that seems to be the only\n   * way to close it.\n   */\n  closeSelectMenu() {\n    // Close select menu\n    if (this.selectRef.current) {\n      // eslint-disable-next-line react/no-find-dom-node\n      const node = findDOMNode(this.selectRef.current);\n      const input: HTMLInputElement | null = (node as Element)?.querySelector(\n        '.Select-input input'\n      );\n      if (input) {\n        // I don't think there's another way to close `react-select`\n        input.blur();\n      }\n    }\n  }\n\n  async handleAddTeamToProject(team) {\n    const {api, organization, project, value} = this.props;\n    // Copy old value\n    const oldValue = [...value];\n\n    // Optimistic update\n    this.props.onChange([...this.props.value, this.createMentionableTeam(team)]);\n\n    try {\n      // Try to add team to project\n      // Note: we can't close select menu here because we have to wait for ProjectsStore to update first\n      // The reason for this is because we have little control over `react-select`'s `AsyncSelect`\n      // We can't control when `handleLoadOptions` gets called, but it gets called when select closes, so\n      // wait for store to update before closing the menu. Otherwise, we'll have stale items in the select menu\n      await addTeamToProject(api, organization.slug, project.slug, team);\n    } catch (err) {\n      // Unable to add team to project, revert select menu value\n      this.props.onChange(oldValue);\n      this.closeSelectMenu();\n    }\n  }\n\n  handleChange = (newValue: Owner[]) => {\n    this.props.onChange(newValue);\n  };\n\n  handleInputChange = (inputValue: string) => {\n    this.setState({inputValue});\n\n    if (this.props.onInputChange) {\n      this.props.onInputChange(inputValue);\n    }\n  };\n\n  queryMembers = debounce((query, cb) => {\n    const {api, organization} = this.props;\n\n    // Because this function is debounced, the component can potentially be\n    // unmounted before this fires, in which case, `this.api` is null\n    if (!api) {\n      return null;\n    }\n\n    return api\n      .requestPromise(`/organizations/${organization.slug}/members/`, {\n        query: {query},\n      })\n      .then(\n        (data: Member[]) => cb(null, data),\n        err => cb(err)\n      );\n  }, 250);\n\n  handleLoadOptions = () => {\n    const usersInProject = this.getMentionableUsers();\n    const teamsInProject = this.getMentionableTeams();\n    const teamsNotInProject = this.getTeamsNotInProject(teamsInProject);\n    const usersInProjectById = usersInProject.map(({actor}) => actor.id);\n\n    // Return a promise for `react-select`\n    return new Promise((resolve, reject) => {\n      this.queryMembers(this.state.inputValue, (err, result) => {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(result);\n        }\n      });\n    })\n      .then(members =>\n        // Be careful here as we actually want the `users` object, otherwise it means user\n        // has not registered for sentry yet, but has been invited\n        members\n          ? (members as Member[])\n              .filter(({user}) => user && usersInProjectById.indexOf(user.id) === -1)\n              .map(this.createUnmentionableUser)\n          : []\n      )\n      .then(members => {\n        return [...usersInProject, ...teamsInProject, ...teamsNotInProject, ...members];\n      });\n  };\n\n  render() {\n    return (\n      <MultiSelectControl\n        name=\"owners\"\n        filterOption={(option, filterText) =>\n          option.data.searchKey.indexOf(filterText) > -1\n        }\n        ref={this.selectRef}\n        loadOptions={this.handleLoadOptions}\n        defaultOptions\n        async\n        clearable\n        disabled={this.props.disabled}\n        cache={false}\n        placeholder={t('owners')}\n        components={{\n          MultiValue: ValueComponent,\n        }}\n        onInputChange={this.handleInputChange}\n        onChange={this.handleChange}\n        value={this.props.value}\n        css={{width: 200}}\n      />\n    );\n  }\n}\n\nexport default withApi(withProjects(SelectOwners));\n\nconst Container = styled('div')`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst DisabledLabel = styled('div')`\n  opacity: 0.5;\n  overflow: hidden; /* Needed so that \"Add to team\" button can fit */\n`;\n\nconst AddToProjectButton = styled(Button)`\n  flex-shrink: 0;\n`;\n\nconst ValueWrapper = styled('a')`\n  margin-right: ${space(0.5)};\n`;\n"],"names":["createActions","ProjectActions","Component","Sentry","TeamAvatar","UserAvatar","LoadingIndicator","MemberListStore","Teams","ActorAvatar","render","actor","props","type","user","id","getById","initiallyLoaded","teams","withScope","scope","setExtra","captureException","Error","size","hasTooltip","forwardRef","SelectControl","MultiSelectControl","ref","TextOverflow","children","className","ellipsisDirection","isParagraph","dataTestId","p","theme","overflowEllipsis","defaultProps","createStore","makeSafeRefluxStore","storeConfig","loaded","state","init","loadInitialData","items","trigger","isLoaded","undefined","i","length","getByEmail","email","toLowerCase","getAll","TeamActions","itemsById","loading","unsubscribeListeners","reset","push","listenTo","addTeamSuccess","onAddTeam","changeSlug","onChangeSlug","createSuccess","onCreateSuccess","loadProjects","loadStatsSuccess","onStatsLoadSuccess","removeTeamSuccess","onRemoveTeam","updateSuccess","onUpdateSuccess","onDeleteTeam","mapping","map","project","Object","fromEntries","Set","keys","prevSlug","newSlug","prevProject","getBySlug","newProject","slug","data","entries","filter","projectId","forEach","stats","touchedIds","teamSlug","projects","find","removeTeamFromProject","affectedProjectIds","projectSlug","team","newTeams","isLoading","values","sort","a","b","localeCompare","getState","ProjectsStore","parseLinkHeader","header","headerValues","split","links","val","match","exec","hasResults","href","results","cursor","Fragment","useTeams","renderProps","useEffect","useRef","useState","uniqBy","OrganizationStore","useLegacyStore","useApi","fetchProjects","api","orgId","slugs","search","limit","lastSearch","query","collapse","join","trim","prevSearchMatches","per_page","hasMore","nextCursor","resp","requestPromise","includeAllArgs","pageLinks","getResponseHeader","paginationObject","next","previous","useProjects","propOrgId","organization","store","storeSlugs","t","slugsToLoad","has","shouldLoadSlugs","setState","fetching","fetchError","slugsRef","current","some","loadProjectsBySlug","console","error","fetchedProjects","err","handleSearch","clear","storeLoaded","filteredProjects","includes","placeholders","result","onSearch","getDisplayName","withProjects","WrappedComponent","Wrapper","loadingProjects","displayName","TextareaAutosize","addErrorMessage","addSuccessMessage","Client","Button","inputStyles","defined","RuleBuilder","urls","paths","disabled","OwnerInput","hasChanges","text","onSave","request","method","raw","then","catch","responseJSON","status","startsWith","e","target","value","rule","initialText","handleUpdateOwnership","parseError","parseInt","mentionableUsers","member","display","mentionableTeams","projectWithTeams","handleAddRule","bind","position","metaKey","key","handleChange","TEXTAREA_PADDING","TEXTAREA_LINE_HEIGHT","ActionBar","SyntaxOverlay","line","SaveButton","StyledTextArea","familyMono","InvalidOwners","SelectField","Input","Tag","IconAdd","IconChevron","space","SelectOwners","initialState","tagName","owners","isValid","getMatchPlaceholder","checkIsValid","ownerText","owner","name","quotedText","onAddRule","v","handleSelectCandidate","handleTypeChange","label","width","handleTagNameChangeValue","handleChangeValue","handleChangeOwners","Candidates","StyledTextOverflow","RuleCandidate","border","borderRadius","background","StyledIconAdd","BuilderBar","BuilderSelect","BuilderInput","BuilderTagNameInput","Divider","SelectOwnersWrapper","AddButton","createRef","findDOMNode","debounce","isEqual","addTeamToProject","IdBadge","Tooltip","TeamStore","buildTeamId","buildUserId","withApi","ValueComponent","removeProps","onClick","getSearchKeyForUser","inputValue","renderUserBadge","searchKey","createMentionableUser","canAddTeam","access","createMentionableTeam","handleAddTeamToProject","newValue","onChange","onInputChange","cb","usersInProject","getMentionableUsers","teamsInProject","getMentionableTeams","teamsNotInProject","getTeamsNotInProject","usersInProjectById","Promise","resolve","reject","queryMembers","members","indexOf","createUnmentionableUser","componentDidUpdate","prevProps","closeSelectMenu","projectData","excludedTeamIds","createUnmentionableTeam","selectRef","node","input","querySelector","blur","oldValue","option","filterText","handleLoadOptions","MultiValue","handleInputChange","Container","DisabledLabel","AddToProjectButton","ValueWrapper"],"sourceRoot":""}