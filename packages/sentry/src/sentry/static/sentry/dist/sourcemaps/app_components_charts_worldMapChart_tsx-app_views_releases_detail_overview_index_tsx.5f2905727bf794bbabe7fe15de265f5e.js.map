{"version":3,"file":"chunks/app_components_charts_worldMapChart_tsx-app_views_releases_detail_overview_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/charts/barChartZoom.tsx","webpack:///./app/components/charts/components/visualMap.tsx","webpack:///./app/components/charts/series/mapSeries.tsx","webpack:///./app/components/charts/sessionsRequest.tsx","webpack:///./app/components/charts/stackedAreaChart.tsx","webpack:///./app/components/charts/transitionChart.tsx","webpack:///./app/components/charts/transparentLoadingMask.tsx","webpack:///./app/components/charts/worldMapChart.tsx","webpack:///./app/components/deployBadge.tsx","webpack:///./app/components/discover/performanceCardTable.tsx","webpack:///./app/components/discover/transactionsList.tsx","webpack:///./app/components/discover/transactionsTable.tsx","webpack:///./app/components/keyValueTable.tsx","webpack:///./app/components/pageTimeRangeSelector.tsx","webpack:///./app/utils/discover/discoverQuery.tsx","webpack:///./app/utils/performance/contexts/genericQueryBatcher.tsx","webpack:///./app/utils/performance/contexts/pageError.tsx","webpack:///./app/utils/performance/histogram/constants.tsx","webpack:///./app/utils/performance/histogram/histogramQuery.tsx","webpack:///./app/utils/performance/histogram/index.tsx","webpack:///./app/utils/performance/trends/trendsDiscoverQuery.tsx","webpack:///./app/views/performance/charts/chart.tsx","webpack:///./app/views/performance/landing/widgets/transforms/transformDiscoverToSingleValue.tsx","webpack:///./app/views/performance/landing/widgets/transforms/transformEventsToArea.tsx","webpack:///./app/views/performance/landing/widgets/widgets/singleFieldAreaWidget.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/charts.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/durationChart/content.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/durationChart/index.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/durationPercentileChart/chart.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/durationPercentileChart/content.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/durationPercentileChart/index.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/durationPercentileChart/utils.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/latencyChart/chartControls.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/latencyChart/content.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/latencyChart/index.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/trendChart/content.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/trendChart/index.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/userMiseryChart/index.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/vitalsChart/content.tsx","webpack:///./app/views/performance/transactionSummary/transactionOverview/vitalsChart/index.tsx","webpack:///./app/views/releases/detail/commitsAndFiles/emptyState.tsx","webpack:///./app/views/releases/detail/overview/index.tsx","webpack:///./app/views/releases/detail/overview/releaseArchivedNotice.tsx","webpack:///./app/views/releases/detail/overview/releaseComparisonChart/index.tsx","webpack:///./app/views/releases/detail/overview/releaseComparisonChart/releaseComparisonChartRow.tsx","webpack:///./app/views/releases/detail/overview/releaseComparisonChart/releaseEventsChart.tsx","webpack:///./app/views/releases/detail/overview/releaseComparisonChart/releaseSessionsChart.tsx","webpack:///./app/views/releases/detail/overview/releaseIssues.tsx","webpack:///./app/views/releases/detail/overview/sidebar/commitAuthorBreakdown.tsx","webpack:///./app/views/releases/detail/overview/sidebar/deploys.tsx","webpack:///./app/views/releases/detail/overview/sidebar/otherProjects.tsx","webpack:///./app/views/releases/detail/overview/sidebar/projectReleaseDetails.tsx","webpack:///./app/views/releases/detail/overview/sidebar/releaseAdoption.tsx","webpack:///./app/views/releases/detail/overview/sidebar/releaseStats.tsx","webpack:///./app/views/releases/detail/overview/sidebar/totalCrashFreeUsers.tsx","webpack:///./app/views/releases/detail/utils.tsx","webpack:///../node_modules/core-js/modules/es.reflect.to-string-tag.js","webpack:///../node_modules/lodash/_baseLt.js","webpack:///../node_modules/lodash/min.js"],"sourcesContent":["import {Component} from 'react';\nimport {browserHistory} from 'react-router';\nimport {Location} from 'history';\n\nimport DataZoomInside from 'sentry/components/charts/components/dataZoomInside';\nimport ToolBox from 'sentry/components/charts/components/toolBox';\nimport {EChartChartReadyHandler, EChartDataZoomHandler} from 'sentry/types/echarts';\nimport {callIfFunction} from 'sentry/utils/callIfFunction';\n\ntype RenderProps = {\n  dataZoom: ReturnType<typeof DataZoomInside>;\n  onChartReady: EChartChartReadyHandler;\n  onDataZoom: EChartDataZoomHandler;\n  toolBox: ReturnType<typeof ToolBox>;\n};\n\nexport type BarChartBucket = {\n  end: number;\n  start: number;\n};\n\ntype Props = {\n  /**\n   * This is the list of bucket start and end ranges. This is used by the\n   * component to determine the start and end of the zoom.\n   */\n  buckets: BarChartBucket[];\n  /**\n   * The children function that will receive the render props and return\n   * a rendered chart.\n   */\n  children: (props: RenderProps) => React.ReactNode;\n  location: Location;\n  /**\n   * This is the query parameter the end of the zoom will be propagated to.\n   */\n  paramEnd: string;\n  /**\n   * This is the query parameter the start of the zoom will be propagated to.\n   */\n  paramStart: string;\n  /**\n   * If you need the dataZoom control to control more than one chart.\n   * you can provide a list of the axis indexes.\n   */\n  xAxisIndex: number[];\n  /**\n   * This is the minimum width of the zoom. If the targeted zoom area is\n   * smaller than is specified by this parameter, the zoom will be cancelled\n   * and the `onDataZoomCancelled` callback will be called.\n   */\n  minZoomWidth?: number;\n  onChartReady?: EChartChartReadyHandler;\n  onDataZoom?: EChartDataZoomHandler;\n  /**\n   * This callback is called when the zoom action was cancelled. It can happen\n   * when `minZoomWidth` is specified and the user tries to zoom on an area\n   * smaller than that.\n   */\n  onDataZoomCancelled?: () => void;\n  /**\n   *\n   */\n  onHistoryPush?: (start: number, end: number) => void;\n};\n\nclass BarChartZoom extends Component<Props> {\n  zooming: (() => void) | null = null;\n\n  /**\n   * Enable zoom immediately instead of having to toggle to zoom\n   */\n  handleChartReady = chart => {\n    callIfFunction(this.props.onChartReady, chart);\n  };\n\n  /**\n   * Chart event when *any* rendering+animation finishes\n   *\n   * `this.zooming` acts as a callback function so that\n   * we can let the native zoom animation on the chart complete\n   * before we update URL state and re-render\n   */\n  handleChartFinished = (_props, chart) => {\n    if (typeof this.zooming === 'function') {\n      this.zooming();\n      this.zooming = null;\n    }\n\n    // This attempts to activate the area zoom toolbox feature\n    const zoom = chart._componentsViews?.find(c => c._features && c._features.dataZoom);\n    if (zoom && !zoom._features.dataZoom._isZoomActive) {\n      // Calling dispatchAction will re-trigger handleChartFinished\n      chart.dispatchAction({\n        type: 'takeGlobalCursor',\n        key: 'dataZoomSelect',\n        dataZoomSelectActive: true,\n      });\n    }\n  };\n\n  handleDataZoom = (evt, chart) => {\n    const model = chart.getModel();\n    const {startValue, endValue} = model._payload.batch[0];\n\n    // Both of these values should not be null, but we include it just in case.\n    // These values are null when the user uses the toolbox included in ECharts\n    // to navigate back through zoom history, but we hide it below.\n    if (startValue !== null && endValue !== null) {\n      const {buckets, location, paramStart, paramEnd, minZoomWidth, onHistoryPush} =\n        this.props;\n      const {start} = buckets[startValue];\n      const {end} = buckets[endValue];\n\n      if (minZoomWidth === undefined || end - start > minZoomWidth) {\n        const target = {\n          pathname: location.pathname,\n          query: {\n            ...location.query,\n            [paramStart]: start,\n            [paramEnd]: end,\n          },\n        };\n        if (onHistoryPush) {\n          onHistoryPush(start, end);\n        } else {\n          browserHistory.push(target);\n        }\n      } else {\n        // Dispatch the restore action here to stop ECharts from zooming\n        chart.dispatchAction({type: 'restore'});\n        callIfFunction(this.props.onDataZoomCancelled);\n      }\n    } else {\n      // Dispatch the restore action here to stop ECharts from zooming\n      chart.dispatchAction({type: 'restore'});\n      callIfFunction(this.props.onDataZoomCancelled);\n    }\n\n    callIfFunction(this.props.onDataZoom, evt, chart);\n  };\n\n  render() {\n    const {children, xAxisIndex} = this.props;\n\n    const renderProps = {\n      onChartReady: this.handleChartReady,\n      onFinished: this.handleChartFinished,\n      dataZoom: DataZoomInside({xAxisIndex}),\n      // We must include data zoom in the toolbox for the zoom to work,\n      // but we do not want to show the toolbox components.\n      toolBox: ToolBox(\n        {},\n        {\n          dataZoom: {\n            title: {\n              zoom: '',\n              back: '',\n            },\n            iconStyle: {\n              borderWidth: 0,\n              color: 'transparent',\n              opacity: 0,\n            },\n          },\n        }\n      ),\n      onDataZoom: this.handleDataZoom,\n    };\n\n    return children(renderProps);\n  }\n}\n\nexport default BarChartZoom;\n","import 'echarts/lib/component/visualMap';\n\nimport type {VisualMapComponentOption} from 'echarts';\n\nexport default function VisualMap(\n  visualMap: VisualMapComponentOption\n): VisualMapComponentOption {\n  return visualMap;\n}\n","import 'echarts/lib/chart/map';\n\nimport type {MapSeriesOption} from 'echarts';\n\nexport default function MapSeries(props: MapSeriesOption = {map: ''}): MapSeriesOption {\n  return {\n    roam: true,\n    ...props,\n    emphasis: {\n      label: {show: false},\n      ...props.emphasis,\n    },\n    type: 'map',\n  };\n}\n","import {Component} from 'react';\nimport isEqual from 'lodash/isEqual';\nimport omitBy from 'lodash/omitBy';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport {Client} from 'sentry/api';\nimport {t} from 'sentry/locale';\nimport {Organization, SessionApiResponse, SessionFieldWithOperation} from 'sentry/types';\nimport {filterSessionsInTimeWindow, getSessionsInterval} from 'sentry/utils/sessions';\n\nconst propNamesToIgnore = ['api', 'children', 'organization'];\nconst omitIgnoredProps = (props: Props) =>\n  omitBy(props, (_value, key) => propNamesToIgnore.includes(key));\n\nexport type SessionsRequestRenderProps = {\n  errored: boolean;\n  loading: boolean;\n  reloading: boolean;\n  response: SessionApiResponse | null;\n};\n\ntype Props = {\n  api: Client;\n  children: (renderProps: SessionsRequestRenderProps) => React.ReactNode;\n  field: SessionFieldWithOperation[];\n  organization: Organization;\n  end?: string;\n  environment?: string[];\n  groupBy?: string[];\n  interval?: string;\n  isDisabled?: boolean;\n  project?: number[];\n  query?: string;\n  shouldFilterSessionsInTimeWindow?: boolean;\n  start?: string;\n  statsPeriod?: string | null;\n};\n\ntype State = {\n  errored: boolean;\n  reloading: boolean;\n  response: SessionApiResponse | null;\n};\n\nclass SessionsRequest extends Component<Props, State> {\n  state: State = {\n    reloading: false,\n    errored: false,\n    response: null,\n  };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (isEqual(omitIgnoredProps(prevProps), omitIgnoredProps(this.props))) {\n      return;\n    }\n\n    this.fetchData();\n  }\n\n  get path() {\n    const {organization} = this.props;\n\n    return `/organizations/${organization.slug}/sessions/`;\n  }\n\n  get baseQueryParams() {\n    const {\n      project,\n      environment,\n      field,\n      statsPeriod,\n      start,\n      end,\n      query,\n      groupBy,\n      interval,\n      organization,\n    } = this.props;\n\n    return {\n      project,\n      environment,\n      field,\n      statsPeriod,\n      query,\n      groupBy,\n      start,\n      end,\n      interval: interval\n        ? interval\n        : getSessionsInterval(\n            {start, end, period: statsPeriod},\n            {highFidelity: organization.features.includes('minute-resolution-sessions')}\n          ),\n    };\n  }\n\n  fetchData = async () => {\n    const {api, isDisabled, shouldFilterSessionsInTimeWindow} = this.props;\n\n    if (isDisabled) {\n      return;\n    }\n\n    this.setState(state => ({\n      reloading: state.response !== null,\n      errored: false,\n    }));\n\n    try {\n      const response: SessionApiResponse = await api.requestPromise(this.path, {\n        query: this.baseQueryParams,\n      });\n\n      this.setState({\n        reloading: false,\n        response: shouldFilterSessionsInTimeWindow\n          ? filterSessionsInTimeWindow(\n              response,\n              this.baseQueryParams.start,\n              this.baseQueryParams.end\n            )\n          : response,\n      });\n    } catch (error) {\n      addErrorMessage(error.responseJSON?.detail ?? t('Error loading health data'));\n      this.setState({\n        reloading: false,\n        errored: true,\n      });\n    }\n  };\n\n  render() {\n    const {reloading, errored, response} = this.state;\n    const {children} = this.props;\n\n    const loading = response === null;\n\n    return children({\n      loading,\n      reloading,\n      errored,\n      response,\n    });\n  }\n}\n\nexport default SessionsRequest;\n","import {Component} from 'react';\n\nimport {AreaChart} from 'sentry/components/charts/areaChart';\n\ntype AreaChartProps = React.ComponentProps<typeof AreaChart>;\n\ntype Props = Omit<AreaChartProps, 'stacked' | 'ref'>;\n\nclass StackedAreaChart extends Component<Props> {\n  render() {\n    return <AreaChart tooltip={{filter: val => val > 0}} {...this.props} stacked />;\n  }\n}\n\nexport default StackedAreaChart;\n","import {Component, Fragment} from 'react';\n\nimport LoadingPanel from 'sentry/components/charts/loadingPanel';\n\nconst defaultProps = {\n  height: '200px',\n};\n\ntype Props = {\n  loading: boolean;\n  reloading: boolean;\n} & typeof defaultProps;\n\ntype State = {\n  key: number;\n  prevLoading: boolean;\n  prevReloading: boolean;\n};\n\nclass TransitionChart extends Component<Props, State> {\n  static defaultProps = defaultProps;\n\n  state: State = {\n    prevReloading: this.props.reloading,\n    prevLoading: this.props.loading,\n    key: 1,\n  };\n\n  static getDerivedStateFromProps(props: Readonly<Props>, state: State) {\n    // Transitions are controlled using variables called:\n    // - loading and,\n    // - reloading (also called pending in other apps)\n    //\n    // This component remounts the chart to ensure the stable transition\n    // from one dataset to the next.\n\n    const prevReloading = state.prevReloading;\n    const nextReloading = props.reloading;\n\n    const prevLoading = state.prevLoading;\n    const nextLoading = props.loading;\n\n    // whenever loading changes, we explicitly remount the children by updating\n    // the key prop; regardless of what state reloading is in\n    if (prevLoading !== nextLoading) {\n      return {\n        prevReloading: nextReloading,\n        prevLoading: nextLoading,\n        key: state.key + 1,\n      };\n    }\n\n    // invariant: prevLoading === nextLoading\n\n    // if loading is true, and hasn't changed from the previous re-render,\n    // do not remount the children.\n    if (nextLoading) {\n      return {\n        prevReloading: nextReloading,\n        prevLoading: nextLoading,\n        key: state.key,\n      };\n    }\n\n    // invariant: loading is false\n\n    // whenever the chart is transitioning from the reloading (pending) state to a non-loading state,\n    // remount the children\n    if (prevReloading && !nextReloading) {\n      return {\n        prevReloading: nextReloading,\n        prevLoading: nextLoading,\n        key: state.key + 1,\n      };\n    }\n\n    // do not remount the children in these remaining cases:\n    // !prevReloading && !nextReloading (re-render with no prop change)\n    // prevReloading && nextReloading (re-render with no prop change)\n    // !prevReloading && nextReloading (from loaded to pending state)\n\n    return {\n      prevReloading: nextReloading,\n      prevLoading: nextLoading,\n      key: state.key,\n    };\n  }\n\n  render() {\n    const {height, loading, reloading} = this.props;\n\n    if (loading && !reloading) {\n      return <LoadingPanel height={height} data-test-id=\"events-request-loading\" />;\n    }\n\n    // We make use of the key prop to explicitly remount the children\n    // https://reactjs.org/docs/lists-and-keys.html#keys\n    return <Fragment key={String(this.state.key)}>{this.props.children}</Fragment>;\n  }\n}\n\nexport default TransitionChart;\n","import styled from '@emotion/styled';\n\nimport LoadingMask, {LoadingMaskProps} from 'sentry/components/loadingMask';\n\ninterface TransparentLoadingMaskProps extends LoadingMaskProps {\n  visible: boolean;\n  children?: React.ReactNode;\n  className?: string;\n}\n\nconst TransparentLoadingMask = styled(\n  ({className, visible, children, ...props}: TransparentLoadingMaskProps) => {\n    const other = visible ? {...props, 'data-test-id': 'loading-placeholder'} : props;\n    return (\n      <LoadingMask className={className} {...other}>\n        {children}\n      </LoadingMask>\n    );\n  }\n)<TransparentLoadingMaskProps>`\n  ${p => !p.visible && 'display: none;'};\n  opacity: 0.4;\n  z-index: 1;\n`;\n\nexport default TransparentLoadingMask;\n","import {useEffect, useState} from 'react';\nimport {useTheme} from '@emotion/react';\nimport type {MapSeriesOption, TooltipComponentOption} from 'echarts';\nimport * as echarts from 'echarts/core';\nimport max from 'lodash/max';\n\nimport {Series, SeriesDataUnit} from 'sentry/types/echarts';\n\nimport VisualMap from './components/visualMap';\nimport MapSeries from './series/mapSeries';\nimport BaseChart from './baseChart';\n\ntype ChartProps = Omit<React.ComponentProps<typeof BaseChart>, 'css'>;\n\ntype MapChartSeriesDataUnit = Omit<SeriesDataUnit, 'name' | 'itemStyle'> & {\n  // Docs for map itemStyle differ from Series data unit. See https://echarts.apache.org/en/option.html#series-map.data.itemStyle\n  itemStyle?: MapSeriesOption['itemStyle'];\n  name?: string;\n};\n\ntype MapChartSeries = Omit<Series, 'data'> & {\n  data: MapChartSeriesDataUnit[];\n};\n\nexport interface WorldMapChartProps extends Omit<ChartProps, 'series'> {\n  series: MapChartSeries[];\n  fromDiscover?: boolean;\n  fromDiscoverQueryList?: boolean;\n  seriesOptions?: MapSeriesOption;\n}\n\ntype JSONResult = Record<string, any>;\n\ntype State = {\n  codeToCountryMap: JSONResult | null;\n  countryToCodeMap: JSONResult | null;\n  map: JSONResult | null;\n};\n\nconst DEFAULT_ZOOM = 1.3;\nconst DISCOVER_ZOOM = 1.1;\nconst DISCOVER_QUERY_LIST_ZOOM = 0.9;\nconst DEFAULT_CENTER_X = 10.97;\nconst DISCOVER_QUERY_LIST_CENTER_Y = -12;\nconst DEFAULT_CENTER_Y = 9.71;\n\nexport function WorldMapChart({\n  series,\n  seriesOptions,\n  fromDiscover,\n  fromDiscoverQueryList,\n  ...props\n}: WorldMapChartProps) {\n  const theme = useTheme();\n  const [state, setState] = useState<State>(() => ({\n    countryToCodeMap: null,\n    map: null,\n    codeToCountryMap: null,\n  }));\n\n  useEffect(() => {\n    let unmounted = false;\n\n    if (!unmounted) {\n      loadWorldMap();\n    }\n\n    return () => {\n      unmounted = true;\n    };\n  }, []);\n\n  async function loadWorldMap() {\n    try {\n      const [countryCodesMap, world] = await Promise.all([\n        import('sentry/data/countryCodesMap'),\n        import('sentry/data/world.json'),\n      ]);\n\n      const countryToCodeMap = countryCodesMap.default;\n      const worldMap = world.default;\n\n      // Echarts not available in tests\n      echarts.registerMap?.('sentryWorld', worldMap as any);\n\n      const codeToCountryMap: Record<string, string> = {};\n\n      for (const country in worldMap) {\n        codeToCountryMap[countryToCodeMap[country]] = country;\n      }\n\n      setState({\n        countryToCodeMap,\n        map: worldMap,\n        codeToCountryMap,\n      });\n    } catch {\n      // do nothing\n    }\n  }\n\n  if (state.countryToCodeMap === null || state.map === null) {\n    return null;\n  }\n\n  const processedSeries = series.map(({seriesName, data, ...options}) =>\n    MapSeries({\n      ...seriesOptions,\n      ...options,\n      map: 'sentryWorld',\n      name: seriesName,\n      nameMap: state.countryToCodeMap ?? undefined,\n      aspectScale: 0.85,\n      zoom: fromDiscover\n        ? DISCOVER_ZOOM\n        : fromDiscoverQueryList\n        ? DISCOVER_QUERY_LIST_ZOOM\n        : DEFAULT_ZOOM,\n      center: [\n        DEFAULT_CENTER_X,\n        fromDiscoverQueryList ? DISCOVER_QUERY_LIST_CENTER_Y : DEFAULT_CENTER_Y,\n      ],\n      itemStyle: {\n        areaColor: theme.gray200,\n        borderColor: theme.backgroundSecondary,\n      },\n      emphasis: {\n        itemStyle: {\n          areaColor: theme.pink300,\n        },\n        label: {\n          show: false,\n        },\n      },\n      data,\n      silent: fromDiscoverQueryList,\n      roam: !fromDiscoverQueryList,\n    })\n  );\n\n  // TODO(billy):\n  // For absolute values, we want min/max to based on min/max of series\n  // Otherwise it should be 0-100\n  const maxValue = max(series.map(({data}) => max(data.map(({value}) => value)))) || 1;\n\n  const tooltipFormatter: TooltipComponentOption['formatter'] = (format: any) => {\n    const {marker, name, value} = Array.isArray(format) ? format[0] : format;\n    // If value is NaN, don't show anything because we won't have a country code either\n    if (isNaN(value as number)) {\n      return '';\n    }\n\n    // `value` should be a number\n    const formattedValue = typeof value === 'number' ? value.toLocaleString() : '';\n    const countryOrCode = state.codeToCountryMap?.[name as string] || name;\n\n    return [\n      `<div class=\"tooltip-series tooltip-series-solo\">\n               <div><span class=\"tooltip-label\">${marker} <strong>${countryOrCode}</strong></span> ${formattedValue}</div>\n            </div>`,\n      '<div class=\"tooltip-arrow\"></div>',\n    ].join('');\n  };\n\n  return (\n    <BaseChart\n      options={{\n        backgroundColor: fromDiscoverQueryList ? undefined : theme.background,\n        visualMap: [\n          VisualMap({\n            show: !fromDiscoverQueryList,\n            left: fromDiscover ? undefined : 'right',\n            right: fromDiscover ? 5 : undefined,\n            min: 0,\n            max: maxValue,\n            inRange: {\n              color: [theme.purple200, theme.purple300],\n            },\n            text: ['High', 'Low'],\n            textStyle: {\n              color: theme.textColor,\n            },\n\n            // Whether show handles, which can be dragged to adjust \"selected range\".\n            // False because the handles are pretty ugly\n            calculable: false,\n          }),\n        ],\n      }}\n      {...props}\n      yAxis={null}\n      xAxis={null}\n      series={processedSeries}\n      tooltip={{\n        formatter: tooltipFormatter,\n      }}\n      height={fromDiscover ? 400 : undefined}\n    />\n  );\n}\n","import Link from 'sentry/components/links/link';\nimport Tag from 'sentry/components/tag';\nimport {IconOpen} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {Deploy} from 'sentry/types';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\n\ntype Props = {\n  deploy: Deploy;\n  className?: string;\n  orgSlug?: string;\n  projectId?: number;\n  version?: string;\n};\n\nconst DeployBadge = ({deploy, orgSlug, projectId, version, className}: Props) => {\n  const shouldLinkToIssues = !!orgSlug && !!version;\n\n  const badge = (\n    <Tag\n      className={className}\n      type=\"highlight\"\n      icon={shouldLinkToIssues && <IconOpen data-test-id=\"deploy-open-icon\" />}\n      textMaxWidth={80}\n      tooltipText={shouldLinkToIssues ? t('Open In Issues') : undefined}\n    >\n      {deploy.environment}\n    </Tag>\n  );\n\n  if (!shouldLinkToIssues) {\n    return badge;\n  }\n\n  return (\n    <Link\n      to={{\n        pathname: `/organizations/${orgSlug}/issues/`,\n        query: {\n          project: projectId ?? null,\n          environment: deploy.environment,\n          query: new MutableSearch([`release:${version!}`]).formatString(),\n        },\n      }}\n    >\n      {badge}\n    </Link>\n  );\n};\n\nexport default DeployBadge;\n","import {Fragment} from 'react';\nimport {Link} from 'react-router';\nimport {css} from '@emotion/react';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\n\nimport Alert from 'sentry/components/alert';\nimport {AsyncComponentProps} from 'sentry/components/asyncComponent';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport NotAvailable from 'sentry/components/notAvailable';\nimport {PanelItem} from 'sentry/components/panels';\nimport PanelTable from 'sentry/components/panels/panelTable';\nimport {IconArrow} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, ReleaseProject} from 'sentry/types';\nimport DiscoverQuery, {TableData} from 'sentry/utils/discover/discoverQuery';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {getFieldRenderer} from 'sentry/utils/discover/fieldRenderers';\nimport {MobileVital, WebVital} from 'sentry/utils/fields';\nimport {\n  MOBILE_VITAL_DETAILS,\n  WEB_VITAL_DETAILS,\n} from 'sentry/utils/performance/vitals/constants';\nimport {PROJECT_PERFORMANCE_TYPE} from 'sentry/views/performance/utils';\n\ntype PerformanceCardTableProps = {\n  allReleasesEventView: EventView;\n  allReleasesTableData: TableData | null;\n  isLoading: boolean;\n  location: Location;\n  organization: Organization;\n  performanceType: string;\n  project: ReleaseProject;\n  releaseEventView: EventView;\n  thisReleaseTableData: TableData | null;\n};\n\nfunction PerformanceCardTable({\n  organization,\n  location,\n  project,\n  releaseEventView,\n  allReleasesTableData,\n  thisReleaseTableData,\n  performanceType,\n  isLoading,\n}: PerformanceCardTableProps) {\n  const miseryRenderer =\n    allReleasesTableData?.meta &&\n    getFieldRenderer('user_misery()', allReleasesTableData.meta, false);\n\n  function renderChange(\n    allReleasesScore: number,\n    thisReleaseScore: number,\n    meta: string\n  ) {\n    if (allReleasesScore === undefined || thisReleaseScore === undefined) {\n      return <StyledNotAvailable />;\n    }\n\n    const trend = allReleasesScore - thisReleaseScore;\n    const trendSeconds = trend >= 1000 ? trend / 1000 : trend;\n    const trendPercentage = (allReleasesScore - thisReleaseScore) * 100;\n    const valPercentage = Math.round(Math.abs(trendPercentage));\n    const val = Math.abs(trendSeconds).toFixed(2);\n\n    if (trend === 0) {\n      return <SubText>{`0${meta === 'duration' ? 'ms' : '%'}`}</SubText>;\n    }\n\n    return (\n      <TrendText color={trend >= 0 ? 'success' : 'error'}>\n        {`${meta === 'duration' ? val : valPercentage}${\n          meta === 'duration' ? (trend >= 1000 ? 's' : 'ms') : '%'\n        }`}\n        <StyledIconArrow\n          color={trend >= 0 ? 'success' : 'error'}\n          direction={trend >= 0 ? 'down' : 'up'}\n          size=\"xs\"\n        />\n      </TrendText>\n    );\n  }\n\n  function userMiseryTrend() {\n    const allReleasesUserMisery = allReleasesTableData?.data?.[0]?.['user_misery()'];\n    const thisReleaseUserMisery = thisReleaseTableData?.data?.[0]?.['user_misery()'];\n    return (\n      <StyledPanelItem>\n        {renderChange(\n          allReleasesUserMisery as number,\n          thisReleaseUserMisery as number,\n          'number' as string\n        )}\n      </StyledPanelItem>\n    );\n  }\n\n  function renderFrontendPerformance() {\n    const webVitals = [\n      {title: WebVital.FCP, field: 'p75(measurements.fcp)'},\n      {title: WebVital.FID, field: 'p75(measurements.fid)'},\n      {title: WebVital.LCP, field: 'p75(measurements.lcp)'},\n      {title: WebVital.CLS, field: 'p75(measurements.cls)'},\n    ];\n\n    const spans = [\n      {title: 'HTTP', column: 'p75(spans.http)', field: 'p75(spans.http)'},\n      {title: 'Browser', column: 'p75(spans.browser)', field: 'p75(spans.browser)'},\n      {title: 'Resource', column: 'p75(spans.resource)', field: 'p75(spans.resource)'},\n    ];\n\n    const webVitalTitles = webVitals.map((vital, idx) => {\n      const newView = releaseEventView.withColumns([\n        {kind: 'field', field: `p75(${vital.title})`},\n      ]);\n      return (\n        <SubTitle key={idx}>\n          <Link to={newView.getResultsViewUrlTarget(organization.slug)}>\n            {WEB_VITAL_DETAILS[vital.title].name} (\n            {WEB_VITAL_DETAILS[vital.title].acronym})\n          </Link>\n        </SubTitle>\n      );\n    });\n\n    const spanTitles = spans.map((span, idx) => {\n      const newView = releaseEventView.withColumns([\n        {kind: 'field', field: `${span.column}`},\n      ]);\n      return (\n        <SubTitle key={idx}>\n          <Link to={newView.getResultsViewUrlTarget(organization.slug)}>\n            {t(span.title)}\n          </Link>\n        </SubTitle>\n      );\n    });\n\n    const webVitalsRenderer = webVitals.map(\n      vital =>\n        allReleasesTableData?.meta &&\n        getFieldRenderer(vital.field, allReleasesTableData?.meta, false)\n    );\n\n    const spansRenderer = spans.map(\n      span =>\n        allReleasesTableData?.meta &&\n        getFieldRenderer(span.field, allReleasesTableData?.meta, false)\n    );\n\n    const webReleaseTrend = webVitals.map(vital => {\n      return {\n        allReleasesRow: {\n          data: allReleasesTableData?.data?.[0]?.[vital.field],\n          meta: allReleasesTableData?.meta?.[vital.field],\n        },\n        thisReleaseRow: {\n          data: thisReleaseTableData?.data?.[0]?.[vital.field],\n          meta: thisReleaseTableData?.meta?.[vital.field],\n        },\n      };\n    });\n    const spansReleaseTrend = spans.map(span => {\n      return {\n        allReleasesRow: {\n          data: allReleasesTableData?.data?.[0]?.[span.field],\n          meta: allReleasesTableData?.meta?.[span.field],\n        },\n        thisReleaseRow: {\n          data: thisReleaseTableData?.data?.[0]?.[span.field],\n          meta: thisReleaseTableData?.meta?.[span.field],\n        },\n      };\n    });\n\n    const emptyColumn = (\n      <div>\n        <SingleEmptySubText>\n          <StyledNotAvailable tooltip={t('No results found')} />\n        </SingleEmptySubText>\n        <StyledPanelItem>\n          <TitleSpace />\n          {webVitals.map((vital, index) => (\n            <MultipleEmptySubText key={vital[index]}>\n              {<StyledNotAvailable tooltip={t('No results found')} />}\n            </MultipleEmptySubText>\n          ))}\n        </StyledPanelItem>\n        <StyledPanelItem>\n          <TitleSpace />\n          {spans.map((span, index) => (\n            <MultipleEmptySubText key={span[index]}>\n              {<StyledNotAvailable tooltip={t('No results found')} />}\n            </MultipleEmptySubText>\n          ))}\n        </StyledPanelItem>\n      </div>\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <PanelItem>{t('User Misery')}</PanelItem>\n          <StyledPanelItem>\n            <div>{t('Web Vitals')}</div>\n            {webVitalTitles}\n          </StyledPanelItem>\n          <StyledPanelItem>\n            <div>{t('Span Operations')}</div>\n            {spanTitles}\n          </StyledPanelItem>\n        </div>\n        {allReleasesTableData?.data.length === 0\n          ? emptyColumn\n          : allReleasesTableData?.data.map((dataRow, idx) => {\n              const allReleasesMisery = miseryRenderer?.(dataRow, {\n                organization,\n                location,\n              });\n              const allReleasesWebVitals = webVitalsRenderer?.map(renderer =>\n                renderer?.(dataRow, {organization, location})\n              );\n              const allReleasesSpans = spansRenderer?.map(renderer =>\n                renderer?.(dataRow, {organization, location})\n              );\n\n              return (\n                <div key={idx}>\n                  <UserMiseryPanelItem>{allReleasesMisery}</UserMiseryPanelItem>\n                  <StyledPanelItem>\n                    <TitleSpace />\n                    {allReleasesWebVitals.map(webVital => webVital)}\n                  </StyledPanelItem>\n                  <StyledPanelItem>\n                    <TitleSpace />\n                    {allReleasesSpans.map(span => span)}\n                  </StyledPanelItem>\n                </div>\n              );\n            })}\n        {thisReleaseTableData?.data.length === 0\n          ? emptyColumn\n          : thisReleaseTableData?.data.map((dataRow, idx) => {\n              const thisReleasesMisery = miseryRenderer?.(dataRow, {\n                organization,\n                location,\n              });\n              const thisReleasesWebVitals = webVitalsRenderer?.map(renderer =>\n                renderer?.(dataRow, {organization, location})\n              );\n              const thisReleasesSpans = spansRenderer?.map(renderer =>\n                renderer?.(dataRow, {organization, location})\n              );\n\n              return (\n                <div key={idx}>\n                  <div>\n                    <UserMiseryPanelItem>{thisReleasesMisery}</UserMiseryPanelItem>\n                    <StyledPanelItem>\n                      <TitleSpace />\n                      {thisReleasesWebVitals.map(webVital => webVital)}\n                    </StyledPanelItem>\n                    <StyledPanelItem>\n                      <TitleSpace />\n                      {thisReleasesSpans.map(span => span)}\n                    </StyledPanelItem>\n                  </div>\n                </div>\n              );\n            })}\n        <div>\n          {userMiseryTrend()}\n          <StyledPanelItem>\n            <TitleSpace />\n            {webReleaseTrend?.map(row =>\n              renderChange(\n                row.allReleasesRow?.data as number,\n                row.thisReleaseRow?.data as number,\n                row.allReleasesRow?.meta as string\n              )\n            )}\n          </StyledPanelItem>\n          <StyledPanelItem>\n            <TitleSpace />\n            {spansReleaseTrend?.map(row =>\n              renderChange(\n                row.allReleasesRow?.data as number,\n                row.thisReleaseRow?.data as number,\n                row.allReleasesRow?.meta as string\n              )\n            )}\n          </StyledPanelItem>\n        </div>\n      </Fragment>\n    );\n  }\n\n  function renderBackendPerformance() {\n    const spans = [\n      {title: 'HTTP', column: 'p75(spans.http)', field: 'p75_spans_http'},\n      {title: 'DB', column: 'p75(spans.db)', field: 'p75_spans_db'},\n    ];\n\n    const spanTitles = spans.map((span, idx) => {\n      const newView = releaseEventView.withColumns([\n        {kind: 'field', field: `${span.column}`},\n      ]);\n      return (\n        <SubTitle key={idx}>\n          <Link to={newView.getResultsViewUrlTarget(organization.slug)}>\n            {t(span.title)}\n          </Link>\n        </SubTitle>\n      );\n    });\n\n    const apdexRenderer =\n      allReleasesTableData?.meta &&\n      getFieldRenderer('apdex', allReleasesTableData.meta, false);\n\n    const spansRenderer = spans.map(\n      span =>\n        allReleasesTableData?.meta &&\n        getFieldRenderer(span.field, allReleasesTableData?.meta, false)\n    );\n\n    const spansReleaseTrend = spans.map(span => {\n      return {\n        allReleasesRow: {\n          data: allReleasesTableData?.data?.[0]?.[span.field],\n          meta: allReleasesTableData?.meta?.[span.field],\n        },\n        thisReleaseRow: {\n          data: thisReleaseTableData?.data?.[0]?.[span.field],\n          meta: thisReleaseTableData?.meta?.[span.field],\n        },\n      };\n    });\n\n    function apdexTrend() {\n      const allReleasesApdex = allReleasesTableData?.data?.[0]?.apdex;\n      const thisReleaseApdex = thisReleaseTableData?.data?.[0]?.apdex;\n      return (\n        <StyledPanelItem>\n          {renderChange(\n            allReleasesApdex as number,\n            thisReleaseApdex as number,\n            'string' as string\n          )}\n        </StyledPanelItem>\n      );\n    }\n\n    const emptyColumn = (\n      <div>\n        <SingleEmptySubText>\n          <StyledNotAvailable tooltip={t('No results found')} />\n        </SingleEmptySubText>\n        <SingleEmptySubText>\n          <StyledNotAvailable tooltip={t('No results found')} />\n        </SingleEmptySubText>\n        <StyledPanelItem>\n          <TitleSpace />\n          {spans.map((span, index) => (\n            <MultipleEmptySubText key={span[index]}>\n              {<StyledNotAvailable tooltip={t('No results found')} />}\n            </MultipleEmptySubText>\n          ))}\n        </StyledPanelItem>\n      </div>\n    );\n    return (\n      <Fragment>\n        <div>\n          <PanelItem>{t('User Misery')}</PanelItem>\n          <StyledPanelItem>\n            <div>{t('Apdex')}</div>\n          </StyledPanelItem>\n          <StyledPanelItem>\n            <div>{t('Span Operations')}</div>\n            {spanTitles}\n          </StyledPanelItem>\n        </div>\n        {allReleasesTableData?.data.length === 0\n          ? emptyColumn\n          : allReleasesTableData?.data.map((dataRow, idx) => {\n              const allReleasesMisery = miseryRenderer?.(dataRow, {\n                organization,\n                location,\n              });\n              const allReleasesApdex = apdexRenderer?.(dataRow, {organization, location});\n              const allReleasesSpans = spansRenderer?.map(renderer =>\n                renderer?.(dataRow, {organization, location})\n              );\n\n              return (\n                <div key={idx}>\n                  <UserMiseryPanelItem>{allReleasesMisery}</UserMiseryPanelItem>\n                  <ApdexPanelItem>{allReleasesApdex}</ApdexPanelItem>\n                  <StyledPanelItem>\n                    <TitleSpace />\n                    {allReleasesSpans.map(span => span)}\n                  </StyledPanelItem>\n                </div>\n              );\n            })}\n        {thisReleaseTableData?.data.length === 0\n          ? emptyColumn\n          : thisReleaseTableData?.data.map((dataRow, idx) => {\n              const thisReleasesMisery = miseryRenderer?.(dataRow, {\n                organization,\n                location,\n              });\n              const thisReleasesApdex = apdexRenderer?.(dataRow, {\n                organization,\n                location,\n              });\n              const thisReleasesSpans = spansRenderer?.map(renderer =>\n                renderer?.(dataRow, {organization, location})\n              );\n\n              return (\n                <div key={idx}>\n                  <UserMiseryPanelItem>{thisReleasesMisery}</UserMiseryPanelItem>\n                  <ApdexPanelItem>{thisReleasesApdex}</ApdexPanelItem>\n                  <StyledPanelItem>\n                    <TitleSpace />\n                    {thisReleasesSpans.map(span => span)}\n                  </StyledPanelItem>\n                </div>\n              );\n            })}\n        <div>\n          {userMiseryTrend()}\n          {apdexTrend()}\n          <StyledPanelItem>\n            <TitleSpace />\n            {spansReleaseTrend?.map(row =>\n              renderChange(\n                row.allReleasesRow?.data as number,\n                row.thisReleaseRow?.data as number,\n                row.allReleasesRow?.meta as string\n              )\n            )}\n          </StyledPanelItem>\n        </div>\n      </Fragment>\n    );\n  }\n\n  function renderMobilePerformance() {\n    const mobileVitals = [\n      MobileVital.AppStartCold,\n      MobileVital.AppStartWarm,\n      MobileVital.FramesSlow,\n      MobileVital.FramesFrozen,\n    ];\n    const mobileVitalTitles = mobileVitals.map(mobileVital => {\n      return (\n        <PanelItem key={mobileVital}>{MOBILE_VITAL_DETAILS[mobileVital].name}</PanelItem>\n      );\n    });\n\n    const mobileVitalFields = [\n      'p75(measurements.app_start_cold)',\n      'p75(measurements.app_start_warm)',\n      'p75(measurements.frames_slow)',\n      'p75(measurements.frames_frozen)',\n    ];\n    const mobileVitalsRenderer = mobileVitalFields.map(\n      field =>\n        allReleasesTableData?.meta &&\n        getFieldRenderer(field, allReleasesTableData?.meta, false)\n    );\n\n    const mobileReleaseTrend = mobileVitalFields.map(field => {\n      return {\n        allReleasesRow: {\n          data: allReleasesTableData?.data?.[0]?.[field],\n          meta: allReleasesTableData?.meta?.[field],\n        },\n        thisReleaseRow: {\n          data: thisReleaseTableData?.data?.[0]?.[field],\n          meta: thisReleaseTableData?.meta?.[field],\n        },\n      };\n    });\n\n    const emptyColumn = (\n      <div>\n        <SingleEmptySubText>\n          <StyledNotAvailable tooltip={t('No results found')} />\n        </SingleEmptySubText>\n        {mobileVitalFields.map((vital, index) => (\n          <SingleEmptySubText key={vital[index]}>\n            <StyledNotAvailable tooltip={t('No results found')} />\n          </SingleEmptySubText>\n        ))}\n      </div>\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <PanelItem>{t('User Misery')}</PanelItem>\n          {mobileVitalTitles}\n        </div>\n        {allReleasesTableData?.data.length === 0\n          ? emptyColumn\n          : allReleasesTableData?.data.map((dataRow, idx) => {\n              const allReleasesMisery = miseryRenderer?.(dataRow, {\n                organization,\n                location,\n              });\n              const allReleasesMobile = mobileVitalsRenderer?.map(renderer =>\n                renderer?.(dataRow, {organization, location})\n              );\n\n              return (\n                <div key={idx}>\n                  <UserMiseryPanelItem>{allReleasesMisery}</UserMiseryPanelItem>\n                  {allReleasesMobile.map((mobileVital, i) => (\n                    <StyledPanelItem key={i}>{mobileVital}</StyledPanelItem>\n                  ))}\n                </div>\n              );\n            })}\n        {thisReleaseTableData?.data.length === 0\n          ? emptyColumn\n          : thisReleaseTableData?.data.map((dataRow, idx) => {\n              const thisReleasesMisery = miseryRenderer?.(dataRow, {\n                organization,\n                location,\n              });\n              const thisReleasesMobile = mobileVitalsRenderer?.map(renderer =>\n                renderer?.(dataRow, {organization, location})\n              );\n\n              return (\n                <div key={idx}>\n                  <UserMiseryPanelItem>{thisReleasesMisery}</UserMiseryPanelItem>\n                  {thisReleasesMobile.map((mobileVital, i) => (\n                    <StyledPanelItem key={i}>{mobileVital}</StyledPanelItem>\n                  ))}\n                </div>\n              );\n            })}\n        <div>\n          {userMiseryTrend()}\n          {mobileReleaseTrend?.map((row, idx) => (\n            <StyledPanelItem key={idx}>\n              {renderChange(\n                row.allReleasesRow?.data as number,\n                row.thisReleaseRow?.data as number,\n                row.allReleasesRow?.meta as string\n              )}\n            </StyledPanelItem>\n          ))}\n        </div>\n      </Fragment>\n    );\n  }\n\n  function renderUnknownPerformance() {\n    const emptyColumn = (\n      <div>\n        <SingleEmptySubText>\n          <StyledNotAvailable tooltip={t('No results found')} />\n        </SingleEmptySubText>\n      </div>\n    );\n\n    return (\n      <Fragment>\n        <div>\n          <PanelItem>{t('User Misery')}</PanelItem>\n        </div>\n        {allReleasesTableData?.data.length === 0\n          ? emptyColumn\n          : allReleasesTableData?.data.map((dataRow, idx) => {\n              const allReleasesMisery = miseryRenderer?.(dataRow, {\n                organization,\n                location,\n              });\n\n              return (\n                <div key={idx}>\n                  <UserMiseryPanelItem>{allReleasesMisery}</UserMiseryPanelItem>\n                </div>\n              );\n            })}\n        {thisReleaseTableData?.data.length === 0\n          ? emptyColumn\n          : thisReleaseTableData?.data.map((dataRow, idx) => {\n              const thisReleasesMisery = miseryRenderer?.(dataRow, {\n                organization,\n                location,\n              });\n\n              return (\n                <div key={idx}>\n                  <UserMiseryPanelItem>{thisReleasesMisery}</UserMiseryPanelItem>\n                </div>\n              );\n            })}\n        <div>{userMiseryTrend()}</div>\n      </Fragment>\n    );\n  }\n\n  const loader = <StyledLoadingIndicator />;\n\n  const platformPerformanceRender = {\n    [PROJECT_PERFORMANCE_TYPE.FRONTEND]: {\n      title: t('Frontend Performance'),\n      section: renderFrontendPerformance(),\n    },\n    [PROJECT_PERFORMANCE_TYPE.BACKEND]: {\n      title: t('Backend Performance'),\n      section: renderBackendPerformance(),\n    },\n    [PROJECT_PERFORMANCE_TYPE.MOBILE]: {\n      title: t('Mobile Performance'),\n      section: renderMobilePerformance(),\n    },\n    [PROJECT_PERFORMANCE_TYPE.ANY]: {\n      title: t('[Unknown] Performance'),\n      section: renderUnknownPerformance(),\n    },\n  };\n\n  const isUnknownPlatform = performanceType === PROJECT_PERFORMANCE_TYPE.ANY;\n\n  return (\n    <Fragment>\n      <HeadCellContainer>\n        {platformPerformanceRender[performanceType].title}\n      </HeadCellContainer>\n      {isUnknownPlatform && (\n        <StyledAlert type=\"warning\" showIcon system>\n          {tct(\n            'For more performance metrics, specify which platform this project is using in [link]',\n            {\n              link: (\n                <Link to={`/settings/${organization.slug}/projects/${project.slug}/`}>\n                  {t('project settings.')}\n                </Link>\n              ),\n            }\n          )}\n        </StyledAlert>\n      )}\n      <StyledPanelTable\n        isLoading={isLoading}\n        headers={[\n          <Cell key=\"description\" align=\"left\">\n            {t('Description')}\n          </Cell>,\n          <Cell key=\"releases\" align=\"right\">\n            {t('All Releases')}\n          </Cell>,\n          <Cell key=\"release\" align=\"right\">\n            {t('This Release')}\n          </Cell>,\n          <Cell key=\"change\" align=\"right\">\n            {t('Change')}\n          </Cell>,\n        ]}\n        disablePadding\n        loader={loader}\n        disableTopBorder={isUnknownPlatform}\n      >\n        {platformPerformanceRender[performanceType].section}\n      </StyledPanelTable>\n    </Fragment>\n  );\n}\n\ninterface Props extends AsyncComponentProps {\n  allReleasesEventView: EventView;\n  location: Location;\n  organization: Organization;\n  performanceType: string;\n  project: ReleaseProject;\n  releaseEventView: EventView;\n}\n\nfunction PerformanceCardTableWrapper({\n  organization,\n  project,\n  allReleasesEventView,\n  releaseEventView,\n  performanceType,\n  location,\n}: Props) {\n  return (\n    <DiscoverQuery\n      eventView={allReleasesEventView}\n      orgSlug={organization.slug}\n      location={location}\n      useEvents\n    >\n      {({isLoading, tableData: allReleasesTableData}) => (\n        <DiscoverQuery\n          eventView={releaseEventView}\n          orgSlug={organization.slug}\n          location={location}\n          useEvents\n        >\n          {({isLoading: isReleaseLoading, tableData: thisReleaseTableData}) => (\n            <PerformanceCardTable\n              isLoading={isLoading || isReleaseLoading}\n              organization={organization}\n              location={location}\n              project={project}\n              allReleasesEventView={allReleasesEventView}\n              releaseEventView={releaseEventView}\n              allReleasesTableData={allReleasesTableData}\n              thisReleaseTableData={thisReleaseTableData}\n              performanceType={performanceType}\n            />\n          )}\n        </DiscoverQuery>\n      )}\n    </DiscoverQuery>\n  );\n}\n\nexport default PerformanceCardTableWrapper;\n\nconst emptyFieldCss = p => css`\n  color: ${p.theme.chartOther};\n  text-align: right;\n`;\n\nconst StyledLoadingIndicator = styled(LoadingIndicator)`\n  margin: 70px auto;\n`;\n\nconst HeadCellContainer = styled('div')`\n  font-size: ${p => p.theme.fontSizeExtraLarge};\n  padding: ${space(2)};\n  border-top: 1px solid ${p => p.theme.border};\n  border-left: 1px solid ${p => p.theme.border};\n  border-right: 1px solid ${p => p.theme.border};\n  border-top-left-radius: ${p => p.theme.borderRadius};\n  border-top-right-radius: ${p => p.theme.borderRadius};\n`;\n\nconst StyledPanelTable = styled(PanelTable)<{disableTopBorder: boolean}>`\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border-top: ${p => (p.disableTopBorder ? 'none' : `1px solid ${p.theme.border}`)};\n  @media (max-width: ${p => p.theme.breakpoints.large}) {\n    grid-template-columns: min-content 1fr 1fr 1fr;\n  }\n`;\n\nconst StyledPanelItem = styled(PanelItem)`\n  display: block;\n  white-space: nowrap;\n  width: 100%;\n`;\n\nconst SubTitle = styled('div')`\n  margin-left: ${space(3)};\n`;\n\nconst TitleSpace = styled('div')`\n  height: 24px;\n`;\n\nconst UserMiseryPanelItem = styled(PanelItem)`\n  justify-content: flex-end;\n`;\n\nconst ApdexPanelItem = styled(PanelItem)`\n  text-align: right;\n`;\n\nconst SingleEmptySubText = styled(PanelItem)`\n  display: block;\n  ${emptyFieldCss}\n`;\n\nconst MultipleEmptySubText = styled('div')`\n  ${emptyFieldCss}\n`;\n\nconst Cell = styled('div')<{align: 'left' | 'right'}>`\n  text-align: ${p => p.align};\n  margin-left: ${p => p.align === 'left' && space(2)};\n  padding-right: ${p => p.align === 'right' && space(2)};\n  ${p => p.theme.overflowEllipsis}\n`;\n\nconst StyledAlert = styled(Alert)`\n  border-top: 1px solid ${p => p.theme.border};\n  border-right: 1px solid ${p => p.theme.border};\n  border-left: 1px solid ${p => p.theme.border};\n  margin-bottom: 0;\n`;\n\nconst StyledNotAvailable = styled(NotAvailable)`\n  text-align: right;\n`;\n\nconst SubText = styled('div')`\n  color: ${p => p.theme.subText};\n  text-align: right;\n`;\n\nconst TrendText = styled('div')<{color: string}>`\n  color: ${p => p.theme[p.color]};\n  text-align: right;\n`;\n\nconst StyledIconArrow = styled(IconArrow)<{color: string}>`\n  color: ${p => p.theme[p.color]};\n  margin-left: ${space(0.5)};\n`;\n","import {Component, Fragment} from 'react';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location, LocationDescriptor, Query} from 'history';\n\nimport GuideAnchor from 'sentry/components/assistant/guideAnchor';\nimport Button from 'sentry/components/button';\nimport DiscoverButton from 'sentry/components/discoverButton';\nimport CompactSelect from 'sentry/components/forms/compactSelect';\nimport Pagination, {CursorHandler} from 'sentry/components/pagination';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization} from 'sentry/types';\nimport DiscoverQuery, {TableDataRow} from 'sentry/utils/discover/discoverQuery';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {Sort} from 'sentry/utils/discover/fields';\nimport {TrendsEventsDiscoverQuery} from 'sentry/utils/performance/trends/trendsDiscoverQuery';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport {Actions} from 'sentry/views/eventsV2/table/cellAction';\nimport {TableColumn} from 'sentry/views/eventsV2/table/types';\nimport {decodeColumnOrder} from 'sentry/views/eventsV2/utils';\nimport {SpanOperationBreakdownFilter} from 'sentry/views/performance/transactionSummary/filter';\nimport {mapShowTransactionToPercentile} from 'sentry/views/performance/transactionSummary/transactionEvents/utils';\nimport {TransactionFilterOptions} from 'sentry/views/performance/transactionSummary/utils';\nimport {TrendChangeType, TrendView} from 'sentry/views/performance/trends/types';\n\nimport TransactionsTable from './transactionsTable';\n\nconst DEFAULT_TRANSACTION_LIMIT = 5;\n\nexport type DropdownOption = {\n  /**\n   * The label to display in the dropdown\n   */\n  label: string;\n  /**\n   * The sort to apply to the eventView when this is selected.\n   */\n  sort: Sort;\n  /**\n   * The unique name to use for this option.\n   */\n  value: string;\n  /**\n   * override the eventView query\n   */\n  query?: [string, string][];\n  /**\n   * Included if the option is for a trend\n   */\n  trendType?: TrendChangeType;\n};\n\ntype Props = {\n  /**\n   * The name of the url parameter that contains the cursor info.\n   */\n  cursorName: string;\n  eventView: EventView;\n  /**\n   * The callback for when the dropdown option changes.\n   */\n  handleDropdownChange: (k: string) => void;\n  /**\n   * The limit to the number of results to fetch.\n   */\n  limit: number;\n  location: Location;\n  /**\n   * The available options for the dropdown.\n   */\n  options: DropdownOption[];\n  organization: Organization;\n  /**\n   * The currently selected option on the dropdown.\n   */\n  selected: DropdownOption;\n  breakdown?: SpanOperationBreakdownFilter;\n  /**\n   * Show a loading indicator instead of the table, used for transaction summary p95.\n   */\n  forceLoading?: boolean;\n  /**\n   * Optional callback function to generate an alternative EventView object to be used\n   * for generating the Discover query.\n   */\n  generateDiscoverEventView?: () => EventView;\n  /**\n   * A map of callbacks to generate a link for a column based on the title.\n   */\n  generateLink?: Record<\n    string,\n    (\n      organization: Organization,\n      tableRow: TableDataRow,\n      query: Query\n    ) => LocationDescriptor\n  >;\n  generatePerformanceTransactionEventsView?: () => EventView;\n  /**\n   * The callback to generate a cell action handler for a column\n   */\n  handleCellAction?: (\n    c: TableColumn<React.ReactText>\n  ) => (a: Actions, v: React.ReactText) => void;\n  /**\n   * The callback for when View All Events is clicked.\n   */\n  handleOpenAllEventsClick?: (e: React.MouseEvent<Element>) => void;\n  /**\n   * The callback for when Open in Discover is clicked.\n   */\n  handleOpenInDiscoverClick?: (e: React.MouseEvent<Element>) => void;\n  showTransactions?: TransactionFilterOptions;\n  /**\n   * A list of preferred table headers to use over the field names.\n   */\n  titles?: string[];\n  trendView?: TrendView;\n};\n\nclass _TransactionsList extends Component<Props> {\n  static defaultProps = {\n    cursorName: 'transactionCursor',\n    limit: DEFAULT_TRANSACTION_LIMIT,\n  };\n\n  handleCursor: CursorHandler = (cursor, pathname, query) => {\n    const {cursorName} = this.props;\n    browserHistory.push({\n      pathname,\n      query: {...query, [cursorName]: cursor},\n    });\n  };\n\n  getEventView() {\n    const {eventView, selected} = this.props;\n\n    const sortedEventView = eventView.withSorts([selected.sort]);\n    if (selected.query) {\n      const query = new MutableSearch(sortedEventView.query);\n      selected.query.forEach(item => query.setFilterValues(item[0], [item[1]]));\n      sortedEventView.query = query.formatString();\n    }\n\n    return sortedEventView;\n  }\n\n  generateDiscoverEventView(): EventView {\n    const {generateDiscoverEventView} = this.props;\n    if (typeof generateDiscoverEventView === 'function') {\n      return generateDiscoverEventView();\n    }\n    return this.getEventView();\n  }\n\n  generatePerformanceTransactionEventsView(): EventView {\n    const {generatePerformanceTransactionEventsView} = this.props;\n    return generatePerformanceTransactionEventsView?.() ?? this.getEventView();\n  }\n\n  renderHeader(): React.ReactNode {\n    const {\n      organization,\n      selected,\n      options,\n      handleDropdownChange,\n      handleOpenAllEventsClick,\n      handleOpenInDiscoverClick,\n      showTransactions,\n      breakdown,\n    } = this.props;\n\n    return (\n      <Fragment>\n        <div>\n          <CompactSelect\n            triggerProps={{prefix: t('Filter'), size: 'xs'}}\n            value={selected.value}\n            options={options}\n            onChange={opt => handleDropdownChange(opt.value)}\n          />\n        </div>\n        {!this.isTrend() &&\n          (handleOpenAllEventsClick ? (\n            <GuideAnchor target=\"release_transactions_open_in_transaction_events\">\n              <Button\n                onClick={handleOpenAllEventsClick}\n                to={this.generatePerformanceTransactionEventsView().getPerformanceTransactionEventsViewUrlTarget(\n                  organization.slug,\n                  {\n                    showTransactions: mapShowTransactionToPercentile(showTransactions),\n                    breakdown,\n                  }\n                )}\n                size=\"xs\"\n                data-test-id=\"transaction-events-open\"\n              >\n                {t('View All Events')}\n              </Button>\n            </GuideAnchor>\n          ) : (\n            <GuideAnchor target=\"release_transactions_open_in_discover\">\n              <DiscoverButton\n                onClick={handleOpenInDiscoverClick}\n                to={this.generateDiscoverEventView().getResultsViewUrlTarget(\n                  organization.slug\n                )}\n                size=\"xs\"\n                data-test-id=\"discover-open\"\n              >\n                {t('Open in Discover')}\n              </DiscoverButton>\n            </GuideAnchor>\n          ))}\n      </Fragment>\n    );\n  }\n\n  renderTransactionTable(): React.ReactNode {\n    const {\n      location,\n      organization,\n      handleCellAction,\n      cursorName,\n      limit,\n      titles,\n      generateLink,\n      forceLoading,\n    } = this.props;\n    const useEvents = organization.features.includes(\n      'performance-frontend-use-events-endpoint'\n    );\n\n    const eventView = this.getEventView();\n    const columnOrder = eventView.getColumns();\n    const cursor = decodeScalar(location.query?.[cursorName]);\n\n    const tableRenderer = ({isLoading, pageLinks, tableData}) => (\n      <Fragment>\n        <Header>\n          {this.renderHeader()}\n          <StyledPagination\n            pageLinks={pageLinks}\n            onCursor={this.handleCursor}\n            size=\"xs\"\n          />\n        </Header>\n        <TransactionsTable\n          eventView={eventView}\n          organization={organization}\n          location={location}\n          isLoading={isLoading}\n          tableData={tableData}\n          columnOrder={columnOrder}\n          titles={titles}\n          generateLink={generateLink}\n          handleCellAction={handleCellAction}\n          useAggregateAlias={!useEvents}\n        />\n      </Fragment>\n    );\n\n    if (forceLoading) {\n      return tableRenderer({\n        isLoading: true,\n        pageLinks: null,\n        tableData: null,\n      });\n    }\n\n    return (\n      <DiscoverQuery\n        location={location}\n        eventView={eventView}\n        orgSlug={organization.slug}\n        limit={limit}\n        cursor={cursor}\n        referrer=\"api.discover.transactions-list\"\n        useEvents={useEvents}\n      >\n        {tableRenderer}\n      </DiscoverQuery>\n    );\n  }\n\n  renderTrendsTable(): React.ReactNode {\n    const {trendView, location, selected, organization, cursorName, generateLink} =\n      this.props;\n\n    const sortedEventView: TrendView = trendView!.clone();\n    sortedEventView.sorts = [selected.sort];\n    sortedEventView.trendType = selected.trendType;\n    if (selected.query) {\n      const query = new MutableSearch(sortedEventView.query);\n      selected.query.forEach(item => query.setFilterValues(item[0], [item[1]]));\n      sortedEventView.query = query.formatString();\n    }\n    const cursor = decodeScalar(location.query?.[cursorName]);\n\n    return (\n      <TrendsEventsDiscoverQuery\n        eventView={sortedEventView}\n        orgSlug={organization.slug}\n        location={location}\n        cursor={cursor}\n        limit={5}\n      >\n        {({isLoading, trendsData, pageLinks}) => (\n          <Fragment>\n            <Header>\n              {this.renderHeader()}\n              <StyledPagination\n                pageLinks={pageLinks}\n                onCursor={this.handleCursor}\n                size=\"sm\"\n              />\n            </Header>\n            <TransactionsTable\n              eventView={sortedEventView}\n              organization={organization}\n              location={location}\n              isLoading={isLoading}\n              tableData={trendsData}\n              titles={['transaction', 'percentage', 'difference']}\n              columnOrder={decodeColumnOrder([\n                {field: 'transaction'},\n                {field: 'trend_percentage()'},\n                {field: 'trend_difference()'},\n              ])}\n              generateLink={generateLink}\n              useAggregateAlias\n            />\n          </Fragment>\n        )}\n      </TrendsEventsDiscoverQuery>\n    );\n  }\n\n  isTrend(): boolean {\n    const {selected} = this.props;\n    return selected.trendType !== undefined;\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {this.isTrend() ? this.renderTrendsTable() : this.renderTransactionTable()}\n      </Fragment>\n    );\n  }\n}\n\nconst Header = styled('div')`\n  display: grid;\n  grid-template-columns: 1fr auto auto;\n  margin-bottom: ${space(1)};\n  align-items: center;\n`;\n\nconst StyledPagination = styled(Pagination)`\n  margin: 0 0 0 ${space(1)};\n`;\n\nconst TransactionsList = (\n  props: Omit<Props, 'cursorName' | 'limit'> & {\n    cursorName?: Props['cursorName'];\n    limit?: Props['limit'];\n  }\n) => {\n  return <_TransactionsList {...props} />;\n};\n\nexport default TransactionsList;\n","import {Fragment, PureComponent} from 'react';\nimport styled from '@emotion/styled';\nimport {Location, LocationDescriptor, Query} from 'history';\n\nimport SortLink from 'sentry/components/gridEditable/sortLink';\nimport Link from 'sentry/components/links/link';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport PanelTable from 'sentry/components/panels/panelTable';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization} from 'sentry/types';\nimport {TableData, TableDataRow} from 'sentry/utils/discover/discoverQuery';\nimport EventView, {MetaType} from 'sentry/utils/discover/eventView';\nimport {getFieldRenderer} from 'sentry/utils/discover/fieldRenderers';\nimport {\n  Alignments,\n  fieldAlignment,\n  getAggregateAlias,\n} from 'sentry/utils/discover/fields';\nimport {VisuallyCompleteWithData} from 'sentry/utils/performanceForSentry';\nimport CellAction, {Actions} from 'sentry/views/eventsV2/table/cellAction';\nimport {TableColumn} from 'sentry/views/eventsV2/table/types';\nimport {GridCell, GridCellNumber} from 'sentry/views/performance/styles';\nimport {TrendsDataEvents} from 'sentry/views/performance/trends/types';\n\ntype Props = {\n  columnOrder: TableColumn<React.ReactText>[];\n  eventView: EventView;\n  isLoading: boolean;\n  location: Location;\n  organization: Organization;\n  tableData: TableData | TrendsDataEvents | null;\n  useAggregateAlias: boolean;\n  generateLink?: Record<\n    string,\n    (\n      organization: Organization,\n      tableRow: TableDataRow,\n      query: Query\n    ) => LocationDescriptor\n  >;\n  handleCellAction?: (\n    c: TableColumn<React.ReactText>\n  ) => (a: Actions, v: React.ReactText) => void;\n  titles?: string[];\n};\n\nclass TransactionsTable extends PureComponent<Props> {\n  getTitles() {\n    const {eventView, titles} = this.props;\n    return titles ?? eventView.getFields();\n  }\n\n  renderHeader() {\n    const {tableData, columnOrder} = this.props;\n\n    const tableMeta = tableData?.meta;\n    const generateSortLink = () => undefined;\n    const tableTitles = this.getTitles();\n\n    const headers = tableTitles.map((title, index) => {\n      const column = columnOrder[index];\n      const align: Alignments = fieldAlignment(column.name, column.type, tableMeta);\n\n      if (column.key === 'span_ops_breakdown.relative') {\n        return (\n          <HeadCellContainer key={index}>\n            <SortLink\n              align={align}\n              title={\n                title === t('operation duration') ? (\n                  <Fragment>\n                    {title}\n                    <StyledIconQuestion\n                      size=\"xs\"\n                      position=\"top\"\n                      title={t(\n                        `Span durations are summed over the course of an entire transaction. Any overlapping spans are only counted once.`\n                      )}\n                    />\n                  </Fragment>\n                ) : (\n                  title\n                )\n              }\n              direction={undefined}\n              canSort={false}\n              generateSortLink={generateSortLink}\n            />\n          </HeadCellContainer>\n        );\n      }\n\n      return (\n        <HeadCellContainer key={index}>\n          <SortLink\n            align={align}\n            title={title}\n            direction={undefined}\n            canSort={false}\n            generateSortLink={generateSortLink}\n          />\n        </HeadCellContainer>\n      );\n    });\n\n    return headers;\n  }\n\n  renderRow(\n    row: TableDataRow,\n    rowIndex: number,\n    columnOrder: TableColumn<React.ReactText>[],\n    tableMeta: MetaType\n  ): React.ReactNode[] {\n    const {\n      eventView,\n      organization,\n      location,\n      generateLink,\n      handleCellAction,\n      titles,\n      useAggregateAlias,\n    } = this.props;\n    const fields = eventView.getFields();\n\n    if (titles && titles.length) {\n      // Slice to match length of given titles\n      columnOrder = columnOrder.slice(0, titles.length);\n    }\n\n    const resultsRow = columnOrder.map((column, index) => {\n      const field = String(column.key);\n      // TODO add a better abstraction for this in fieldRenderers.\n      const fieldName = useAggregateAlias ? getAggregateAlias(field) : field;\n      const fieldType = tableMeta[fieldName];\n\n      const fieldRenderer = getFieldRenderer(field, tableMeta, useAggregateAlias);\n      let rendered = fieldRenderer(row, {organization, location});\n\n      const target = generateLink?.[field]?.(organization, row, location.query);\n\n      if (target) {\n        rendered = (\n          <Link data-test-id={`view-${fields[index]}`} to={target}>\n            {rendered}\n          </Link>\n        );\n      }\n\n      const isNumeric = ['integer', 'number', 'duration'].includes(fieldType);\n      const key = `${rowIndex}:${column.key}:${index}`;\n      rendered = isNumeric ? (\n        <GridCellNumber>{rendered}</GridCellNumber>\n      ) : (\n        <GridCell>{rendered}</GridCell>\n      );\n\n      if (handleCellAction) {\n        rendered = (\n          <CellAction\n            column={column}\n            dataRow={row}\n            handleCellAction={handleCellAction(column)}\n          >\n            {rendered}\n          </CellAction>\n        );\n      }\n\n      return <BodyCellContainer key={key}>{rendered}</BodyCellContainer>;\n    });\n\n    return resultsRow;\n  }\n\n  renderResults() {\n    const {isLoading, tableData, columnOrder} = this.props;\n    let cells: React.ReactNode[] = [];\n\n    if (isLoading) {\n      return cells;\n    }\n    if (!tableData || !tableData.meta || !tableData.data) {\n      return cells;\n    }\n\n    tableData.data.forEach((row, i: number) => {\n      // Another check to appease tsc\n      if (!tableData.meta) {\n        return;\n      }\n      cells = cells.concat(this.renderRow(row, i, columnOrder, tableData.meta));\n    });\n    return cells;\n  }\n\n  render() {\n    const {isLoading, tableData} = this.props;\n\n    const hasResults =\n      tableData && tableData.data && tableData.meta && tableData.data.length > 0;\n\n    // Custom set the height so we don't have layout shift when results are loaded.\n    const loader = <LoadingIndicator style={{margin: '70px auto'}} />;\n\n    return (\n      <VisuallyCompleteWithData id=\"TransactionsTable\" hasData={hasResults}>\n        <PanelTable\n          data-test-id=\"transactions-table\"\n          isEmpty={!hasResults}\n          emptyMessage={t('No transactions found')}\n          headers={this.renderHeader()}\n          isLoading={isLoading}\n          disablePadding\n          loader={loader}\n        >\n          {this.renderResults()}\n        </PanelTable>\n      </VisuallyCompleteWithData>\n    );\n  }\n}\n\nconst HeadCellContainer = styled('div')`\n  padding: ${space(2)};\n`;\n\nconst BodyCellContainer = styled('div')`\n  padding: ${space(1)} ${space(2)};\n  ${p => p.theme.overflowEllipsis};\n`;\n\nconst StyledIconQuestion = styled(QuestionTooltip)`\n  position: relative;\n  top: 1px;\n  left: 4px;\n`;\n\nexport default TransactionsTable;\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport space from 'sentry/styles/space';\nimport {Theme} from 'sentry/utils/theme';\n\ntype Props = {\n  keyName: React.ReactNode;\n  value: React.ReactNode;\n};\n\nexport const KeyValueTable = styled('dl')`\n  display: grid;\n  grid-template-columns: 50% 50%;\n`;\n\nexport const KeyValueTableRow = ({keyName, value}: Props) => {\n  return (\n    <Fragment>\n      <Key>{keyName}</Key>\n      <Value>{value}</Value>\n    </Fragment>\n  );\n};\n\nconst commonStyles = ({theme}: {theme: Theme}) => `\nfont-size: ${theme.fontSizeMedium};\npadding: ${space(0.5)} ${space(1)};\nfont-weight: normal;\nline-height: inherit;\n${p => p.theme.overflowEllipsis};\n&:nth-of-type(2n-1) {\n  background-color: ${theme.backgroundSecondary};\n}\n`;\n\nconst Key = styled('dt')`\n  ${commonStyles};\n  color: ${p => p.theme.textColor};\n`;\n\nconst Value = styled('dd')`\n  ${commonStyles};\n  color: ${p => p.theme.subText};\n  text-align: right;\n`;\n","import styled from '@emotion/styled';\n\nimport TimeRangeSelector from 'sentry/components/organizations/timeRangeSelector';\nimport {Panel} from 'sentry/components/panels';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\n\ntype Props = React.ComponentProps<typeof TimeRangeSelector> & {className?: string};\n\nfunction PageTimeRangeSelector({className, ...props}: Props) {\n  return (\n    <DropdownDate className={className}>\n      <TimeRangeSelector\n        key={`period:${props.relative}-start:${props.start}-end:${props.end}-utc:${props.utc}-defaultPeriod:${props.defaultPeriod}`}\n        label={<DropdownLabel>{t('Date Range:')}</DropdownLabel>}\n        detached\n        {...props}\n      />\n    </DropdownDate>\n  );\n}\n\nconst DropdownDate = styled(Panel)`\n  padding: 0;\n  margin: 0;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 42px;\n  background: ${p => p.theme.background};\n  border: 1px solid ${p => p.theme.border};\n  border-radius: ${p => p.theme.borderRadius};\n\n  font-size: ${p => p.theme.fontSizeMedium};\n  color: ${p => p.theme.textColor};\n\n  > div {\n    width: 100%;\n    align-self: stretch;\n  }\n  /* StyledItemHeader used to show selected value of TimeRangeSelector */\n  > div > div:first-child > div {\n    padding: 0 ${space(2)};\n  }\n  /* Menu that dropdowns from TimeRangeSelector */\n  > div > div:last-child:not(:first-child) {\n    /* Remove awkward 1px width difference on dropdown due to border */\n    min-width: calc(100% + 2px);\n    transform: translateX(-1px);\n    right: auto;\n  }\n`;\n\nconst DropdownLabel = styled('span')`\n  text-align: left;\n  font-weight: 600;\n  color: ${p => p.theme.textColor};\n\n  > span:last-child {\n    font-weight: 400;\n  }\n`;\n\nexport default PageTimeRangeSelector;\n","import {EventsMetaType, MetaType} from 'sentry/utils/discover/eventView';\nimport withApi from 'sentry/utils/withApi';\nimport {TransactionThresholdMetric} from 'sentry/views/performance/transactionSummary/transactionThresholdModal';\n\nimport GenericDiscoverQuery, {\n  DiscoverQueryProps,\n  GenericChildrenProps,\n} from './genericDiscoverQuery';\n\n/**\n * An individual row in a DiscoverQuery result\n */\nexport type TableDataRow = {\n  [key: string]: React.ReactText;\n  id: string;\n};\n\n/**\n * A DiscoverQuery result including rows and metadata.\n */\nexport type TableData = {\n  data: Array<TableDataRow>;\n  meta?: MetaType;\n};\n\n/**\n * A DiscoverQuery result including rows and metadata from the events endpoint.\n */\nexport type EventsTableData = {\n  data: Array<TableDataRow>;\n  meta?: EventsMetaType;\n};\n\nexport type TableDataWithTitle = TableData & {title: string};\n\ntype DiscoverQueryPropsWithThresholds = DiscoverQueryProps & {\n  transactionName?: string;\n  transactionThreshold?: number;\n  transactionThresholdMetric?: TransactionThresholdMetric;\n};\n\ntype DiscoverQueryComponentProps = DiscoverQueryPropsWithThresholds & {\n  children: (props: GenericChildrenProps<TableData>) => React.ReactNode;\n  useEvents?: boolean;\n};\n\nfunction shouldRefetchData(\n  prevProps: DiscoverQueryPropsWithThresholds,\n  nextProps: DiscoverQueryPropsWithThresholds\n) {\n  return (\n    prevProps.transactionName !== nextProps.transactionName ||\n    prevProps.transactionThreshold !== nextProps.transactionThreshold ||\n    prevProps.transactionThresholdMetric !== nextProps.transactionThresholdMetric\n  );\n}\n\nfunction DiscoverQuery(props: DiscoverQueryComponentProps) {\n  const endpoint = props.useEvents ? 'events' : 'eventsv2';\n  const afterFetch = props.useEvents\n    ? (data, _) => {\n        const {fields, ...otherMeta} = data.meta ?? {};\n        return {\n          ...data,\n          meta: {...fields, ...otherMeta},\n        };\n      }\n    : undefined;\n  return (\n    <GenericDiscoverQuery<TableData, DiscoverQueryPropsWithThresholds>\n      route={endpoint}\n      shouldRefetchData={shouldRefetchData}\n      afterFetch={afterFetch}\n      {...props}\n    />\n  );\n}\n\nexport default withApi(DiscoverQuery);\n","import {createContext, Fragment, Ref, useEffect, useRef} from 'react';\nimport identity from 'lodash/identity';\n\nimport {Client} from 'sentry/api';\nimport {Organization} from 'sentry/types';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport useApi from 'sentry/utils/useApi';\nimport useOrganization from 'sentry/utils/useOrganization';\n\nimport {createDefinedContext} from './utils';\n\ntype QueryObject = {\n  includeAllArgs: boolean | undefined;\n  query: {\n    [k: string]: any;\n  };\n}; // TODO(k-fish): Fix to ensure exact types for all requests. Simplified type for now, need to pull this in from events file.\n\nexport type Transform = (data: any, queryDefinition: BatchQueryDefinition) => any;\n\ntype BatchQueryDefinition = {\n  api: Client;\n  batchProperty: string;\n\n  path: string;\n  reject: (reason?: string) => void;\n  requestQueryObject: QueryObject;\n  // Intermediate promise functions\n  resolve: (value: any) => void;\n  transform?: Transform;\n};\n\ntype QueryBatch = {\n  addQuery: (q: BatchQueryDefinition, id: symbol) => void;\n};\n\nconst [GenericQueryBatcherProvider, _useGenericQueryBatcher] =\n  createDefinedContext<QueryBatch>({\n    name: 'GenericQueryBatcherContext',\n  });\n\nfunction mergeKey(query: BatchQueryDefinition) {\n  return `${query.batchProperty}.${query.path}`;\n}\n\ntype MergeMap = Record<string, BatchQueryDefinition[]>;\n\n// Builds a map that will contain an array of query definitions by mergeable key (using batch property and path)\nfunction queriesToMap(collectedQueries: Record<symbol, BatchQueryDefinition>) {\n  const keys = Reflect.ownKeys(collectedQueries);\n  if (!keys.length) {\n    return false;\n  }\n  const mergeMap: MergeMap = {};\n\n  keys.forEach(key => {\n    const query = collectedQueries[key];\n    mergeMap[mergeKey(query)] = mergeMap[mergeKey(query)] || [];\n    mergeMap[mergeKey(query)].push(query);\n    delete collectedQueries[key];\n  });\n\n  return mergeMap;\n}\n\nfunction requestFunction(api: Client, path: string, queryObject: QueryObject) {\n  return api.requestPromise(path, queryObject);\n}\n\nfunction _handleUnmergeableQuery(queryDefinition: BatchQueryDefinition) {\n  const result = requestFunction(\n    queryDefinition.api,\n    queryDefinition.path,\n    queryDefinition.requestQueryObject\n  );\n  queryDefinition.resolve(result);\n}\n\nfunction _handleUnmergeableQueries(mergeMap: MergeMap) {\n  let queriesSent = 0;\n  Object.keys(mergeMap).forEach(k => {\n    // Using async forEach to ensure calls start in parallel.\n    const mergeList = mergeMap[k];\n\n    if (mergeList.length === 1) {\n      const [queryDefinition] = mergeList;\n      queriesSent++;\n      _handleUnmergeableQuery(queryDefinition);\n    }\n  });\n\n  return queriesSent;\n}\n\nfunction _handleMergeableQueries(mergeMap: MergeMap) {\n  let queriesSent = 0;\n  Object.keys(mergeMap).forEach(async k => {\n    const mergeList = mergeMap[k];\n\n    if (mergeList.length <= 1) {\n      return;\n    }\n\n    const [exampleDefinition] = mergeList;\n    const batchProperty = exampleDefinition.batchProperty;\n    const query = {...exampleDefinition.requestQueryObject.query};\n    const requestQueryObject = {...exampleDefinition.requestQueryObject, query};\n\n    const batchValues: string[] = [];\n\n    mergeList.forEach(q => {\n      const batchFieldValue = q.requestQueryObject.query[batchProperty];\n      if (Array.isArray(batchFieldValue)) {\n        if (batchFieldValue.length > 1) {\n          // Omit multiple requests with multi fields (eg. yAxis) for now and run them as single queries\n          queriesSent++;\n          _handleUnmergeableQuery(q);\n          return;\n        }\n        // Unwrap array value if it is a single value\n        batchValues.push(batchFieldValue[0]);\n      } else {\n        batchValues.push(batchFieldValue);\n      }\n    });\n\n    requestQueryObject.query[batchProperty] = batchValues;\n\n    queriesSent++;\n    const requestPromise = requestFunction(\n      exampleDefinition.api,\n      exampleDefinition.path,\n      requestQueryObject\n    );\n\n    try {\n      const result = await requestPromise;\n      // Unmerge back into individual results\n      mergeList.forEach(queryDefinition => {\n        queryDefinition.resolve(\n          (queryDefinition.transform || identity)(result, queryDefinition)\n        );\n      });\n    } catch (e) {\n      // On error fail all requests relying on this merged query (for now)\n      mergeList.forEach(q => q.reject(e));\n    }\n  });\n  return queriesSent;\n}\n\nfunction handleBatching(\n  organization: Organization,\n  queries: Record<symbol, BatchQueryDefinition>\n) {\n  const mergeMap = queriesToMap(queries);\n\n  if (!mergeMap) {\n    return;\n  }\n\n  let queriesSent = 0;\n  queriesSent += _handleUnmergeableQueries(mergeMap);\n  queriesSent += _handleMergeableQueries(mergeMap);\n\n  const queriesCollected = Object.values(mergeMap).reduce(\n    (acc, mergeList) => acc + mergeList.length,\n    0\n  );\n\n  const queriesSaved = queriesCollected - queriesSent;\n\n  trackAdvancedAnalyticsEvent('performance_views.landingv3.batch_queries', {\n    organization,\n    num_collected: queriesCollected,\n    num_saved: queriesSaved,\n    num_sent: queriesSent,\n  });\n}\n\nexport const GenericQueryBatcher = ({children}: {children: React.ReactNode}) => {\n  const queries = useRef<Record<symbol, BatchQueryDefinition>>({});\n\n  const timeoutRef = useRef<number | undefined>(undefined);\n  const organization = useOrganization();\n\n  const addQuery = (q: BatchQueryDefinition, id: symbol) => {\n    queries.current[id] = q;\n\n    window.clearTimeout(timeoutRef.current);\n    // Put batch function in the next macro task to aggregate all requests in this frame.\n    timeoutRef.current = window.setTimeout(() => {\n      handleBatching(organization, queries.current);\n      timeoutRef.current = undefined;\n    }, 0);\n  };\n\n  // Cleanup timeout after component unmounts.\n  useEffect(\n    () => () => {\n      timeoutRef.current && window.clearTimeout(timeoutRef.current);\n    },\n    []\n  );\n\n  return (\n    <GenericQueryBatcherProvider\n      value={{\n        addQuery,\n      }}\n    >\n      {children}\n    </GenericQueryBatcherProvider>\n  );\n};\n\ntype NodeContext = {\n  batchProperty: string;\n  id: Ref<Symbol>;\n};\n\nconst BatchNodeContext = createContext<NodeContext | undefined>(undefined);\n\nexport type QueryBatching = {\n  batchRequest: (_: Client, path: string, query: QueryObject) => Promise<any>;\n};\n\n// Wraps api request components to collect at most one request per frame / render pass using symbol as a unique id.\n// Transforms these requests into an intermediate promise and adds a query definition that the batch function will use.\nexport function QueryBatchNode(props: {\n  batchProperty: string;\n  children(_: any): React.ReactNode;\n  transform?: Transform;\n}) {\n  const api = useApi();\n  const {batchProperty, children, transform} = props;\n  const id = useRef(Symbol());\n\n  let batchContext: QueryBatch;\n  try {\n    batchContext = _useGenericQueryBatcher();\n  } catch (_) {\n    return <Fragment>{children({})}</Fragment>;\n  }\n\n  function batchRequest(\n    _: Client,\n    path: string,\n    requestQueryObject: QueryObject\n  ): Promise<any> {\n    const queryPromise = new Promise((resolve, reject) => {\n      const queryDefinition: BatchQueryDefinition = {\n        resolve,\n        reject,\n        transform,\n        batchProperty,\n        path,\n        requestQueryObject,\n        api,\n      };\n      batchContext?.addQuery(queryDefinition, id.current);\n    });\n    return queryPromise;\n  }\n\n  const queryBatching: QueryBatching = {\n    batchRequest,\n  };\n\n  return (\n    <BatchNodeContext.Provider\n      value={{\n        id,\n        batchProperty,\n      }}\n    >\n      {children({queryBatching})}\n    </BatchNodeContext.Provider>\n  );\n}\n","import {createContext, useContext, useState} from 'react';\n\nimport Alert from 'sentry/components/alert';\n\nconst pageErrorContext = createContext<{\n  setPageError: (error: string | undefined) => void;\n  pageError?: string;\n}>({\n  pageError: undefined,\n  setPageError: (_: string | undefined) => {},\n});\n\nexport const PageErrorProvider = ({children}: {children: React.ReactNode}) => {\n  const [pageError, setPageError] = useState<string | undefined>();\n  return (\n    <pageErrorContext.Provider\n      value={{\n        pageError,\n        setPageError,\n      }}\n    >\n      {children}\n    </pageErrorContext.Provider>\n  );\n};\n\nexport const PageErrorAlert = () => {\n  const {pageError} = useContext(pageErrorContext);\n  if (!pageError) {\n    return null;\n  }\n\n  return (\n    <Alert type=\"error\" data-test-id=\"page-error-alert\" showIcon>\n      {pageError}\n    </Alert>\n  );\n};\n\nexport const usePageError = () => useContext(pageErrorContext);\n","import {t} from 'sentry/locale';\nimport {SelectValue} from 'sentry/types';\n\nimport {DataFilter} from './types';\n\nexport const FILTER_OPTIONS: SelectValue<DataFilter>[] = [\n  {label: t('Exclude'), value: 'exclude_outliers'},\n  {label: t('Include'), value: 'all'},\n];\n","import {Fragment} from 'react';\nimport omit from 'lodash/omit';\n\nimport GenericDiscoverQuery, {\n  DiscoverQueryProps,\n  GenericChildrenProps,\n} from 'sentry/utils/discover/genericDiscoverQuery';\nimport {DataFilter, HistogramData} from 'sentry/utils/performance/histogram/types';\nimport withApi from 'sentry/utils/withApi';\n\ntype Histograms = Record<string, HistogramData>;\n\ntype HistogramProps = {\n  fields: string[];\n  numBuckets: number;\n  dataFilter?: DataFilter;\n  didReceiveMultiAxis?: (axisCounts: Record<string, number>) => void;\n  max?: number;\n  min?: number;\n  precision?: number;\n};\n\ntype RequestProps = DiscoverQueryProps & HistogramProps;\n\nexport type HistogramQueryChildrenProps = Omit<\n  GenericChildrenProps<HistogramProps>,\n  'tableData'\n> & {\n  histograms: Histograms | null;\n};\n\ntype Props = RequestProps & {\n  children: (props: HistogramQueryChildrenProps) => React.ReactNode;\n};\n\nfunction getHistogramRequestPayload(props: RequestProps) {\n  const {fields, numBuckets, min, max, precision, dataFilter, eventView, location} =\n    props;\n  const baseApiPayload = {\n    field: fields,\n    numBuckets,\n    min,\n    max,\n    precision,\n    dataFilter,\n  };\n  const additionalApiPayload = omit(eventView.getEventsAPIPayload(location), [\n    'field',\n    'sort',\n    'per_page',\n  ]);\n  const apiPayload = Object.assign(baseApiPayload, additionalApiPayload);\n  return apiPayload;\n}\n\nfunction HistogramQuery(props: Props) {\n  const {children, fields, didReceiveMultiAxis} = props;\n\n  function didFetch(data: Histograms) {\n    if (didReceiveMultiAxis) {\n      const counts: Record<string, number> = {};\n      Object.entries(data).forEach(\n        ([key, values]) =>\n          (counts[key] = values.length\n            ? values.reduce((prev, curr) => prev + curr.count, 0)\n            : 0)\n      );\n      didReceiveMultiAxis(counts);\n    }\n  }\n\n  if (fields.length === 0) {\n    return (\n      <Fragment>\n        {children({\n          isLoading: false,\n          error: null,\n          pageLinks: null,\n          histograms: {},\n        })}\n      </Fragment>\n    );\n  }\n\n  return (\n    <GenericDiscoverQuery<Histograms, HistogramProps>\n      route=\"events-histogram\"\n      getRequestPayload={getHistogramRequestPayload}\n      didFetch={didFetch}\n      {...omit(props, 'children')}\n    >\n      {({tableData, ...rest}) => {\n        return props.children({histograms: tableData, ...rest});\n      }}\n    </GenericDiscoverQuery>\n  );\n}\n\nexport default withApi(HistogramQuery);\n","import {Component} from 'react';\nimport {browserHistory} from 'react-router';\nimport {Location} from 'history';\n\nimport {SelectValue} from 'sentry/types';\nimport {decodeScalar} from 'sentry/utils/queryString';\n\nimport {FILTER_OPTIONS} from './constants';\nimport {DataFilter} from './types';\n\ntype HistogramChildrenProps = {\n  activeFilter: SelectValue<DataFilter>;\n  filterOptions: typeof FILTER_OPTIONS;\n  handleFilterChange: (option: string) => void;\n  handleResetView: () => void;\n  isZoomed: boolean;\n};\n\ntype Props = {\n  children: (props: HistogramChildrenProps) => React.ReactNode;\n  location: Location;\n  zoomKeys: string[];\n};\n\nclass Histogram extends Component<Props> {\n  isZoomed() {\n    const {location, zoomKeys} = this.props;\n    return zoomKeys.map(key => location.query[key]).some(value => value !== undefined);\n  }\n\n  handleResetView = () => {\n    const {location, zoomKeys} = this.props;\n\n    browserHistory.push({\n      pathname: location.pathname,\n      query: removeHistogramQueryStrings(location, zoomKeys),\n    });\n  };\n\n  getActiveFilter() {\n    const {location} = this.props;\n\n    const dataFilter = location.query.dataFilter\n      ? decodeScalar(location.query.dataFilter)\n      : FILTER_OPTIONS[0].value;\n    return FILTER_OPTIONS.find(item => item.value === dataFilter) || FILTER_OPTIONS[0];\n  }\n\n  handleFilterChange = (value: string) => {\n    const {location, zoomKeys} = this.props;\n\n    browserHistory.push({\n      pathname: location.pathname,\n      query: {\n        ...removeHistogramQueryStrings(location, zoomKeys),\n        dataFilter: value,\n      },\n    });\n  };\n\n  render() {\n    const childrenProps = {\n      isZoomed: this.isZoomed(),\n      handleResetView: this.handleResetView,\n      activeFilter: this.getActiveFilter(),\n      handleFilterChange: this.handleFilterChange,\n      filterOptions: FILTER_OPTIONS,\n    };\n    return this.props.children(childrenProps);\n  }\n}\n\nexport function removeHistogramQueryStrings(location: Location, zoomKeys: string[]) {\n  const query: Location['query'] = {...location.query, cursor: undefined};\n\n  delete query.dataFilter;\n  // reset all zoom parameters\n  zoomKeys.forEach(key => delete query[key]);\n\n  return query;\n}\n\nexport default Histogram;\n","import {Project} from 'sentry/types';\nimport GenericDiscoverQuery, {\n  DiscoverQueryProps,\n  GenericChildrenProps,\n} from 'sentry/utils/discover/genericDiscoverQuery';\nimport withApi from 'sentry/utils/withApi';\nimport withProjects from 'sentry/utils/withProjects';\nimport {\n  TrendChangeType,\n  TrendFunctionField,\n  TrendsData,\n  TrendsDataEvents,\n  TrendsQuery,\n  TrendView,\n} from 'sentry/views/performance/trends/types';\nimport {\n  generateTrendFunctionAsString,\n  getCurrentTrendFunction,\n  getCurrentTrendParameter,\n} from 'sentry/views/performance/trends/utils';\n\nexport type TrendsRequest = {\n  eventView: Partial<TrendView>;\n  projects: Project[];\n  trendChangeType?: TrendChangeType;\n  trendFunctionField?: TrendFunctionField;\n};\n\ntype RequestProps = DiscoverQueryProps & TrendsRequest;\n\nexport type TrendDiscoveryChildrenProps = Omit<\n  GenericChildrenProps<TrendsData>,\n  'tableData'\n> & {\n  trendsData: TrendsData | null;\n};\n\ntype Props = RequestProps & {\n  children: (props: TrendDiscoveryChildrenProps) => React.ReactNode;\n};\n\ntype EventChildrenProps = Omit<GenericChildrenProps<TrendsDataEvents>, 'tableData'> & {\n  trendsData: TrendsDataEvents | null;\n};\n\ntype EventProps = RequestProps & {\n  children: (props: EventChildrenProps) => React.ReactNode;\n};\n\nexport function getTrendsRequestPayload(props: RequestProps) {\n  const {eventView, projects} = props;\n  const apiPayload: TrendsQuery = eventView?.getEventsAPIPayload(props.location);\n  const trendFunction = getCurrentTrendFunction(props.location, props.trendFunctionField);\n  const trendParameter = getCurrentTrendParameter(\n    props.location,\n    projects,\n    eventView.project\n  );\n  apiPayload.trendFunction = generateTrendFunctionAsString(\n    trendFunction.field,\n    trendParameter.column\n  );\n  apiPayload.trendType = eventView?.trendType || props.trendChangeType;\n  apiPayload.interval = eventView?.interval;\n  apiPayload.middle = eventView?.middle;\n  return apiPayload;\n}\n\nfunction TrendsDiscoverQuery(props: Props) {\n  return (\n    <GenericDiscoverQuery<TrendsData, TrendsRequest>\n      {...props}\n      route=\"events-trends-stats\"\n      getRequestPayload={getTrendsRequestPayload}\n    >\n      {({tableData, ...rest}) => {\n        return props.children({trendsData: tableData, ...rest});\n      }}\n    </GenericDiscoverQuery>\n  );\n}\n\nfunction EventsDiscoverQuery(props: EventProps) {\n  return (\n    <GenericDiscoverQuery<TrendsDataEvents, TrendsRequest>\n      {...props}\n      route=\"events-trends\"\n      getRequestPayload={getTrendsRequestPayload}\n    >\n      {({tableData, ...rest}) => {\n        return props.children({trendsData: tableData, ...rest});\n      }}\n    </GenericDiscoverQuery>\n  );\n}\n\nexport const TrendsEventsDiscoverQuery = withApi(withProjects(EventsDiscoverQuery));\n\nexport default withApi(withProjects(TrendsDiscoverQuery));\n","import {InjectedRouter} from 'react-router';\nimport {useTheme} from '@emotion/react';\nimport max from 'lodash/max';\nimport min from 'lodash/min';\n\nimport {AreaChart, AreaChartProps} from 'sentry/components/charts/areaChart';\nimport ChartZoom from 'sentry/components/charts/chartZoom';\nimport {LineChart} from 'sentry/components/charts/lineChart';\nimport {DateString} from 'sentry/types';\nimport {Series} from 'sentry/types/echarts';\nimport {\n  axisLabelFormatter,\n  getDurationUnit,\n  tooltipFormatter,\n} from 'sentry/utils/discover/charts';\nimport {aggregateOutputType} from 'sentry/utils/discover/fields';\n\ntype Props = {\n  data: Series[];\n  end: DateString;\n  loading: boolean;\n  router: InjectedRouter;\n  start: DateString;\n  statsPeriod: string | null | undefined;\n  utc: boolean;\n  chartColors?: string[];\n  definedAxisTicks?: number;\n  disableMultiAxis?: boolean;\n  disableXAxis?: boolean;\n  grid?: AreaChartProps['grid'];\n  height?: number;\n  isLineChart?: boolean;\n  previousData?: Series[];\n};\n\n// adapted from https://stackoverflow.com/questions/11397239/rounding-up-for-a-graph-maximum\nfunction computeAxisMax(data: Series[]) {\n  // assumes min is 0\n  const valuesDict = data.map(value => value.data.map(point => point.value));\n  const maxValue = max(valuesDict.map(max)) as number;\n\n  if (maxValue <= 1) {\n    return 1;\n  }\n\n  const power = Math.log10(maxValue);\n  const magnitude = min([max([10 ** (power - Math.floor(power)), 0]), 10]) as number;\n\n  let scale: number;\n  if (magnitude <= 2.5) {\n    scale = 0.2;\n  } else if (magnitude <= 5) {\n    scale = 0.5;\n  } else if (magnitude <= 7.5) {\n    scale = 1.0;\n  } else {\n    scale = 2.0;\n  }\n\n  const step = 10 ** Math.floor(power) * scale;\n  return Math.round(Math.ceil(maxValue / step) * step);\n}\n\nfunction Chart({\n  data,\n  previousData,\n  router,\n  statsPeriod,\n  start,\n  end,\n  utc,\n  loading,\n  height,\n  grid,\n  disableMultiAxis,\n  disableXAxis,\n  definedAxisTicks,\n  chartColors,\n  isLineChart,\n}: Props) {\n  const theme = useTheme();\n\n  if (!data || data.length <= 0) {\n    return null;\n  }\n\n  const colors = chartColors ?? theme.charts.getColorPalette(4);\n\n  const durationOnly = data.every(\n    value => aggregateOutputType(value.seriesName) === 'duration'\n  );\n\n  const dataMax = durationOnly ? computeAxisMax(data) : undefined;\n\n  const xAxes = disableMultiAxis\n    ? undefined\n    : [\n        {\n          gridIndex: 0,\n          type: 'time' as const,\n        },\n        {\n          gridIndex: 1,\n          type: 'time' as const,\n        },\n      ];\n\n  const durationUnit = getDurationUnit(data);\n\n  const yAxes = disableMultiAxis\n    ? [\n        {\n          minInterval: durationUnit,\n          splitNumber: definedAxisTicks,\n          axisLabel: {\n            color: theme.chartLabel,\n            formatter(value: number) {\n              return axisLabelFormatter(\n                value,\n                aggregateOutputType(data[0].seriesName),\n                undefined,\n                durationUnit\n              );\n            },\n          },\n        },\n      ]\n    : [\n        {\n          gridIndex: 0,\n          scale: true,\n          minInterval: durationUnit,\n          max: dataMax,\n          axisLabel: {\n            color: theme.chartLabel,\n            formatter(value: number) {\n              return axisLabelFormatter(\n                value,\n                aggregateOutputType(data[0].seriesName),\n                undefined,\n                durationUnit\n              );\n            },\n          },\n        },\n        {\n          gridIndex: 1,\n          scale: true,\n          max: dataMax,\n          minInterval: durationUnit,\n          axisLabel: {\n            color: theme.chartLabel,\n            formatter(value: number) {\n              return axisLabelFormatter(\n                value,\n                aggregateOutputType(data[1].seriesName),\n                undefined,\n                durationUnit\n              );\n            },\n          },\n        },\n      ];\n\n  const axisPointer = disableMultiAxis\n    ? undefined\n    : {\n        // Link the two series x-axis together.\n        link: [{xAxisIndex: [0, 1]}],\n      };\n\n  const areaChartProps = {\n    seriesOptions: {\n      showSymbol: false,\n    },\n    grid: disableMultiAxis\n      ? grid\n      : [\n          {\n            top: '8px',\n            left: '24px',\n            right: '52%',\n            bottom: '16px',\n          },\n          {\n            top: '8px',\n            left: '52%',\n            right: '24px',\n            bottom: '16px',\n          },\n        ],\n    axisPointer,\n    xAxes,\n    yAxes,\n    utc,\n    isGroupedByDate: true,\n    showTimeInTooltip: true,\n    colors: [colors[0], colors[1]] as string[],\n    tooltip: {\n      valueFormatter: (value, seriesName) => {\n        return tooltipFormatter(\n          value,\n          aggregateOutputType(data && data.length ? data[0].seriesName : seriesName)\n        );\n      },\n      nameFormatter(value: string) {\n        return value === 'epm()' ? 'tpm()' : value;\n      },\n    },\n  };\n\n  if (loading) {\n    if (isLineChart) {\n      return <LineChart height={height} series={[]} {...areaChartProps} />;\n    }\n    return <AreaChart height={height} series={[]} {...areaChartProps} />;\n  }\n  const series = data.map((values, i: number) => ({\n    ...values,\n    yAxisIndex: i,\n    xAxisIndex: i,\n  }));\n\n  const xAxis = disableXAxis\n    ? {\n        show: false,\n        axisLabel: {show: true, margin: 0},\n        axisLine: {show: false},\n      }\n    : undefined;\n\n  return (\n    <ChartZoom\n      router={router}\n      period={statsPeriod}\n      start={start}\n      end={end}\n      utc={utc}\n      xAxisIndex={disableMultiAxis ? undefined : [0, 1]}\n    >\n      {zoomRenderProps => {\n        if (isLineChart) {\n          return (\n            <LineChart\n              height={height}\n              {...zoomRenderProps}\n              series={series}\n              previousPeriod={previousData}\n              xAxis={xAxis}\n              yAxis={areaChartProps.yAxes[0]}\n              tooltip={areaChartProps.tooltip}\n            />\n          );\n        }\n\n        return (\n          <AreaChart\n            height={height}\n            {...zoomRenderProps}\n            series={series}\n            previousPeriod={previousData}\n            xAxis={xAxis}\n            {...areaChartProps}\n          />\n        );\n      }}\n    </ChartZoom>\n  );\n}\n\nexport default Chart;\n","import {TableData} from 'sentry/utils/discover/discoverQuery';\nimport {GenericChildrenProps} from 'sentry/utils/discover/genericDiscoverQuery';\n\nimport {\n  QueryDefinitionWithKey,\n  WidgetDataConstraint,\n  WidgetDataResult,\n  WidgetPropUnion,\n} from '../types';\n\nexport function transformDiscoverToSingleValue<T extends WidgetDataConstraint>(\n  _widgetProps: WidgetPropUnion<T>,\n  results: GenericChildrenProps<TableData>,\n  _: QueryDefinitionWithKey<T>\n): WidgetDataResult {\n  const data = results.tableData?.data?.[0]; // The discover query is not aggregated on any field, therefore there is only one element in the table\n\n  return {\n    isLoading: results.isLoading,\n    isErrored: !!results.error,\n    hasData: !!data,\n    ...data,\n  };\n}\n","import {RenderProps} from 'sentry/components/charts/eventsRequest';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport {defined} from 'sentry/utils';\n\nimport {QueryDefinitionWithKey, WidgetDataConstraint, WidgetPropUnion} from '../types';\n\nexport function transformEventsRequestToArea<T extends WidgetDataConstraint>(\n  widgetProps: WidgetPropUnion<T>,\n  results: RenderProps,\n  _: QueryDefinitionWithKey<T>\n) {\n  const {start, end, utc, interval, statsPeriod} = normalizeDateTimeParams(\n    widgetProps.location.query\n  );\n\n  const data = results.timeseriesData ?? [];\n\n  const childData = {\n    ...results,\n    isLoading: results.loading || results.reloading,\n    isErrored: results.errored,\n    hasData: defined(data) && !!data.length && !!data[0].data.length,\n    data,\n    previousData: results.previousTimeseriesData ?? undefined,\n\n    utc: utc === 'true',\n    interval,\n    statsPeriod: statsPeriod ?? undefined,\n    start: start ?? '',\n    end: end ?? '',\n  };\n\n  return childData;\n}\n","import {Fragment, useMemo} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {withRouter} from 'react-router';\nimport styled from '@emotion/styled';\nimport pick from 'lodash/pick';\n\nimport _EventsRequest from 'sentry/components/charts/eventsRequest';\nimport {getInterval, getPreviousSeriesName} from 'sentry/components/charts/utils';\nimport {t} from 'sentry/locale';\nimport {axisLabelFormatter} from 'sentry/utils/discover/charts';\nimport DiscoverQuery from 'sentry/utils/discover/discoverQuery';\nimport {aggregateOutputType} from 'sentry/utils/discover/fields';\nimport {\n  QueryBatchNode,\n  Transform,\n} from 'sentry/utils/performance/contexts/genericQueryBatcher';\nimport {useMEPSettingContext} from 'sentry/utils/performance/contexts/metricsEnhancedSetting';\nimport {usePageError} from 'sentry/utils/performance/contexts/pageError';\nimport withApi from 'sentry/utils/withApi';\nimport _DurationChart from 'sentry/views/performance/charts/chart';\n\nimport {GenericPerformanceWidget} from '../components/performanceWidget';\nimport {transformDiscoverToSingleValue} from '../transforms/transformDiscoverToSingleValue';\nimport {transformEventsRequestToArea} from '../transforms/transformEventsToArea';\nimport {PerformanceWidgetProps, QueryDefinition, WidgetDataResult} from '../types';\nimport {eventsRequestQueryProps, getMEPQueryParams} from '../utils';\n\ntype DataType = {\n  chart: WidgetDataResult & ReturnType<typeof transformEventsRequestToArea>;\n  overall: WidgetDataResult & ReturnType<typeof transformDiscoverToSingleValue>;\n};\n\nexport function SingleFieldAreaWidget(props: PerformanceWidgetProps) {\n  const {ContainerActions} = props;\n  const globalSelection = props.eventView.getPageFilters();\n  const pageError = usePageError();\n  const mepSetting = useMEPSettingContext();\n\n  if (props.fields.length !== 1) {\n    throw new Error(`Single field area can only accept a single field (${props.fields})`);\n  }\n  const field = props.fields[0];\n\n  const chartQuery = useMemo<QueryDefinition<DataType, WidgetDataResult>>(\n    () => ({\n      fields: props.fields[0],\n      component: provided => (\n        <QueryBatchNode batchProperty=\"yAxis\" transform={unmergeIntoIndividualResults}>\n          {({queryBatching}) => (\n            <EventsRequest\n              {...pick(provided, eventsRequestQueryProps)}\n              limit={1}\n              queryBatching={queryBatching}\n              includePrevious\n              includeTransformedData\n              partial\n              currentSeriesNames={[field]}\n              previousSeriesNames={[getPreviousSeriesName(field)]}\n              query={provided.eventView.getQueryWithAdditionalConditions()}\n              interval={getInterval(\n                {\n                  start: provided.start,\n                  end: provided.end,\n                  period: provided.period,\n                },\n                'medium'\n              )}\n              hideError\n              onError={pageError.setPageError}\n              queryExtras={getMEPQueryParams(mepSetting)}\n            />\n          )}\n        </QueryBatchNode>\n      ),\n      transform: transformEventsRequestToArea,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [props.chartSetting, mepSetting.memoizationKey]\n  );\n\n  const overallQuery = useMemo<QueryDefinition<DataType, WidgetDataResult>>(\n    () => ({\n      fields: field,\n      component: provided => {\n        const eventView = provided.eventView.clone();\n\n        eventView.sorts = [];\n        eventView.fields = props.fields.map(fieldName => ({field: fieldName}));\n\n        return (\n          <QueryBatchNode batchProperty=\"field\">\n            {({queryBatching}) => (\n              <DiscoverQuery\n                {...provided}\n                queryBatching={queryBatching}\n                eventView={eventView}\n                location={props.location}\n                queryExtras={getMEPQueryParams(mepSetting)}\n                useEvents\n              />\n            )}\n          </QueryBatchNode>\n        );\n      },\n      transform: transformDiscoverToSingleValue,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [props.chartSetting, mepSetting.memoizationKey]\n  );\n\n  const Queries = {\n    chart: chartQuery,\n    overall: overallQuery,\n  };\n\n  return (\n    <GenericPerformanceWidget<DataType>\n      {...props}\n      Subtitle={() => (\n        <Subtitle>\n          {globalSelection.datetime.period\n            ? t('Compared to last %s ', globalSelection.datetime.period)\n            : t('Compared to the last period')}\n        </Subtitle>\n      )}\n      HeaderActions={provided => (\n        <Fragment>\n          {provided.widgetData?.overall?.hasData ? (\n            <Fragment>\n              {props.fields.map(fieldName => {\n                const value = provided.widgetData?.overall?.[fieldName];\n\n                if (!value) {\n                  return null;\n                }\n\n                return (\n                  <HighlightNumber key={fieldName} color={props.chartColor}>\n                    {axisLabelFormatter(value, aggregateOutputType(fieldName))}\n                  </HighlightNumber>\n                );\n              })}\n            </Fragment>\n          ) : null}\n          <ContainerActions {...provided.widgetData.chart} />\n        </Fragment>\n      )}\n      Queries={Queries}\n      Visualizations={[\n        {\n          component: provided => (\n            <DurationChart\n              {...provided.widgetData.chart}\n              {...provided}\n              disableMultiAxis\n              disableXAxis\n              definedAxisTicks={4}\n              chartColors={props.chartColor ? [props.chartColor] : undefined}\n            />\n          ),\n          height: props.chartHeight,\n        },\n      ]}\n    />\n  );\n}\n\nconst EventsRequest = withApi(_EventsRequest);\nexport const DurationChart = withRouter(_DurationChart);\nexport const Subtitle = styled('span')`\n  color: ${p => p.theme.gray300};\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n\nexport const HighlightNumber = styled('div')<{color?: string}>`\n  color: ${p => p.color};\n  font-size: ${p => p.theme.fontSizeExtraLarge};\n`;\n\nconst unmergeIntoIndividualResults: Transform = (response, queryDefinition) => {\n  const propertyName = Array.isArray(\n    queryDefinition.requestQueryObject.query[queryDefinition.batchProperty]\n  )\n    ? queryDefinition.requestQueryObject.query[queryDefinition.batchProperty][0]\n    : queryDefinition.requestQueryObject.query[queryDefinition.batchProperty];\n\n  return response[propertyName];\n};\n","import {browserHistory} from 'react-router';\nimport {Location} from 'history';\n\nimport OptionSelector from 'sentry/components/charts/optionSelector';\nimport {\n  ChartContainer,\n  ChartControls,\n  InlineContainer,\n  SectionHeading,\n  SectionValue,\n} from 'sentry/components/charts/styles';\nimport {Panel} from 'sentry/components/panels';\nimport Placeholder from 'sentry/components/placeholder';\nimport {t} from 'sentry/locale';\nimport {Organization, SelectValue} from 'sentry/types';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {removeHistogramQueryStrings} from 'sentry/utils/performance/histogram';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport {TransactionsListOption} from 'sentry/views/releases/detail/overview';\n\nimport {TrendColumnField, TrendFunctionField} from '../../trends/types';\nimport {TRENDS_FUNCTIONS, TRENDS_PARAMETERS} from '../../trends/utils';\nimport {SpanOperationBreakdownFilter} from '../filter';\n\nimport LatencyChartControls from './latencyChart/chartControls';\nimport {ZOOM_END, ZOOM_START} from './latencyChart/utils';\nimport DurationChart from './durationChart';\nimport DurationPercentileChart from './durationPercentileChart';\nimport LatencyChart from './latencyChart';\nimport TrendChart from './trendChart';\nimport UserMiseryChart from './userMiseryChart';\nimport VitalsChart from './vitalsChart';\n\nexport enum DisplayModes {\n  DURATION_PERCENTILE = 'durationpercentile',\n  DURATION = 'duration',\n  LATENCY = 'latency',\n  TREND = 'trend',\n  VITALS = 'vitals',\n  USER_MISERY = 'usermisery',\n}\n\nfunction generateDisplayOptions(\n  currentFilter: SpanOperationBreakdownFilter\n): SelectValue<string>[] {\n  if (currentFilter === SpanOperationBreakdownFilter.None) {\n    return [\n      {value: DisplayModes.DURATION, label: t('Duration Breakdown')},\n      {value: DisplayModes.DURATION_PERCENTILE, label: t('Duration Percentiles')},\n      {value: DisplayModes.LATENCY, label: t('Duration Distribution')},\n      {value: DisplayModes.TREND, label: t('Trends')},\n      {value: DisplayModes.VITALS, label: t('Web Vitals')},\n      {value: DisplayModes.USER_MISERY, label: t('User Misery')},\n    ];\n  }\n\n  // A span operation name breakdown has been chosen.\n\n  return [\n    {value: DisplayModes.DURATION, label: t('Span Operation Breakdown')},\n    {value: DisplayModes.DURATION_PERCENTILE, label: t('Span Operation Percentiles')},\n    {value: DisplayModes.LATENCY, label: t('Span Operation Distribution')},\n    {value: DisplayModes.TREND, label: t('Trends')},\n    {value: DisplayModes.VITALS, label: t('Web Vitals')},\n  ];\n}\n\nconst TREND_FUNCTIONS_OPTIONS: SelectValue<string>[] = TRENDS_FUNCTIONS.map(\n  ({field, label}) => ({\n    value: field,\n    label,\n  })\n);\n\ntype Props = {\n  currentFilter: SpanOperationBreakdownFilter;\n  eventView: EventView;\n  location: Location;\n  organization: Organization;\n  totalValues: number | null;\n  withoutZerofill: boolean;\n};\n\nfunction TransactionSummaryCharts({\n  totalValues,\n  eventView,\n  organization,\n  location,\n  currentFilter,\n  withoutZerofill,\n}: Props) {\n  function handleDisplayChange(value: string) {\n    const display = decodeScalar(location.query.display, DisplayModes.DURATION);\n    trackAdvancedAnalyticsEvent(\n      'performance_views.transaction_summary.change_chart_display',\n      {\n        organization,\n        from_chart: display,\n        to_chart: value,\n      }\n    );\n\n    browserHistory.push({\n      pathname: location.pathname,\n      query: {\n        ...removeHistogramQueryStrings(location, [ZOOM_START, ZOOM_END]),\n        display: value,\n      },\n    });\n  }\n\n  function handleTrendDisplayChange(value: string) {\n    browserHistory.push({\n      pathname: location.pathname,\n      query: {...location.query, trendFunction: value},\n    });\n  }\n\n  function handleTrendColumnChange(value: string) {\n    browserHistory.push({\n      pathname: location.pathname,\n      query: {...location.query, trendColumn: value},\n    });\n  }\n\n  const TREND_PARAMETERS_OPTIONS: SelectValue<string>[] = TRENDS_PARAMETERS.map(\n    ({column, label}) => ({\n      value: column,\n      label,\n    })\n  );\n\n  let display = decodeScalar(location.query.display, DisplayModes.DURATION);\n  let trendFunction = decodeScalar(\n    location.query.trendFunction,\n    TREND_FUNCTIONS_OPTIONS[0].value\n  ) as TrendFunctionField;\n  let trendColumn = decodeScalar(\n    location.query.trendColumn,\n    TREND_PARAMETERS_OPTIONS[0].value\n  );\n\n  if (!Object.values(DisplayModes).includes(display as DisplayModes)) {\n    display = DisplayModes.DURATION;\n  }\n  if (!Object.values(TrendFunctionField).includes(trendFunction)) {\n    trendFunction = TrendFunctionField.P50;\n  }\n  if (!Object.values(TrendColumnField).includes(trendColumn as TrendColumnField)) {\n    trendColumn = TrendColumnField.DURATION;\n  }\n\n  const releaseQueryExtra = {\n    yAxis: display === DisplayModes.VITALS ? 'countVital' : 'countDuration',\n    showTransactions:\n      display === DisplayModes.VITALS\n        ? TransactionsListOption.SLOW_LCP\n        : display === DisplayModes.DURATION\n        ? TransactionsListOption.SLOW\n        : undefined,\n  };\n\n  return (\n    <Panel>\n      <ChartContainer>\n        {display === DisplayModes.LATENCY && (\n          <LatencyChart\n            organization={organization}\n            location={location}\n            query={eventView.query}\n            project={eventView.project}\n            environment={eventView.environment}\n            start={eventView.start}\n            end={eventView.end}\n            statsPeriod={eventView.statsPeriod}\n            currentFilter={currentFilter}\n          />\n        )}\n        {display === DisplayModes.DURATION && (\n          <DurationChart\n            organization={organization}\n            query={eventView.query}\n            queryExtra={releaseQueryExtra}\n            project={eventView.project}\n            environment={eventView.environment}\n            start={eventView.start}\n            end={eventView.end}\n            statsPeriod={eventView.statsPeriod}\n            currentFilter={currentFilter}\n            withoutZerofill={withoutZerofill}\n          />\n        )}\n        {display === DisplayModes.DURATION_PERCENTILE && (\n          <DurationPercentileChart\n            organization={organization}\n            location={location}\n            query={eventView.query}\n            project={eventView.project}\n            environment={eventView.environment}\n            start={eventView.start}\n            end={eventView.end}\n            statsPeriod={eventView.statsPeriod}\n            currentFilter={currentFilter}\n          />\n        )}\n        {display === DisplayModes.TREND && (\n          <TrendChart\n            trendFunction={trendFunction}\n            trendParameter={trendColumn}\n            organization={organization}\n            query={eventView.query}\n            queryExtra={releaseQueryExtra}\n            project={eventView.project}\n            environment={eventView.environment}\n            start={eventView.start}\n            end={eventView.end}\n            statsPeriod={eventView.statsPeriod}\n            withoutZerofill={withoutZerofill}\n          />\n        )}\n        {display === DisplayModes.VITALS && (\n          <VitalsChart\n            organization={organization}\n            query={eventView.query}\n            queryExtra={releaseQueryExtra}\n            project={eventView.project}\n            environment={eventView.environment}\n            start={eventView.start}\n            end={eventView.end}\n            statsPeriod={eventView.statsPeriod}\n            withoutZerofill={withoutZerofill}\n          />\n        )}\n        {display === DisplayModes.USER_MISERY && (\n          <UserMiseryChart\n            organization={organization}\n            query={eventView.query}\n            queryExtra={releaseQueryExtra}\n            project={eventView.project}\n            environment={eventView.environment}\n            start={eventView.start}\n            end={eventView.end}\n            statsPeriod={eventView.statsPeriod}\n            withoutZerofill={withoutZerofill}\n          />\n        )}\n      </ChartContainer>\n\n      <ChartControls>\n        <InlineContainer>\n          <SectionHeading key=\"total-heading\">{t('Total Transactions')}</SectionHeading>\n          <SectionValue key=\"total-value\">\n            {totalValues === null ? (\n              <Placeholder height=\"24px\" />\n            ) : (\n              totalValues.toLocaleString()\n            )}\n          </SectionValue>\n        </InlineContainer>\n        <InlineContainer>\n          {display === DisplayModes.TREND && (\n            <OptionSelector\n              title={t('Percentile')}\n              selected={trendFunction}\n              options={TREND_FUNCTIONS_OPTIONS}\n              onChange={handleTrendDisplayChange}\n            />\n          )}\n          {display === DisplayModes.TREND && (\n            <OptionSelector\n              title={t('Parameter')}\n              selected={trendColumn}\n              options={TREND_PARAMETERS_OPTIONS}\n              onChange={handleTrendColumnChange}\n            />\n          )}\n          {display === DisplayModes.LATENCY && (\n            <LatencyChartControls location={location} />\n          )}\n          <OptionSelector\n            title={t('Display')}\n            selected={display}\n            options={generateDisplayOptions(currentFilter)}\n            onChange={handleDisplayChange}\n          />\n        </InlineContainer>\n      </ChartControls>\n    </Panel>\n  );\n}\n\nexport default TransactionSummaryCharts;\n","import {InjectedRouter} from 'react-router';\nimport {Query} from 'history';\n\nimport {AreaChart} from 'sentry/components/charts/areaChart';\nimport ChartZoom from 'sentry/components/charts/chartZoom';\nimport ErrorPanel from 'sentry/components/charts/errorPanel';\nimport {LineChartProps} from 'sentry/components/charts/lineChart';\nimport ReleaseSeries from 'sentry/components/charts/releaseSeries';\nimport TransitionChart from 'sentry/components/charts/transitionChart';\nimport TransparentLoadingMask from 'sentry/components/charts/transparentLoadingMask';\nimport Placeholder from 'sentry/components/placeholder';\nimport {IconWarning} from 'sentry/icons';\nimport {Series} from 'sentry/types/echarts';\nimport {\n  axisLabelFormatter,\n  getDurationUnit,\n  tooltipFormatter,\n} from 'sentry/utils/discover/charts';\nimport {aggregateOutputType} from 'sentry/utils/discover/fields';\nimport getDynamicText from 'sentry/utils/getDynamicText';\nimport {Theme} from 'sentry/utils/theme';\n\ntype Props = {\n  errored: boolean;\n  loading: boolean;\n  queryExtra: Query;\n  reloading: boolean;\n  router: InjectedRouter;\n  theme: Theme;\n  series?: Series[];\n  timeFrame?: {\n    end: number;\n    start: number;\n  };\n} & Omit<React.ComponentProps<typeof ReleaseSeries>, 'children' | 'queryExtra'> &\n  Pick<LineChartProps, 'onLegendSelectChanged' | 'legend'>;\n\nfunction Content({\n  errored,\n  theme,\n  series: data,\n  timeFrame,\n  start,\n  end,\n  period,\n  projects,\n  environments,\n  loading,\n  reloading,\n  legend,\n  utc,\n  queryExtra,\n  router,\n  onLegendSelectChanged,\n}: Props) {\n  if (errored) {\n    return (\n      <ErrorPanel>\n        <IconWarning color=\"gray500\" size=\"lg\" />\n      </ErrorPanel>\n    );\n  }\n\n  const colors = (data && theme.charts.getColorPalette(data.length - 2)) || [];\n\n  // Create a list of series based on the order of the fields,\n  // We need to flip it at the end to ensure the series stack right.\n  const series = data\n    ? data\n        .map((values, i: number) => {\n          return {\n            ...values,\n            color: colors[i],\n            lineStyle: {\n              opacity: 0,\n            },\n          };\n        })\n        .reverse()\n    : [];\n\n  const durationUnit = getDurationUnit(series, legend);\n\n  const chartOptions = {\n    grid: {\n      left: '10px',\n      right: '10px',\n      top: '40px',\n      bottom: '0px',\n    },\n    seriesOptions: {\n      showSymbol: false,\n    },\n    tooltip: {\n      trigger: 'axis' as const,\n      valueFormatter: (value, label) =>\n        tooltipFormatter(value, aggregateOutputType(label)),\n    },\n    xAxis: timeFrame\n      ? {\n          min: timeFrame.start,\n          max: timeFrame.end,\n        }\n      : undefined,\n    yAxis: {\n      minInterval: durationUnit,\n      axisLabel: {\n        color: theme.chartLabel,\n        formatter: (value: number) => {\n          return axisLabelFormatter(value, 'duration', undefined, durationUnit);\n        },\n      },\n    },\n  };\n\n  return (\n    <ChartZoom router={router} period={period} start={start} end={end} utc={utc}>\n      {zoomRenderProps => (\n        <ReleaseSeries\n          start={start}\n          end={end}\n          queryExtra={queryExtra}\n          period={period}\n          utc={utc}\n          projects={projects}\n          environments={environments}\n        >\n          {({releaseSeries}) => {\n            return (\n              <TransitionChart loading={loading} reloading={reloading}>\n                <TransparentLoadingMask visible={reloading} />\n                {getDynamicText({\n                  value: (\n                    <AreaChart\n                      {...zoomRenderProps}\n                      {...chartOptions}\n                      legend={legend}\n                      onLegendSelectChanged={onLegendSelectChanged}\n                      series={[...series, ...releaseSeries]}\n                    />\n                  ),\n                  fixed: <Placeholder height=\"200px\" testId=\"skeleton-ui\" />,\n                })}\n              </TransitionChart>\n            );\n          }}\n        </ReleaseSeries>\n      )}\n    </ChartZoom>\n  );\n}\n\nexport default Content;\n","import {Fragment} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {browserHistory, withRouter, WithRouterProps} from 'react-router';\nimport {useTheme} from '@emotion/react';\nimport {Location, Query} from 'history';\n\nimport EventsRequest from 'sentry/components/charts/eventsRequest';\nimport {HeaderTitleLegend} from 'sentry/components/charts/styles';\nimport {getInterval, getSeriesSelection} from 'sentry/components/charts/utils';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {t, tct} from 'sentry/locale';\nimport {OrganizationSummary} from 'sentry/types';\nimport {getUtcToLocalDateObject} from 'sentry/utils/dates';\nimport useApi from 'sentry/utils/useApi';\n\nimport {ViewProps} from '../../../types';\nimport {\n  SPAN_OPERATION_BREAKDOWN_FILTER_TO_FIELD,\n  SpanOperationBreakdownFilter,\n} from '../../filter';\n\nimport Content from './content';\n\ntype Props = WithRouterProps &\n  ViewProps & {\n    currentFilter: SpanOperationBreakdownFilter;\n    location: Location;\n    organization: OrganizationSummary;\n    queryExtra: Query;\n    withoutZerofill: boolean;\n  };\n\nenum DurationFunctionField {\n  P50 = 'p50',\n  P75 = 'p75',\n  P95 = 'p95',\n  P99 = 'p99',\n  p100 = 'p100',\n}\n\n/**\n * Fetch and render a stacked area chart that shows duration percentiles over\n * the past 7 days\n */\nfunction DurationChart({\n  project,\n  environment,\n  location,\n  organization,\n  query,\n  statsPeriod,\n  router,\n  queryExtra,\n  currentFilter,\n  withoutZerofill,\n  start: propsStart,\n  end: propsEnd,\n}: Props) {\n  const api = useApi();\n  const theme = useTheme();\n\n  function handleLegendSelectChanged(legendChange: {\n    name: string;\n    selected: Record<string, boolean>;\n    type: string;\n  }) {\n    const {selected} = legendChange;\n    const unselected = Object.keys(selected).filter(key => !selected[key]);\n\n    const to = {\n      ...location,\n      query: {\n        ...location.query,\n        unselectedSeries: unselected,\n      },\n    };\n\n    browserHistory.push(to);\n  }\n\n  const start = propsStart ? getUtcToLocalDateObject(propsStart) : null;\n  const end = propsEnd ? getUtcToLocalDateObject(propsEnd) : null;\n  const utc = normalizeDateTimeParams(location.query).utc === 'true';\n  const period = statsPeriod;\n\n  const legend = {right: 10, top: 5, selected: getSeriesSelection(location)};\n  const datetimeSelection = {start, end, period};\n\n  const contentCommonProps = {\n    theme,\n    router,\n    start,\n    end,\n    utc,\n    legend,\n    queryExtra,\n    period,\n    projects: project,\n    environments: environment,\n    onLegendSelectChanged: handleLegendSelectChanged,\n  };\n\n  const requestCommonProps = {\n    api,\n    start,\n    end,\n    project,\n    environment,\n    query,\n    period,\n    interval: getInterval(datetimeSelection, 'high'),\n  };\n\n  const parameter = SPAN_OPERATION_BREAKDOWN_FILTER_TO_FIELD[currentFilter] ?? '';\n\n  const header = (\n    <HeaderTitleLegend>\n      {currentFilter === SpanOperationBreakdownFilter.None\n        ? t('Duration Breakdown')\n        : tct('Span Operation Breakdown - [operationName]', {\n            operationName: currentFilter,\n          })}\n      <QuestionTooltip\n        size=\"sm\"\n        position=\"top\"\n        title={t(\n          `Duration Breakdown reflects transaction durations by percentile over time.`\n        )}\n      />\n    </HeaderTitleLegend>\n  );\n\n  const yAxis = Object.values(DurationFunctionField).map(v => `${v}(${parameter})`);\n\n  return (\n    <Fragment>\n      {header}\n      <EventsRequest\n        {...requestCommonProps}\n        organization={organization}\n        showLoading={false}\n        includePrevious={false}\n        yAxis={yAxis}\n        partial\n        withoutZerofill={withoutZerofill}\n        referrer=\"api.performance.transaction-summary.duration-chart\"\n      >\n        {({results, errored, loading, reloading, timeframe: timeFrame}) => (\n          <Content\n            series={results}\n            errored={errored}\n            loading={loading}\n            reloading={reloading}\n            timeFrame={timeFrame}\n            {...contentCommonProps}\n          />\n        )}\n      </EventsRequest>\n    </Fragment>\n  );\n}\n\nexport default withRouter(DurationChart);\n","import {useTheme} from '@emotion/react';\n\nimport {AreaChart} from 'sentry/components/charts/areaChart';\nimport {axisLabelFormatter, getDurationUnit} from 'sentry/utils/discover/charts';\nimport {getDuration} from 'sentry/utils/formatters';\n\ntype Props = React.ComponentPropsWithoutRef<typeof AreaChart>;\n\nfunction Chart(props: Props) {\n  const theme = useTheme();\n\n  const durationUnit = getDurationUnit(props.series);\n\n  return (\n    <AreaChart\n      grid={{left: '10px', right: '10px', top: '40px', bottom: '0px'}}\n      xAxis={{\n        type: 'category' as const,\n        truncate: true,\n        axisLabel: {\n          showMinLabel: true,\n          showMaxLabel: true,\n        },\n        axisTick: {\n          interval: 0,\n          alignWithLabel: true,\n        },\n      }}\n      yAxis={{\n        minInterval: durationUnit,\n        type: 'value' as const,\n        axisLabel: {\n          color: theme.chartLabel,\n          // Use p50() to force time formatting.\n          formatter: (value: number) =>\n            axisLabelFormatter(value, 'duration', undefined, durationUnit),\n        },\n      }}\n      tooltip={{valueFormatter: value => getDuration(value / 1000, 2)}}\n      {...props}\n    />\n  );\n}\n\nexport default Chart;\n","import {Location} from 'history';\nimport isEqual from 'lodash/isEqual';\nimport pick from 'lodash/pick';\n\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport ErrorPanel from 'sentry/components/charts/errorPanel';\nimport LoadingPanel from 'sentry/components/charts/loadingPanel';\nimport {IconWarning} from 'sentry/icons';\nimport {OrganizationSummary} from 'sentry/types';\nimport {defined} from 'sentry/utils';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {Theme} from 'sentry/utils/theme';\n\nimport {ViewProps} from '../../../types';\nimport {QUERY_KEYS} from '../../../utils';\nimport {filterToColor, SpanOperationBreakdownFilter} from '../../filter';\n\nimport Chart from './chart';\nimport {transformData} from './utils';\n\ntype ApiResult = Record<string, number>;\n\ntype Props = AsyncComponent['props'] &\n  ViewProps & {\n    currentFilter: SpanOperationBreakdownFilter;\n    fields: string[];\n    location: Location;\n    organization: OrganizationSummary;\n  };\n\ntype State = AsyncComponent['state'] & {\n  chartData: {data: ApiResult[]} | null;\n};\n\n/**\n * Fetch and render a bar chart that shows event volume\n * for each duration bucket. We always render 15 buckets of\n * equal widths based on the endpoints min + max durations.\n *\n * This graph visualizes how many transactions were recorded\n * at each duration bucket, showing the modality of the transaction.\n */\nclass Content extends AsyncComponent<Props, State> {\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {\n      organization,\n      query,\n      start,\n      end,\n      statsPeriod,\n      environment,\n      project,\n      fields,\n      location,\n    } = this.props;\n\n    const eventView = EventView.fromSavedQuery({\n      id: '',\n      name: '',\n      version: 2,\n      fields,\n      orderby: '',\n      projects: project,\n      range: statsPeriod,\n      query,\n      environment,\n      start,\n      end,\n    });\n    const apiPayload = eventView.getEventsAPIPayload(location);\n    apiPayload.referrer = 'api.performance.durationpercentilechart';\n    const endpoint = organization.features.includes(\n      'performance-frontend-use-events-endpoint'\n    )\n      ? `/organizations/${organization.slug}/events/`\n      : `/organizations/${organization.slug}/eventsv2/`;\n\n    return [['chartData', endpoint, {query: apiPayload}]];\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.shouldRefetchData(prevProps)) {\n      this.fetchData();\n    }\n  }\n\n  shouldRefetchData(prevProps: Props) {\n    if (this.state.loading) {\n      return false;\n    }\n    return !isEqual(pick(prevProps, QUERY_KEYS), pick(this.props, QUERY_KEYS));\n  }\n\n  renderLoading() {\n    return <LoadingPanel data-test-id=\"histogram-loading\" />;\n  }\n\n  renderError() {\n    // Don't call super as we don't really need issues for this.\n    return (\n      <ErrorPanel>\n        <IconWarning color=\"gray300\" size=\"lg\" />\n      </ErrorPanel>\n    );\n  }\n\n  renderBody() {\n    const {currentFilter, organization} = this.props;\n    const {chartData} = this.state;\n\n    if (!defined(chartData)) {\n      return null;\n    }\n\n    const colors = (theme: Theme) =>\n      currentFilter === SpanOperationBreakdownFilter.None\n        ? theme.charts.getColorPalette(1)\n        : [filterToColor(currentFilter)];\n\n    return (\n      <Chart\n        series={transformData(\n          chartData.data,\n          !organization.features.includes('performance-frontend-use-events-endpoint')\n        )}\n        colors={colors}\n      />\n    );\n  }\n}\n\nexport default Content;\n","import {Fragment} from 'react';\nimport {Location} from 'history';\n\nimport {HeaderTitleLegend} from 'sentry/components/charts/styles';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {t, tct} from 'sentry/locale';\nimport {OrganizationSummary} from 'sentry/types';\n\nimport {ViewProps} from '../../../types';\nimport {filterToField, SpanOperationBreakdownFilter} from '../../filter';\n\nimport Content from './content';\n\ntype Props = ViewProps & {\n  currentFilter: SpanOperationBreakdownFilter;\n  location: Location;\n  organization: OrganizationSummary;\n};\n\nfunction DurationPercentileChart({currentFilter, ...props}: Props) {\n  const header = (\n    <HeaderTitleLegend>\n      {currentFilter === SpanOperationBreakdownFilter.None\n        ? t('Duration Percentiles')\n        : tct('Span Operation Percentiles - [operationName]', {\n            operationName: currentFilter,\n          })}\n      <QuestionTooltip\n        position=\"top\"\n        size=\"sm\"\n        title={t(\n          `Compare the duration at each percentile. Compare with Latency Histogram to see transaction volume at duration intervals.`\n        )}\n      />\n    </HeaderTitleLegend>\n  );\n\n  function generateFields() {\n    if (currentFilter === SpanOperationBreakdownFilter.None) {\n      return [\n        'percentile(transaction.duration, 0.10)',\n        'percentile(transaction.duration, 0.25)',\n        'percentile(transaction.duration, 0.50)',\n        'percentile(transaction.duration, 0.75)',\n        'percentile(transaction.duration, 0.90)',\n        'percentile(transaction.duration, 0.95)',\n        'percentile(transaction.duration, 0.99)',\n        'percentile(transaction.duration, 0.995)',\n        'percentile(transaction.duration, 0.999)',\n        'p100()',\n      ];\n    }\n\n    const field = filterToField(currentFilter);\n\n    return [\n      `percentile(${field}, 0.10)`,\n      `percentile(${field}, 0.25)`,\n      `percentile(${field}, 0.50)`,\n      `percentile(${field}, 0.75)`,\n      `percentile(${field}, 0.90)`,\n      `percentile(${field}, 0.95)`,\n      `percentile(${field}, 0.99)`,\n      `percentile(${field}, 0.995)`,\n      `percentile(${field}, 0.999)`,\n      `p100(${field})`,\n    ];\n  }\n\n  const fields = generateFields();\n\n  return (\n    <Fragment>\n      {header}\n      <Content {...props} currentFilter={currentFilter} fields={fields} />\n    </Fragment>\n  );\n}\n\nexport default DurationPercentileChart;\n","import {t} from 'sentry/locale';\n\nconst AGGREGATE_ALIAS_VALUE_EXTRACT_PATTERN = /(\\d+)$/;\nconst FUNCTION_FIELD_VALUE_EXTRACT_PATTERN = /(\\d+)\\)$/;\n\n/**\n * Convert a discover response into a barchart compatible series\n */\nexport function transformData(\n  data: Record<string, number>[],\n  useAggregateAlias: boolean = true\n) {\n  const extractedData = Object.keys(data[0])\n    .map((key: string) => {\n      const nameMatch = (\n        useAggregateAlias\n          ? AGGREGATE_ALIAS_VALUE_EXTRACT_PATTERN\n          : FUNCTION_FIELD_VALUE_EXTRACT_PATTERN\n      ).exec(key);\n      if (!nameMatch) {\n        return [-1, -1];\n      }\n      let nameValue = Number(nameMatch[1]);\n      if (nameValue > 100) {\n        nameValue /= 10;\n      }\n      return [nameValue, data[0][key]];\n    })\n    .filter(i => i[0] > 0);\n\n  extractedData.sort((a, b) => {\n    if (a[0] > b[0]) {\n      return 1;\n    }\n    if (a[0] < b[0]) {\n      return -1;\n    }\n    return 0;\n  });\n\n  return [\n    {\n      seriesName: t('Duration'),\n      data: extractedData.map(i => ({value: i[1], name: `${i[0].toLocaleString()}%`})),\n    },\n  ];\n}\n","import {Location} from 'history';\n\nimport OptionSelector from 'sentry/components/charts/optionSelector';\nimport {t} from 'sentry/locale';\nimport Histogram from 'sentry/utils/performance/histogram';\n\nimport {ZOOM_END, ZOOM_START} from './utils';\n\ntype Props = {\n  location: Location;\n};\n\nfunction ChartControls({location}: Props) {\n  return (\n    <Histogram location={location} zoomKeys={[ZOOM_START, ZOOM_END]}>\n      {({filterOptions, handleFilterChange, activeFilter}) => {\n        return (\n          <OptionSelector\n            title={t('Outliers')}\n            selected={activeFilter.value}\n            options={filterOptions}\n            onChange={handleFilterChange}\n          />\n        );\n      }}\n    </Histogram>\n  );\n}\n\nexport default ChartControls;\n","import {useState} from 'react';\nimport {Location} from 'history';\n\nimport {BarChart} from 'sentry/components/charts/barChart';\nimport BarChartZoom from 'sentry/components/charts/barChartZoom';\nimport ErrorPanel from 'sentry/components/charts/errorPanel';\nimport LoadingPanel from 'sentry/components/charts/loadingPanel';\nimport {IconWarning} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {OrganizationSummary} from 'sentry/types';\nimport EventView from 'sentry/utils/discover/eventView';\nimport Histogram from 'sentry/utils/performance/histogram';\nimport HistogramQuery from 'sentry/utils/performance/histogram/histogramQuery';\nimport {HistogramData} from 'sentry/utils/performance/histogram/types';\nimport {\n  computeBuckets,\n  formatHistogramData,\n} from 'sentry/utils/performance/histogram/utils';\nimport theme from 'sentry/utils/theme';\n\nimport {ViewProps} from '../../../types';\nimport {filterToColor, filterToField, SpanOperationBreakdownFilter} from '../../filter';\n\nimport {decodeHistogramZoom, ZOOM_END, ZOOM_START} from './utils';\n\nconst NUM_BUCKETS = 50;\n\ntype Props = ViewProps & {\n  currentFilter: SpanOperationBreakdownFilter;\n  location: Location;\n  organization: OrganizationSummary;\n};\n\n/**\n * Fetch and render a bar chart that shows event volume\n * for each duration bucket. We always render 50 buckets of\n * equal widths based on the endpoints min + max durations.\n *\n * This graph visualizes how many transactions were recorded\n * at each duration bucket, showing the modality of the transaction.\n */\nfunction Content({\n  organization,\n  query,\n  start,\n  end,\n  statsPeriod,\n  environment,\n  project,\n  location,\n  currentFilter,\n}: Props) {\n  const [zoomError, setZoomError] = useState(false);\n\n  function handleMouseOver() {\n    // Hide the zoom error tooltip on the next hover.\n    if (zoomError) {\n      setZoomError(false);\n    }\n  }\n\n  function renderChart(data: HistogramData) {\n    const xAxis = {\n      type: 'category' as const,\n      truncate: true,\n      axisTick: {\n        interval: 0,\n        alignWithLabel: true,\n      },\n    };\n\n    const colors =\n      currentFilter === SpanOperationBreakdownFilter.None\n        ? [...theme.charts.getColorPalette(1)]\n        : [filterToColor(currentFilter)];\n\n    // Use a custom tooltip formatter as we need to replace\n    // the tooltip content entirely when zooming is no longer available.\n    const tooltip = {\n      formatter(series) {\n        const seriesData = Array.isArray(series) ? series : [series];\n        let contents: string[] = [];\n        if (!zoomError) {\n          // Replicate the necessary logic from sentry/components/charts/components/tooltip.jsx\n          contents = seriesData.map(item => {\n            const label = item.seriesName;\n            const value = item.value[1].toLocaleString();\n            return [\n              '<div class=\"tooltip-series\">',\n              `<div><span class=\"tooltip-label\">${item.marker} <strong>${label}</strong></span> ${value}</div>`,\n              '</div>',\n            ].join('');\n          });\n          const seriesLabel = seriesData[0].value[0];\n          contents.push(`<div class=\"tooltip-date\">${seriesLabel}</div>`);\n        } else {\n          contents = [\n            '<div class=\"tooltip-series tooltip-series-solo\">',\n            t('Target zoom region too small'),\n            '</div>',\n          ];\n        }\n        contents.push('<div class=\"tooltip-arrow\"></div>');\n        return contents.join('');\n      },\n    };\n\n    const series = {\n      seriesName: t('Count'),\n      data: formatHistogramData(data, {type: 'duration'}),\n    };\n\n    return (\n      <BarChartZoom\n        minZoomWidth={NUM_BUCKETS}\n        location={location}\n        paramStart={ZOOM_START}\n        paramEnd={ZOOM_END}\n        xAxisIndex={[0]}\n        buckets={computeBuckets(data)}\n        onDataZoomCancelled={() => setZoomError(true)}\n      >\n        {zoomRenderProps => (\n          <BarChart\n            grid={{left: '10px', right: '10px', top: '40px', bottom: '0px'}}\n            xAxis={xAxis}\n            yAxis={{type: 'value'}}\n            series={[series]}\n            tooltip={tooltip}\n            colors={colors}\n            onMouseOver={handleMouseOver}\n            {...zoomRenderProps}\n          />\n        )}\n      </BarChartZoom>\n    );\n  }\n\n  const eventView = EventView.fromNewQueryWithLocation(\n    {\n      id: undefined,\n      version: 2,\n      name: '',\n      fields: ['transaction.duration'],\n      projects: project,\n      range: statsPeriod,\n      query,\n      environment,\n      start,\n      end,\n    },\n    location\n  );\n\n  const {min, max} = decodeHistogramZoom(location);\n\n  const field = filterToField(currentFilter) ?? 'transaction.duration';\n\n  return (\n    <Histogram location={location} zoomKeys={[ZOOM_START, ZOOM_END]}>\n      {({activeFilter}) => (\n        <HistogramQuery\n          location={location}\n          orgSlug={organization.slug}\n          eventView={eventView}\n          numBuckets={NUM_BUCKETS}\n          fields={[field]}\n          min={min}\n          max={max}\n          dataFilter={activeFilter.value}\n        >\n          {({histograms, isLoading, error}) => {\n            if (isLoading) {\n              return <LoadingPanel data-test-id=\"histogram-loading\" />;\n            }\n\n            if (error) {\n              return (\n                <ErrorPanel>\n                  <IconWarning color=\"gray300\" size=\"lg\" />\n                </ErrorPanel>\n              );\n            }\n\n            return renderChart(histograms?.[field] ?? []);\n          }}\n        </HistogramQuery>\n      )}\n    </Histogram>\n  );\n}\n\nexport default Content;\n","import {Fragment} from 'react';\nimport {Location} from 'history';\n\nimport {HeaderTitleLegend} from 'sentry/components/charts/styles';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {t, tct} from 'sentry/locale';\nimport {OrganizationSummary} from 'sentry/types';\n\nimport {ViewProps} from '../../../types';\nimport {SpanOperationBreakdownFilter} from '../../filter';\n\nimport Content from './content';\n\ntype Props = ViewProps & {\n  currentFilter: SpanOperationBreakdownFilter;\n  location: Location;\n  organization: OrganizationSummary;\n};\n\nfunction LatencyChart({currentFilter, ...props}: Props) {\n  const header = (\n    <HeaderTitleLegend>\n      {currentFilter === SpanOperationBreakdownFilter.None\n        ? t('Duration Distribution')\n        : tct('Span Operation Distribution - [operationName]', {\n            operationName: currentFilter,\n          })}\n      <QuestionTooltip\n        position=\"top\"\n        size=\"sm\"\n        title={t(\n          `Duration Distribution reflects the volume of transactions per median duration.`\n        )}\n      />\n    </HeaderTitleLegend>\n  );\n\n  return (\n    <Fragment>\n      {header}\n      <Content {...props} currentFilter={currentFilter} />\n    </Fragment>\n  );\n}\n\nexport default LatencyChart;\n","import {InjectedRouter} from 'react-router';\nimport {Query} from 'history';\n\nimport ChartZoom from 'sentry/components/charts/chartZoom';\nimport ErrorPanel from 'sentry/components/charts/errorPanel';\nimport {LineChart, LineChartProps} from 'sentry/components/charts/lineChart';\nimport ReleaseSeries from 'sentry/components/charts/releaseSeries';\nimport TransitionChart from 'sentry/components/charts/transitionChart';\nimport TransparentLoadingMask from 'sentry/components/charts/transparentLoadingMask';\nimport Placeholder from 'sentry/components/placeholder';\nimport {IconWarning} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {Series} from 'sentry/types/echarts';\nimport {\n  axisLabelFormatter,\n  getDurationUnit,\n  tooltipFormatter,\n} from 'sentry/utils/discover/charts';\nimport getDynamicText from 'sentry/utils/getDynamicText';\nimport {Theme} from 'sentry/utils/theme';\n\nimport {transformEventStatsSmoothed} from '../../../trends/utils';\n\ntype Props = {\n  errored: boolean;\n  loading: boolean;\n  queryExtra: Query;\n  reloading: boolean;\n  router: InjectedRouter;\n  theme: Theme;\n  series?: Series[];\n  timeFrame?: {\n    end: number;\n    start: number;\n  };\n} & Omit<React.ComponentProps<typeof ReleaseSeries>, 'children' | 'queryExtra'> &\n  Pick<LineChartProps, 'onLegendSelectChanged' | 'legend'>;\n\nfunction Content({\n  errored,\n  theme,\n  series: data,\n  timeFrame,\n  start,\n  end,\n  period,\n  projects,\n  environments,\n  loading,\n  reloading,\n  legend,\n  utc,\n  queryExtra,\n  router,\n  onLegendSelectChanged,\n}: Props) {\n  if (errored) {\n    return (\n      <ErrorPanel>\n        <IconWarning color=\"gray500\" size=\"lg\" />\n      </ErrorPanel>\n    );\n  }\n\n  const series = data\n    ? data\n        .map(values => {\n          return {\n            ...values,\n            color: theme.purple300,\n            lineStyle: {\n              opacity: 0.75,\n              width: 1,\n            },\n          };\n        })\n        .reverse()\n    : [];\n\n  const durationUnit = getDurationUnit(series, legend);\n\n  const chartOptions: Omit<LineChartProps, 'series'> = {\n    grid: {\n      left: '10px',\n      right: '10px',\n      top: '40px',\n      bottom: '0px',\n    },\n    seriesOptions: {\n      showSymbol: false,\n    },\n    tooltip: {\n      trigger: 'axis',\n      valueFormatter: (value: number | null) => tooltipFormatter(value, 'duration'),\n    },\n    xAxis: timeFrame\n      ? {\n          min: timeFrame.start,\n          max: timeFrame.end,\n        }\n      : undefined,\n    yAxis: {\n      min: 0,\n      minInterval: durationUnit,\n      axisLabel: {\n        color: theme.chartLabel,\n        formatter: (value: number) =>\n          axisLabelFormatter(value, 'duration', undefined, durationUnit),\n      },\n    },\n  };\n\n  const {smoothedResults} = transformEventStatsSmoothed(data, t('Smoothed'));\n\n  const smoothedSeries = smoothedResults\n    ? smoothedResults.map(values => {\n        return {\n          ...values,\n          color: theme.purple300,\n          lineStyle: {\n            opacity: 1,\n          },\n        };\n      })\n    : [];\n\n  return (\n    <ChartZoom router={router} period={period} start={start} end={end} utc={utc}>\n      {zoomRenderProps => (\n        <ReleaseSeries\n          start={start}\n          end={end}\n          queryExtra={queryExtra}\n          period={period}\n          utc={utc}\n          projects={projects}\n          environments={environments}\n        >\n          {({releaseSeries}) => (\n            <TransitionChart loading={loading} reloading={reloading}>\n              <TransparentLoadingMask visible={reloading} />\n              {getDynamicText({\n                value: (\n                  <LineChart\n                    {...zoomRenderProps}\n                    {...chartOptions}\n                    legend={legend}\n                    onLegendSelectChanged={onLegendSelectChanged}\n                    series={[...series, ...smoothedSeries, ...releaseSeries]}\n                  />\n                ),\n                fixed: <Placeholder height=\"200px\" testId=\"skeleton-ui\" />,\n              })}\n            </TransitionChart>\n          )}\n        </ReleaseSeries>\n      )}\n    </ChartZoom>\n  );\n}\n\nexport default Content;\n","import {Fragment} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {browserHistory, withRouter, WithRouterProps} from 'react-router';\nimport {useTheme} from '@emotion/react';\nimport {Location, Query} from 'history';\n\nimport EventsRequest from 'sentry/components/charts/eventsRequest';\nimport {HeaderTitleLegend} from 'sentry/components/charts/styles';\nimport {getInterval, getSeriesSelection} from 'sentry/components/charts/utils';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {t} from 'sentry/locale';\nimport {OrganizationSummary} from 'sentry/types';\nimport {getUtcToLocalDateObject} from 'sentry/utils/dates';\nimport useApi from 'sentry/utils/useApi';\n\nimport {TrendFunctionField} from '../../../trends/types';\nimport {generateTrendFunctionAsString} from '../../../trends/utils';\nimport {ViewProps} from '../../../types';\n\nimport Content from './content';\n\ntype Props = WithRouterProps &\n  ViewProps & {\n    location: Location;\n    organization: OrganizationSummary;\n    queryExtra: Query;\n    trendFunction: TrendFunctionField;\n    trendParameter: string;\n    withoutZerofill: boolean;\n  };\n\nfunction TrendChart({\n  project,\n  environment,\n  location,\n  organization,\n  query,\n  statsPeriod,\n  router,\n  trendFunction,\n  trendParameter,\n  queryExtra,\n  withoutZerofill,\n  start: propsStart,\n  end: propsEnd,\n}: Props) {\n  const api = useApi();\n  const theme = useTheme();\n\n  function handleLegendSelectChanged(legendChange: {\n    name: string;\n    selected: Record<string, boolean>;\n    type: string;\n  }) {\n    const {selected} = legendChange;\n    const unselected = Object.keys(selected).filter(key => !selected[key]);\n\n    const to = {\n      ...location,\n      query: {\n        ...location.query,\n        unselectedSeries: unselected,\n      },\n    };\n    browserHistory.push(to);\n  }\n\n  const start = propsStart ? getUtcToLocalDateObject(propsStart) : null;\n  const end = propsEnd ? getUtcToLocalDateObject(propsEnd) : null;\n  const utc = normalizeDateTimeParams(location.query)?.utc === 'true';\n  const period = statsPeriod;\n\n  const legend = {\n    right: 10,\n    top: 0,\n    selected: getSeriesSelection(location),\n  };\n\n  const datetimeSelection = {start, end, period};\n\n  const contentCommonProps = {\n    theme,\n    router,\n    start,\n    end,\n    utc,\n    legend,\n    queryExtra,\n    period,\n    projects: project,\n    environments: environment,\n    onLegendSelectChanged: handleLegendSelectChanged,\n  };\n\n  const requestCommonProps = {\n    api,\n    start,\n    end,\n    project,\n    environment,\n    query,\n    period,\n    interval: getInterval(datetimeSelection, 'high'),\n  };\n\n  const header = (\n    <HeaderTitleLegend>\n      {t('Trend')}\n      <QuestionTooltip\n        size=\"sm\"\n        position=\"top\"\n        title={t(`Trends shows the smoothed value of an aggregate over time.`)}\n      />\n    </HeaderTitleLegend>\n  );\n\n  const trendDisplay = generateTrendFunctionAsString(trendFunction, trendParameter);\n\n  return (\n    <Fragment>\n      {header}\n      <EventsRequest\n        {...requestCommonProps}\n        organization={organization}\n        showLoading={false}\n        includePrevious={false}\n        yAxis={trendDisplay}\n        currentSeriesNames={[trendDisplay]}\n        partial\n        withoutZerofill={withoutZerofill}\n        referrer=\"api.performance.transaction-summary.trends-chart\"\n      >\n        {({errored, loading, reloading, timeseriesData, timeframe: timeFrame}) => (\n          <Content\n            series={timeseriesData}\n            errored={errored}\n            loading={loading}\n            reloading={reloading}\n            timeFrame={timeFrame}\n            {...contentCommonProps}\n          />\n        )}\n      </EventsRequest>\n    </Fragment>\n  );\n}\n\nexport default withRouter(TrendChart);\n","import {Fragment} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {withRouter, WithRouterProps} from 'react-router';\nimport {Location, Query} from 'history';\n\nimport EventsRequest from 'sentry/components/charts/eventsRequest';\nimport {HeaderTitleLegend} from 'sentry/components/charts/styles';\nimport {getInterval} from 'sentry/components/charts/utils';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {t} from 'sentry/locale';\nimport {Organization, OrganizationSummary} from 'sentry/types';\nimport {Series} from 'sentry/types/echarts';\nimport {getUtcToLocalDateObject} from 'sentry/utils/dates';\nimport {useMEPSettingContext} from 'sentry/utils/performance/contexts/metricsEnhancedSetting';\nimport useApi from 'sentry/utils/useApi';\nimport {getTermHelp, PERFORMANCE_TERM} from 'sentry/views/performance/data';\nimport {getMEPQueryParams} from 'sentry/views/performance/landing/widgets/utils';\nimport {DurationChart} from 'sentry/views/performance/landing/widgets/widgets/singleFieldAreaWidget';\nimport {ViewProps} from 'sentry/views/performance/types';\n\ntype Props = WithRouterProps &\n  ViewProps & {\n    location: Location;\n    organization: OrganizationSummary;\n    queryExtra: Query;\n    withoutZerofill: boolean;\n  };\n\n/**\n * Fetch and render an area chart that shows user misery over a period\n */\nfunction UserMiseryChart({\n  project,\n  environment,\n  location,\n  organization,\n  query,\n  statsPeriod,\n  withoutZerofill,\n  start: propsStart,\n  end: propsEnd,\n}: Props) {\n  const api = useApi();\n  const mepContext = useMEPSettingContext();\n\n  const start = propsStart ? getUtcToLocalDateObject(propsStart) : null;\n  const end = propsEnd ? getUtcToLocalDateObject(propsEnd) : null;\n  const utc = normalizeDateTimeParams(location.query).utc === 'true';\n  const period = statsPeriod;\n\n  const datetimeSelection = {start, end, period};\n\n  const requestCommonProps = {\n    api,\n    start,\n    end,\n    project,\n    environment,\n    query,\n    period,\n    interval: getInterval(datetimeSelection, 'high'),\n  };\n\n  const header = (\n    <HeaderTitleLegend>\n      {t('User Misery')}\n      <QuestionTooltip\n        size=\"sm\"\n        position=\"top\"\n        title={t(getTermHelp(organization as Organization, PERFORMANCE_TERM.USER_MISERY))}\n      />\n    </HeaderTitleLegend>\n  );\n\n  const yAxis = 'user_misery()';\n\n  return (\n    <Fragment>\n      {header}\n      <EventsRequest\n        {...requestCommonProps}\n        organization={organization}\n        showLoading={false}\n        includePrevious={false}\n        yAxis={yAxis}\n        partial\n        withoutZerofill={withoutZerofill}\n        referrer=\"api.performance.transaction-summary.user-misery-chart\"\n        queryExtras={getMEPQueryParams(mepContext)}\n      >\n        {({loading, reloading, timeseriesData}) => {\n          const data: Series[] = timeseriesData?.[0]\n            ? [{...timeseriesData[0], seriesName: yAxis}]\n            : [];\n          return (\n            <DurationChart\n              grid={{left: '10px', right: '10px', top: '40px', bottom: '0px'}}\n              data={data}\n              statsPeriod={statsPeriod}\n              loading={loading || reloading}\n              disableMultiAxis\n              definedAxisTicks={4}\n              start={start}\n              end={end}\n              utc={utc}\n            />\n          );\n        }}\n      </EventsRequest>\n    </Fragment>\n  );\n}\n\nexport default withRouter(UserMiseryChart);\n","import {InjectedRouter} from 'react-router';\nimport {Query} from 'history';\n\nimport ChartZoom from 'sentry/components/charts/chartZoom';\nimport ErrorPanel from 'sentry/components/charts/errorPanel';\nimport {LineChart, LineChartProps} from 'sentry/components/charts/lineChart';\nimport ReleaseSeries from 'sentry/components/charts/releaseSeries';\nimport TransitionChart from 'sentry/components/charts/transitionChart';\nimport TransparentLoadingMask from 'sentry/components/charts/transparentLoadingMask';\nimport Placeholder from 'sentry/components/placeholder';\nimport {IconWarning} from 'sentry/icons';\nimport {Series} from 'sentry/types/echarts';\nimport {\n  axisLabelFormatter,\n  getDurationUnit,\n  tooltipFormatter,\n} from 'sentry/utils/discover/charts';\nimport {aggregateOutputType} from 'sentry/utils/discover/fields';\nimport getDynamicText from 'sentry/utils/getDynamicText';\nimport {Theme} from 'sentry/utils/theme';\nimport {TransactionsListOption} from 'sentry/views/releases/detail/overview';\n\ntype Props = {\n  errored: boolean;\n  loading: boolean;\n  queryExtra: Query;\n  reloading: boolean;\n  router: InjectedRouter;\n  theme: Theme;\n  series?: Series[];\n  timeFrame?: {\n    end: number;\n    start: number;\n  };\n} & Omit<React.ComponentProps<typeof ReleaseSeries>, 'children' | 'queryExtra'> &\n  Pick<LineChartProps, 'onLegendSelectChanged' | 'legend'>;\n\nfunction Content({\n  errored,\n  theme,\n  series: data,\n  timeFrame,\n  start,\n  end,\n  period,\n  projects,\n  environments,\n  loading,\n  reloading,\n  legend,\n  utc,\n  queryExtra,\n  router,\n  onLegendSelectChanged,\n}: Props) {\n  if (errored) {\n    return (\n      <ErrorPanel>\n        <IconWarning color=\"gray500\" size=\"lg\" />\n      </ErrorPanel>\n    );\n  }\n\n  const colors = (data && theme.charts.getColorPalette(data.length - 2)) || [];\n\n  // Create a list of series based on the order of the fields,\n  const series = data\n    ? data.map((values, i: number) => ({\n        ...values,\n        color: colors[i],\n      }))\n    : [];\n\n  const durationUnit = getDurationUnit(series, legend);\n\n  const chartOptions: Omit<LineChartProps, 'series'> = {\n    grid: {\n      left: '10px',\n      right: '10px',\n      top: '40px',\n      bottom: '0px',\n    },\n    seriesOptions: {\n      showSymbol: false,\n    },\n    tooltip: {\n      trigger: 'axis',\n      valueFormatter: (value, label) =>\n        tooltipFormatter(value, aggregateOutputType(label)),\n    },\n    xAxis: timeFrame\n      ? {\n          min: timeFrame.start,\n          max: timeFrame.end,\n        }\n      : undefined,\n    yAxis: {\n      minInterval: durationUnit,\n      axisLabel: {\n        color: theme.chartLabel,\n        // p75(measurements.fcp) coerces the axis to be time based\n        formatter: (value: number) =>\n          axisLabelFormatter(value, 'duration', undefined, durationUnit),\n      },\n    },\n  };\n\n  return (\n    <ChartZoom router={router} period={period} start={start} end={end} utc={utc}>\n      {zoomRenderProps => (\n        <ReleaseSeries\n          start={start}\n          end={end}\n          queryExtra={{\n            ...queryExtra,\n            showTransactions: TransactionsListOption.SLOW_LCP,\n          }}\n          period={period}\n          utc={utc}\n          projects={projects}\n          environments={environments}\n        >\n          {({releaseSeries}) => (\n            <TransitionChart loading={loading} reloading={reloading}>\n              <TransparentLoadingMask visible={reloading} />\n              {getDynamicText({\n                value: (\n                  <LineChart\n                    {...zoomRenderProps}\n                    {...chartOptions}\n                    legend={legend}\n                    onLegendSelectChanged={onLegendSelectChanged}\n                    series={[...series, ...releaseSeries]}\n                  />\n                ),\n                fixed: <Placeholder height=\"200px\" testId=\"skeleton-ui\" />,\n              })}\n            </TransitionChart>\n          )}\n        </ReleaseSeries>\n      )}\n    </ChartZoom>\n  );\n}\n\nexport default Content;\n","import {Fragment} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {browserHistory, withRouter, WithRouterProps} from 'react-router';\nimport {useTheme} from '@emotion/react';\nimport {Location, Query} from 'history';\n\nimport EventsRequest from 'sentry/components/charts/eventsRequest';\nimport {HeaderTitleLegend} from 'sentry/components/charts/styles';\nimport {getInterval, getSeriesSelection} from 'sentry/components/charts/utils';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {t} from 'sentry/locale';\nimport {OrganizationSummary} from 'sentry/types';\nimport {getUtcToLocalDateObject} from 'sentry/utils/dates';\nimport {getAggregateArg, getMeasurementSlug} from 'sentry/utils/discover/fields';\nimport {WebVital} from 'sentry/utils/fields';\nimport useApi from 'sentry/utils/useApi';\n\nimport {ViewProps} from '../../../types';\n\nimport Content from './content';\n\ntype Props = WithRouterProps &\n  ViewProps & {\n    location: Location;\n    organization: OrganizationSummary;\n    queryExtra: Query;\n    withoutZerofill: boolean;\n  };\n\nfunction VitalsChart({\n  project,\n  environment,\n  location,\n  organization,\n  query,\n  statsPeriod,\n  router,\n  queryExtra,\n  withoutZerofill,\n  start: propsStart,\n  end: propsEnd,\n}: Props) {\n  const api = useApi();\n  const theme = useTheme();\n\n  const handleLegendSelectChanged = (legendChange: {\n    name: string;\n    selected: Record<string, boolean>;\n    type: string;\n  }) => {\n    const {selected} = legendChange;\n    const unselected = Object.keys(selected).filter(key => !selected[key]);\n\n    const to = {\n      ...location,\n      query: {\n        ...location.query,\n        unselectedSeries: unselected,\n      },\n    };\n    browserHistory.push(to);\n  };\n\n  const vitals = [WebVital.FCP, WebVital.LCP, WebVital.FID, WebVital.CLS];\n  const start = propsStart ? getUtcToLocalDateObject(propsStart) : null;\n  const end = propsEnd ? getUtcToLocalDateObject(propsEnd) : null;\n  const utc = normalizeDateTimeParams(location.query).utc === 'true';\n  const period = statsPeriod;\n\n  const legend = {\n    right: 10,\n    top: 0,\n    selected: getSeriesSelection(location),\n    formatter: (seriesName: string) => {\n      const arg = getAggregateArg(seriesName);\n      if (arg !== null) {\n        const slug = getMeasurementSlug(arg);\n        if (slug !== null) {\n          seriesName = slug.toUpperCase();\n        }\n      }\n      return seriesName;\n    },\n  };\n\n  const datetimeSelection = {start, end, period};\n\n  const contentCommonProps = {\n    theme,\n    router,\n    start,\n    end,\n    utc,\n    legend,\n    queryExtra,\n    period,\n    projects: project,\n    environments: environment,\n    onLegendSelectChanged: handleLegendSelectChanged,\n  };\n\n  const requestCommonProps = {\n    api,\n    start,\n    end,\n    project,\n    environment,\n    query,\n    period,\n    interval: getInterval(datetimeSelection, 'high'),\n  };\n\n  const header = (\n    <HeaderTitleLegend>\n      {t('Web Vitals Breakdown')}\n      <QuestionTooltip\n        size=\"sm\"\n        position=\"top\"\n        title={t(\n          `Web Vitals Breakdown reflects the 75th percentile of web vitals over time.`\n        )}\n      />\n    </HeaderTitleLegend>\n  );\n\n  const yAxis = vitals.map(v => `p75(${v})`);\n\n  return (\n    <Fragment>\n      {header}\n      <EventsRequest\n        {...requestCommonProps}\n        organization={organization}\n        showLoading={false}\n        includePrevious={false}\n        yAxis={yAxis}\n        partial\n        withoutZerofill={withoutZerofill}\n        referrer=\"api.performance.transaction-summary.vitals-chart\"\n      >\n        {({results, errored, loading, reloading, timeframe: timeFrame}) => (\n          <Content\n            series={results}\n            errored={errored}\n            loading={loading}\n            reloading={reloading}\n            timeFrame={timeFrame}\n            {...contentCommonProps}\n          />\n        )}\n      </EventsRequest>\n    </Fragment>\n  );\n}\n\nexport default withRouter(VitalsChart);\n","import EmptyStateWarning from 'sentry/components/emptyStateWarning';\nimport {Panel, PanelBody} from 'sentry/components/panels';\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nconst EmptyState = ({children}: Props) => (\n  <Panel>\n    <PanelBody>\n      <EmptyStateWarning>\n        <p>{children}</p>\n      </EmptyStateWarning>\n    </PanelBody>\n  </Panel>\n);\n\nexport default EmptyState;\n","import {Fragment} from 'react';\nimport {browserHistory, RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location, LocationDescriptor, Query} from 'history';\nimport moment from 'moment';\n\nimport {restoreRelease} from 'sentry/actionCreators/release';\nimport {Client} from 'sentry/api';\nimport Feature from 'sentry/components/acl/feature';\nimport SessionsRequest from 'sentry/components/charts/sessionsRequest';\nimport {DateTimeObject} from 'sentry/components/charts/utils';\nimport DateTime from 'sentry/components/dateTime';\nimport PerformanceCardTable from 'sentry/components/discover/performanceCardTable';\nimport TransactionsList, {\n  DropdownOption,\n} from 'sentry/components/discover/transactionsList';\nimport EnvironmentPageFilter from 'sentry/components/environmentPageFilter';\nimport {Body, Main, Side} from 'sentry/components/layouts/thirds';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport {ChangeData} from 'sentry/components/organizations/timeRangeSelector';\nimport PageTimeRangeSelector from 'sentry/components/pageTimeRangeSelector';\nimport {DEFAULT_RELATIVE_PERIODS} from 'sentry/constants';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {\n  NewQuery,\n  Organization,\n  PageFilters,\n  ReleaseProject,\n  SessionFieldWithOperation,\n} from 'sentry/types';\nimport {getUtcDateString} from 'sentry/utils/dates';\nimport {TableDataRow} from 'sentry/utils/discover/discoverQuery';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {MobileVital, SpanOpBreakdown, WebVital} from 'sentry/utils/fields';\nimport {formatVersion} from 'sentry/utils/formatters';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport routeTitleGen from 'sentry/utils/routeTitle';\nimport withApi from 'sentry/utils/withApi';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport withPageFilters from 'sentry/utils/withPageFilters';\nimport AsyncView from 'sentry/views/asyncView';\nimport {DisplayModes} from 'sentry/views/performance/transactionSummary/transactionOverview/charts';\nimport {transactionSummaryRouteWithQuery} from 'sentry/views/performance/transactionSummary/utils';\nimport {TrendChangeType, TrendView} from 'sentry/views/performance/trends/types';\nimport {\n  platformToPerformanceType,\n  PROJECT_PERFORMANCE_TYPE,\n} from 'sentry/views/performance/utils';\n\nimport {getReleaseParams, isReleaseArchived, ReleaseBounds} from '../../utils';\nimport {ReleaseContext} from '..';\n\nimport CommitAuthorBreakdown from './sidebar/commitAuthorBreakdown';\nimport Deploys from './sidebar/deploys';\nimport OtherProjects from './sidebar/otherProjects';\nimport ProjectReleaseDetails from './sidebar/projectReleaseDetails';\nimport ReleaseAdoption from './sidebar/releaseAdoption';\nimport ReleaseStats from './sidebar/releaseStats';\nimport TotalCrashFreeUsers from './sidebar/totalCrashFreeUsers';\nimport ReleaseArchivedNotice from './releaseArchivedNotice';\nimport ReleaseComparisonChart from './releaseComparisonChart';\nimport ReleaseIssues from './releaseIssues';\n\nconst RELEASE_PERIOD_KEY = 'release';\n\nexport enum TransactionsListOption {\n  FAILURE_COUNT = 'failure_count',\n  TPM = 'tpm',\n  SLOW = 'slow',\n  SLOW_LCP = 'slow_lcp',\n  REGRESSION = 'regression',\n  IMPROVEMENT = 'improved',\n}\n\ntype RouteParams = {\n  orgId: string;\n  release: string;\n};\n\ntype Props = RouteComponentProps<RouteParams, {}> & {\n  api: Client;\n  organization: Organization;\n  selection: PageFilters;\n};\n\nclass ReleaseOverview extends AsyncView<Props> {\n  getTitle() {\n    const {params, organization} = this.props;\n    return routeTitleGen(\n      t('Release %s', formatVersion(params.release)),\n      organization.slug,\n      false\n    );\n  }\n\n  handleRestore = async (project: ReleaseProject, successCallback: () => void) => {\n    const {params, organization} = this.props;\n\n    try {\n      await restoreRelease(new Client(), {\n        orgSlug: organization.slug,\n        projectSlug: project.slug,\n        releaseVersion: params.release,\n      });\n      successCallback();\n    } catch {\n      // do nothing, action creator is already displaying error message\n    }\n  };\n\n  getReleaseEventView(\n    version: string,\n    projectId: number,\n    selectedSort: DropdownOption,\n    releaseBounds: ReleaseBounds\n  ): EventView {\n    const {selection, location} = this.props;\n    const {environments} = selection;\n\n    const {start, end, statsPeriod} = getReleaseParams({\n      location,\n      releaseBounds,\n    });\n\n    const baseQuery: NewQuery = {\n      id: undefined,\n      version: 2,\n      name: `Release ${formatVersion(version)}`,\n      query: `event.type:transaction release:${version}`,\n      fields: ['transaction', 'failure_count()', 'epm()', 'p50()'],\n      orderby: '-failure_count',\n      range: statsPeriod || undefined,\n      environment: environments,\n      projects: [projectId],\n      start: start ? getUtcDateString(start) : undefined,\n      end: end ? getUtcDateString(end) : undefined,\n    };\n\n    switch (selectedSort.value) {\n      case TransactionsListOption.SLOW_LCP:\n        return EventView.fromSavedQuery({\n          ...baseQuery,\n          query: `event.type:transaction release:${version} epm():>0.01 has:measurements.lcp`,\n          fields: ['transaction', 'failure_count()', 'epm()', 'p75(measurements.lcp)'],\n          orderby: 'p75_measurements_lcp',\n        });\n      case TransactionsListOption.SLOW:\n        return EventView.fromSavedQuery({\n          ...baseQuery,\n          query: `event.type:transaction release:${version} epm():>0.01`,\n        });\n      case TransactionsListOption.FAILURE_COUNT:\n        return EventView.fromSavedQuery({\n          ...baseQuery,\n          query: `event.type:transaction release:${version} failure_count():>0`,\n        });\n      default:\n        return EventView.fromSavedQuery(baseQuery);\n    }\n  }\n\n  getReleaseTrendView(\n    version: string,\n    projectId: number,\n    versionDate: string,\n    releaseBounds: ReleaseBounds\n  ): EventView {\n    const {selection, location} = this.props;\n    const {environments} = selection;\n\n    const {start, end, statsPeriod} = getReleaseParams({\n      location,\n      releaseBounds,\n    });\n\n    const trendView = EventView.fromSavedQuery({\n      id: undefined,\n      version: 2,\n      name: `Release ${formatVersion(version)}`,\n      fields: ['transaction'],\n      query: 'tpm():>0.01 trend_percentage():>0%',\n      range: statsPeriod || undefined,\n      environment: environments,\n      projects: [projectId],\n      start: start ? getUtcDateString(start) : undefined,\n      end: end ? getUtcDateString(end) : undefined,\n    }) as TrendView;\n    trendView.middle = versionDate;\n    return trendView;\n  }\n\n  getReleasePerformanceEventView(\n    performanceType: string,\n    baseQuery: NewQuery\n  ): EventView {\n    const eventView =\n      performanceType === PROJECT_PERFORMANCE_TYPE.FRONTEND\n        ? (EventView.fromSavedQuery({\n            ...baseQuery,\n            fields: [\n              ...baseQuery.fields,\n              `p75(${WebVital.FCP})`,\n              `p75(${WebVital.FID})`,\n              `p75(${WebVital.LCP})`,\n              `p75(${WebVital.CLS})`,\n              `p75(${SpanOpBreakdown.SpansHttp})`,\n              `p75(${SpanOpBreakdown.SpansBrowser})`,\n              `p75(${SpanOpBreakdown.SpansResource})`,\n            ],\n          }) as EventView)\n        : performanceType === PROJECT_PERFORMANCE_TYPE.BACKEND\n        ? (EventView.fromSavedQuery({\n            ...baseQuery,\n            fields: [...baseQuery.fields, 'apdex()', 'p75(spans.http)', 'p75(spans.db)'],\n          }) as EventView)\n        : performanceType === PROJECT_PERFORMANCE_TYPE.MOBILE\n        ? (EventView.fromSavedQuery({\n            ...baseQuery,\n            fields: [\n              ...baseQuery.fields,\n              `p75(${MobileVital.AppStartCold})`,\n              `p75(${MobileVital.AppStartWarm})`,\n              `p75(${MobileVital.FramesSlow})`,\n              `p75(${MobileVital.FramesFrozen})`,\n            ],\n          }) as EventView)\n        : (EventView.fromSavedQuery({\n            ...baseQuery,\n          }) as EventView);\n\n    return eventView;\n  }\n\n  getAllReleasesPerformanceView(\n    projectId: number,\n    performanceType: string,\n    releaseBounds: ReleaseBounds\n  ) {\n    const {selection, location} = this.props;\n    const {environments} = selection;\n\n    const {start, end, statsPeriod} = getReleaseParams({\n      location,\n      releaseBounds,\n    });\n\n    const baseQuery: NewQuery = {\n      id: undefined,\n      version: 2,\n      name: 'All Releases',\n      query: 'event.type:transaction',\n      fields: ['user_misery()'],\n      range: statsPeriod || undefined,\n      environment: environments,\n      projects: [projectId],\n      start: start ? getUtcDateString(start) : undefined,\n      end: end ? getUtcDateString(end) : undefined,\n    };\n\n    return this.getReleasePerformanceEventView(performanceType, baseQuery);\n  }\n\n  getReleasePerformanceView(\n    version: string,\n    projectId: number,\n    performanceType: string,\n    releaseBounds: ReleaseBounds\n  ) {\n    const {selection, location} = this.props;\n    const {environments} = selection;\n\n    const {start, end, statsPeriod} = getReleaseParams({\n      location,\n      releaseBounds,\n    });\n\n    const baseQuery: NewQuery = {\n      id: undefined,\n      version: 2,\n      name: `Release:${version}`,\n      query: `event.type:transaction release:${version}`,\n      fields: ['user_misery()'],\n      range: statsPeriod || undefined,\n      environment: environments,\n      projects: [projectId],\n      start: start ? getUtcDateString(start) : undefined,\n      end: end ? getUtcDateString(end) : undefined,\n    };\n\n    return this.getReleasePerformanceEventView(performanceType, baseQuery);\n  }\n\n  get pageDateTime(): DateTimeObject {\n    const query = this.props.location.query;\n\n    const {start, end, statsPeriod} = normalizeDateTimeParams(query, {\n      allowEmptyPeriod: true,\n      allowAbsoluteDatetime: true,\n      allowAbsolutePageDatetime: true,\n    });\n\n    if (statsPeriod) {\n      return {period: statsPeriod};\n    }\n\n    if (start && end) {\n      return {\n        start: moment.utc(start).format(),\n        end: moment.utc(end).format(),\n      };\n    }\n\n    return {};\n  }\n\n  handleTransactionsListSortChange = (value: string) => {\n    const {location} = this.props;\n\n    const target = {\n      pathname: location.pathname,\n      query: {...location.query, showTransactions: value, transactionCursor: undefined},\n    };\n    browserHistory.push(target);\n  };\n\n  handleDateChange = (datetime: ChangeData) => {\n    const {router, location} = this.props;\n    const {start, end, relative, utc} = datetime;\n\n    if (start && end) {\n      const parser = utc ? moment.utc : moment;\n\n      router.push({\n        ...location,\n        query: {\n          ...location.query,\n          pageStatsPeriod: undefined,\n          pageStart: parser(start).format(),\n          pageEnd: parser(end).format(),\n          pageUtc: utc ?? undefined,\n        },\n      });\n      return;\n    }\n\n    router.push({\n      ...location,\n      query: {\n        ...location.query,\n        pageStatsPeriod: relative === RELEASE_PERIOD_KEY ? undefined : relative,\n        pageStart: undefined,\n        pageEnd: undefined,\n        pageUtc: undefined,\n      },\n    });\n  };\n\n  render() {\n    const {organization, selection, location, api} = this.props;\n    const {start, end, period, utc} = this.pageDateTime;\n\n    return (\n      <ReleaseContext.Consumer>\n        {({\n          release,\n          project,\n          deploys,\n          releaseMeta,\n          refetchData,\n          hasHealthData,\n          releaseBounds,\n        }) => {\n          const {commitCount, version} = release;\n          const hasDiscover = organization.features.includes('discover-basic');\n          const hasPerformance = organization.features.includes('performance-view');\n          const hasReleaseComparisonPerformance = organization.features.includes(\n            'release-comparison-performance'\n          );\n          const {environments} = selection;\n          const performanceType = platformToPerformanceType([project], [project.id]);\n          const {selectedSort, sortOptions} = getTransactionsListSort(location);\n          const releaseEventView = this.getReleaseEventView(\n            version,\n            project.id,\n            selectedSort,\n            releaseBounds\n          );\n          const titles =\n            selectedSort.value !== TransactionsListOption.SLOW_LCP\n              ? [t('transaction'), t('failure_count()'), t('tpm()'), t('p50()')]\n              : [t('transaction'), t('failure_count()'), t('tpm()'), t('p75(lcp)')];\n          const releaseTrendView = this.getReleaseTrendView(\n            version,\n            project.id,\n            releaseMeta.released,\n            releaseBounds\n          );\n          const allReleasesPerformanceView = this.getAllReleasesPerformanceView(\n            project.id,\n            performanceType,\n            releaseBounds\n          );\n          const releasePerformanceView = this.getReleasePerformanceView(\n            version,\n            project.id,\n            performanceType,\n            releaseBounds\n          );\n\n          const generateLink = {\n            transaction: generateTransactionLink(\n              version,\n              project.id,\n              selection,\n              location.query.showTransactions\n            ),\n          };\n\n          const sessionsRequestProps: Omit<SessionsRequest['props'], 'children'> = {\n            api,\n            organization,\n            field: [\n              SessionFieldWithOperation.USERS,\n              SessionFieldWithOperation.SESSIONS,\n              SessionFieldWithOperation.DURATION,\n            ],\n            groupBy: ['session.status'],\n            ...getReleaseParams({location, releaseBounds}),\n            shouldFilterSessionsInTimeWindow: true,\n          };\n\n          return (\n            <SessionsRequest {...sessionsRequestProps}>\n              {({\n                loading: allReleasesLoading,\n                reloading: allReleasesReloading,\n                errored: allReleasesErrored,\n                response: allReleases,\n              }) => (\n                <SessionsRequest {...sessionsRequestProps} query={`release:\"${version}\"`}>\n                  {({\n                    loading: thisReleaseLoading,\n                    reloading: thisReleaseReloading,\n                    errored: thisReleaseErrored,\n                    response: thisRelease,\n                  }) => {\n                    const loading = allReleasesLoading || thisReleaseLoading;\n                    const reloading = allReleasesReloading || thisReleaseReloading;\n                    const errored = allReleasesErrored || thisReleaseErrored;\n                    return (\n                      <Body>\n                        <Main>\n                          {isReleaseArchived(release) && (\n                            <ReleaseArchivedNotice\n                              onRestore={() => this.handleRestore(project, refetchData)}\n                            />\n                          )}\n                          <ReleaseDetailsPageFilters>\n                            <EnvironmentPageFilter />\n                            <StyledPageTimeRangeSelector\n                              organization={organization}\n                              relative={period ?? ''}\n                              start={start ?? null}\n                              end={end ?? null}\n                              utc={utc ?? null}\n                              onUpdate={this.handleDateChange}\n                              relativeOptions={\n                                releaseBounds.type !== 'ancient'\n                                  ? {\n                                      [RELEASE_PERIOD_KEY]: (\n                                        <Fragment>\n                                          {releaseBounds.type === 'clamped'\n                                            ? t('Clamped Release Period')\n                                            : t('Entire Release Period')}{' '}\n                                          (\n                                          <DateTime\n                                            date={releaseBounds.releaseStart}\n                                          /> -{' '}\n                                          <DateTime date={releaseBounds.releaseEnd} />)\n                                        </Fragment>\n                                      ),\n                                      ...DEFAULT_RELATIVE_PERIODS,\n                                    }\n                                  : DEFAULT_RELATIVE_PERIODS\n                              }\n                              defaultPeriod={\n                                releaseBounds.type !== 'ancient'\n                                  ? RELEASE_PERIOD_KEY\n                                  : '90d'\n                              }\n                              defaultAbsolute={{\n                                start: moment(releaseBounds.releaseStart)\n                                  .subtract(1, 'hour')\n                                  .toDate(),\n                                end: releaseBounds.releaseEnd\n                                  ? moment(releaseBounds.releaseEnd)\n                                      .add(1, 'hour')\n                                      .toDate()\n                                  : undefined,\n                              }}\n                            />\n                          </ReleaseDetailsPageFilters>\n\n                          {(hasDiscover || hasPerformance || hasHealthData) && (\n                            <ReleaseComparisonChart\n                              release={release}\n                              releaseSessions={thisRelease}\n                              allSessions={allReleases}\n                              platform={project.platform}\n                              location={location}\n                              loading={loading}\n                              reloading={reloading}\n                              errored={errored}\n                              project={project}\n                              organization={organization}\n                              api={api}\n                              hasHealthData={hasHealthData}\n                            />\n                          )}\n\n                          <ReleaseIssues\n                            organization={organization}\n                            selection={selection}\n                            version={version}\n                            location={location}\n                            releaseBounds={releaseBounds}\n                            queryFilterDescription={t('In this release')}\n                            withChart\n                          />\n\n                          <Feature features={['performance-view']}>\n                            {hasReleaseComparisonPerformance ? (\n                              <PerformanceCardTable\n                                organization={organization}\n                                project={project}\n                                location={location}\n                                allReleasesEventView={allReleasesPerformanceView}\n                                releaseEventView={releasePerformanceView}\n                                performanceType={performanceType}\n                              />\n                            ) : (\n                              <TransactionsList\n                                location={location}\n                                organization={organization}\n                                eventView={releaseEventView}\n                                trendView={releaseTrendView}\n                                selected={selectedSort}\n                                options={sortOptions}\n                                handleDropdownChange={\n                                  this.handleTransactionsListSortChange\n                                }\n                                titles={titles}\n                                generateLink={generateLink}\n                              />\n                            )}\n                          </Feature>\n                        </Main>\n                        <Side>\n                          <ReleaseStats\n                            organization={organization}\n                            release={release}\n                            project={project}\n                          />\n                          {hasHealthData && (\n                            <ReleaseAdoption\n                              releaseSessions={thisRelease}\n                              allSessions={allReleases}\n                              loading={loading}\n                              reloading={reloading}\n                              errored={errored}\n                              release={release}\n                              project={project}\n                              environment={environments}\n                            />\n                          )}\n                          <ProjectReleaseDetails\n                            release={release}\n                            releaseMeta={releaseMeta}\n                            orgSlug={organization.slug}\n                            projectSlug={project.slug}\n                          />\n                          {commitCount > 0 && (\n                            <CommitAuthorBreakdown\n                              version={version}\n                              orgId={organization.slug}\n                              projectSlug={project.slug}\n                            />\n                          )}\n                          {releaseMeta.projects.length > 1 && (\n                            <OtherProjects\n                              projects={releaseMeta.projects.filter(\n                                p => p.slug !== project.slug\n                              )}\n                              location={location}\n                              version={version}\n                              organization={organization}\n                            />\n                          )}\n                          {hasHealthData && (\n                            <TotalCrashFreeUsers\n                              organization={organization}\n                              version={version}\n                              projectSlug={project.slug}\n                              location={location}\n                            />\n                          )}\n                          {deploys.length > 0 && (\n                            <Deploys\n                              version={version}\n                              orgSlug={organization.slug}\n                              deploys={deploys}\n                              projectId={project.id}\n                            />\n                          )}\n                        </Side>\n                      </Body>\n                    );\n                  }}\n                </SessionsRequest>\n              )}\n            </SessionsRequest>\n          );\n        }}\n      </ReleaseContext.Consumer>\n    );\n  }\n}\n\nfunction generateTransactionLink(\n  version: string,\n  projectId: number,\n  selection: PageFilters,\n  value: string\n) {\n  return (\n    organization: Organization,\n    tableRow: TableDataRow,\n    _query: Query\n  ): LocationDescriptor => {\n    const {transaction} = tableRow;\n    const trendTransaction = ['regression', 'improved'].includes(value);\n    const {environments, datetime} = selection;\n    const {start, end, period} = datetime;\n\n    return transactionSummaryRouteWithQuery({\n      orgSlug: organization.slug,\n      transaction: transaction! as string,\n      query: {\n        query: trendTransaction ? '' : `release:${version}`,\n        environment: environments,\n        start: start ? getUtcDateString(start) : undefined,\n        end: end ? getUtcDateString(end) : undefined,\n        statsPeriod: period,\n      },\n      projectID: projectId.toString(),\n      display: trendTransaction ? DisplayModes.TREND : DisplayModes.DURATION,\n    });\n  };\n}\n\nfunction getDropdownOptions(): DropdownOption[] {\n  return [\n    {\n      sort: {kind: 'desc', field: 'failure_count'},\n      value: TransactionsListOption.FAILURE_COUNT,\n      label: t('Failing Transactions'),\n    },\n    {\n      sort: {kind: 'desc', field: 'epm'},\n      value: TransactionsListOption.TPM,\n      label: t('Frequent Transactions'),\n    },\n    {\n      sort: {kind: 'desc', field: 'p50'},\n      value: TransactionsListOption.SLOW,\n      label: t('Slow Transactions'),\n    },\n    {\n      sort: {kind: 'desc', field: 'p75_measurements_lcp'},\n      value: TransactionsListOption.SLOW_LCP,\n      label: t('Slow LCP'),\n    },\n    {\n      sort: {kind: 'desc', field: 'trend_percentage()'},\n      query: [['confidence()', '>6']],\n      trendType: TrendChangeType.REGRESSION,\n      value: TransactionsListOption.REGRESSION,\n      label: t('Trending Regressions'),\n    },\n    {\n      sort: {kind: 'asc', field: 'trend_percentage()'},\n      query: [['confidence()', '>6']],\n      trendType: TrendChangeType.IMPROVED,\n      value: TransactionsListOption.IMPROVEMENT,\n      label: t('Trending Improvements'),\n    },\n  ];\n}\n\nfunction getTransactionsListSort(location: Location): {\n  selectedSort: DropdownOption;\n  sortOptions: DropdownOption[];\n} {\n  const sortOptions = getDropdownOptions();\n  const urlParam = decodeScalar(\n    location.query.showTransactions,\n    TransactionsListOption.FAILURE_COUNT\n  );\n  const selectedSort = sortOptions.find(opt => opt.value === urlParam) || sortOptions[0];\n  return {selectedSort, sortOptions};\n}\n\nconst ReleaseDetailsPageFilters = styled('div')`\n  display: grid;\n  grid-template-columns: minmax(0, max-content) 1fr;\n  gap: ${space(2)};\n  margin-bottom: ${space(2)};\n`;\n\nconst StyledPageTimeRangeSelector = styled(PageTimeRangeSelector)`\n  height: 40px;\n`;\n\nexport default withApi(withPageFilters(withOrganization(ReleaseOverview)));\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport Alert from 'sentry/components/alert';\nimport Button from 'sentry/components/button';\nimport {t} from 'sentry/locale';\n\ntype Props = {\n  multi?: boolean;\n  onRestore?: () => void;\n};\n\nfunction ReleaseArchivedNotice({onRestore, multi}: Props) {\n  return (\n    <Alert type=\"warning\">\n      {multi\n        ? t('These releases have been archived.')\n        : t('This release has been archived.')}\n\n      {!multi && onRestore && (\n        <Fragment>\n          {' '}\n          <UnarchiveButton size=\"zero\" priority=\"link\" onClick={onRestore}>\n            {t('Restore this release')}\n          </UnarchiveButton>\n        </Fragment>\n      )}\n    </Alert>\n  );\n}\n\nconst UnarchiveButton = styled(Button)`\n  font-size: inherit;\n  text-decoration: underline;\n  &,\n  &:hover,\n  &:focus,\n  &:active {\n    color: ${p => p.theme.textColor};\n  }\n`;\n\nexport default ReleaseArchivedNotice;\n","import {Fragment, useCallback, useEffect, useMemo, useState} from 'react';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport * as Sentry from '@sentry/react';\nimport {Location} from 'history';\n\nimport {Client} from 'sentry/api';\nimport Button from 'sentry/components/button';\nimport ErrorPanel from 'sentry/components/charts/errorPanel';\nimport {ChartContainer} from 'sentry/components/charts/styles';\nimport Count from 'sentry/components/count';\nimport Duration from 'sentry/components/duration';\nimport GlobalSelectionLink from 'sentry/components/globalSelectionLink';\nimport NotAvailable from 'sentry/components/notAvailable';\nimport {Panel, PanelTable} from 'sentry/components/panels';\nimport Tooltip from 'sentry/components/tooltip';\nimport {PlatformKey} from 'sentry/data/platformCategories';\nimport {IconArrow, IconChevron, IconList, IconWarning} from 'sentry/icons';\nimport {t, tct, tn} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {\n  Organization,\n  ReleaseComparisonChartType,\n  ReleaseProject,\n  ReleaseWithHealth,\n  SessionApiResponse,\n  SessionFieldWithOperation,\n  SessionStatus,\n} from 'sentry/types';\nimport {defined} from 'sentry/utils';\nimport {formatPercentage} from 'sentry/utils/formatters';\nimport getDynamicText from 'sentry/utils/getDynamicText';\nimport {decodeList, decodeScalar} from 'sentry/utils/queryString';\nimport {\n  getCount,\n  getCrashFreeRate,\n  getSeriesAverage,\n  getSessionStatusRate,\n} from 'sentry/utils/sessions';\nimport {Color} from 'sentry/utils/theme';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport {\n  displaySessionStatusPercent,\n  getReleaseBounds,\n  getReleaseHandledIssuesUrl,\n  getReleaseParams,\n  getReleaseUnhandledIssuesUrl,\n  roundDuration,\n} from 'sentry/views/releases/utils';\n\nimport ReleaseComparisonChartRow from './releaseComparisonChartRow';\nimport ReleaseEventsChart from './releaseEventsChart';\nimport ReleaseSessionsChart from './releaseSessionsChart';\n\nexport type ReleaseComparisonRow = {\n  allReleases: React.ReactNode;\n  diff: React.ReactNode;\n  diffColor: Color | null;\n  diffDirection: 'up' | 'down' | null;\n  drilldown: React.ReactNode;\n  role: 'parent' | 'children' | 'default';\n  thisRelease: React.ReactNode;\n  type: ReleaseComparisonChartType;\n};\n\ntype Props = {\n  allSessions: SessionApiResponse | null;\n  api: Client;\n  errored: boolean;\n  hasHealthData: boolean;\n  loading: boolean;\n  location: Location;\n  organization: Organization;\n  platform: PlatformKey;\n  project: ReleaseProject;\n  release: ReleaseWithHealth;\n  releaseSessions: SessionApiResponse | null;\n  reloading: boolean;\n};\n\ntype EventsTotals = {\n  allErrorCount: number;\n  allFailureRate: number;\n  allTransactionCount: number;\n  releaseErrorCount: number;\n  releaseFailureRate: number;\n  releaseTransactionCount: number;\n} | null;\n\ntype IssuesTotals = {\n  handled: number;\n  unhandled: number;\n} | null;\n\nfunction ReleaseComparisonChart({\n  release,\n  project,\n  releaseSessions,\n  allSessions,\n  platform,\n  location,\n  loading,\n  reloading,\n  errored,\n  api,\n  organization,\n  hasHealthData,\n}: Props) {\n  const [issuesTotals, setIssuesTotals] = useState<IssuesTotals>(null);\n  const [eventsTotals, setEventsTotals] = useState<EventsTotals>(null);\n  const [eventsLoading, setEventsLoading] = useState(false);\n  const [expanded, setExpanded] = useState(new Set());\n  const [isOtherExpanded, setIsOtherExpanded] = useState(false);\n  const charts: ReleaseComparisonRow[] = [];\n  const additionalCharts: ReleaseComparisonRow[] = [];\n  const hasDiscover =\n    organization.features.includes('discover-basic') ||\n    organization.features.includes('performance-view');\n  const hasPerformance = organization.features.includes('performance-view');\n  const {\n    statsPeriod: period,\n    start,\n    end,\n    utc,\n  } = useMemo(\n    () =>\n      // Memoizing this so that it does not calculate different `end` for releases without events+sessions each rerender\n      getReleaseParams({\n        location,\n        releaseBounds: getReleaseBounds(release),\n      }),\n    [release, location]\n  );\n\n  useEffect(() => {\n    const chartInUrl = decodeScalar(location.query.chart) as ReleaseComparisonChartType;\n    if (\n      [\n        ReleaseComparisonChartType.HEALTHY_SESSIONS,\n        ReleaseComparisonChartType.ABNORMAL_SESSIONS,\n        ReleaseComparisonChartType.ERRORED_SESSIONS,\n        ReleaseComparisonChartType.CRASHED_SESSIONS,\n      ].includes(chartInUrl)\n    ) {\n      setExpanded(e => new Set(e.add(ReleaseComparisonChartType.CRASH_FREE_SESSIONS)));\n    }\n\n    if (\n      [\n        ReleaseComparisonChartType.HEALTHY_USERS,\n        ReleaseComparisonChartType.ABNORMAL_USERS,\n        ReleaseComparisonChartType.ERRORED_USERS,\n        ReleaseComparisonChartType.CRASHED_USERS,\n      ].includes(chartInUrl)\n    ) {\n      setExpanded(e => new Set(e.add(ReleaseComparisonChartType.CRASH_FREE_USERS)));\n    }\n\n    if (\n      [\n        ReleaseComparisonChartType.SESSION_COUNT,\n        ReleaseComparisonChartType.USER_COUNT,\n        ReleaseComparisonChartType.ERROR_COUNT,\n        ReleaseComparisonChartType.TRANSACTION_COUNT,\n      ].includes(chartInUrl)\n    ) {\n      setIsOtherExpanded(true);\n    }\n  }, [location.query.chart]);\n\n  const fetchEventsTotals = useCallback(async () => {\n    const url = `/organizations/${organization.slug}/events/`;\n    const commonQuery = {\n      environment: decodeList(location.query.environment),\n      project: decodeList(location.query.project),\n      start,\n      end,\n      ...(period ? {statsPeriod: period} : {}),\n    };\n\n    setEventsLoading(true);\n\n    try {\n      const [\n        releaseTransactionTotals,\n        allTransactionTotals,\n        releaseErrorTotals,\n        allErrorTotals,\n      ] = await Promise.all([\n        api.requestPromise(url, {\n          query: {\n            field: ['failure_rate()', 'count()'],\n            query: new MutableSearch([\n              'event.type:transaction',\n              `release:${release.version}`,\n            ]).formatString(),\n            ...commonQuery,\n          },\n        }),\n        api.requestPromise(url, {\n          query: {\n            field: ['failure_rate()', 'count()'],\n            query: new MutableSearch(['event.type:transaction']).formatString(),\n            ...commonQuery,\n          },\n        }),\n        api.requestPromise(url, {\n          query: {\n            field: ['count()'],\n            query: new MutableSearch([\n              'event.type:error',\n              `release:${release.version}`,\n            ]).formatString(),\n            ...commonQuery,\n          },\n        }),\n        api.requestPromise(url, {\n          query: {\n            field: ['count()'],\n            query: new MutableSearch(['event.type:error']).formatString(),\n            ...commonQuery,\n          },\n        }),\n      ]);\n\n      setEventsTotals({\n        allErrorCount: allErrorTotals.data[0]['count()'],\n        releaseErrorCount: releaseErrorTotals.data[0]['count()'],\n        allTransactionCount: allTransactionTotals.data[0]['count()'],\n        releaseTransactionCount: releaseTransactionTotals.data[0]['count()'],\n        releaseFailureRate: releaseTransactionTotals.data[0]['failure_rate()'],\n        allFailureRate: allTransactionTotals.data[0]['failure_rate()'],\n      });\n      setEventsLoading(false);\n    } catch (err) {\n      setEventsTotals(null);\n      setEventsLoading(false);\n      Sentry.captureException(err);\n    }\n  }, [\n    api,\n    end,\n    location.query.environment,\n    location.query.project,\n    organization.slug,\n    period,\n    release.version,\n    start,\n  ]);\n\n  const fetchIssuesTotals = useCallback(async () => {\n    const UNHANDLED_QUERY = `release:\"${release.version}\" error.handled:0`;\n    const HANDLED_QUERY = `release:\"${release.version}\" error.handled:1`;\n\n    try {\n      const response = await api.requestPromise(\n        `/organizations/${organization.slug}/issues-count/`,\n        {\n          query: {\n            project: project.id,\n            environment: decodeList(location.query.environment),\n            start,\n            end,\n            ...(period ? {statsPeriod: period} : {}),\n            query: [UNHANDLED_QUERY, HANDLED_QUERY],\n          },\n        }\n      );\n\n      setIssuesTotals({\n        handled: response[HANDLED_QUERY] ?? 0,\n        unhandled: response[UNHANDLED_QUERY] ?? 0,\n      });\n    } catch (err) {\n      setIssuesTotals(null);\n      Sentry.captureException(err);\n    }\n  }, [\n    api,\n    end,\n    location.query.environment,\n    organization.slug,\n    period,\n    project.id,\n    release.version,\n    start,\n  ]);\n\n  useEffect(() => {\n    if (hasDiscover || hasPerformance) {\n      fetchEventsTotals();\n      fetchIssuesTotals();\n    }\n  }, [fetchEventsTotals, fetchIssuesTotals, hasDiscover, hasPerformance]);\n\n  const releaseCrashFreeSessions = getCrashFreeRate(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.SESSIONS\n  );\n  const allCrashFreeSessions = getCrashFreeRate(\n    allSessions?.groups,\n    SessionFieldWithOperation.SESSIONS\n  );\n  const diffCrashFreeSessions =\n    defined(releaseCrashFreeSessions) && defined(allCrashFreeSessions)\n      ? releaseCrashFreeSessions - allCrashFreeSessions\n      : null;\n\n  const releaseHealthySessions = getSessionStatusRate(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.SESSIONS,\n    SessionStatus.HEALTHY\n  );\n  const allHealthySessions = getSessionStatusRate(\n    allSessions?.groups,\n    SessionFieldWithOperation.SESSIONS,\n    SessionStatus.HEALTHY\n  );\n  const diffHealthySessions =\n    defined(releaseHealthySessions) && defined(allHealthySessions)\n      ? releaseHealthySessions - allHealthySessions\n      : null;\n\n  const releaseAbnormalSessions = getSessionStatusRate(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.SESSIONS,\n    SessionStatus.ABNORMAL\n  );\n  const allAbnormalSessions = getSessionStatusRate(\n    allSessions?.groups,\n    SessionFieldWithOperation.SESSIONS,\n    SessionStatus.ABNORMAL\n  );\n  const diffAbnormalSessions =\n    defined(releaseAbnormalSessions) && defined(allAbnormalSessions)\n      ? releaseAbnormalSessions - allAbnormalSessions\n      : null;\n\n  const releaseErroredSessions = getSessionStatusRate(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.SESSIONS,\n    SessionStatus.ERRORED\n  );\n  const allErroredSessions = getSessionStatusRate(\n    allSessions?.groups,\n    SessionFieldWithOperation.SESSIONS,\n    SessionStatus.ERRORED\n  );\n  const diffErroredSessions =\n    defined(releaseErroredSessions) && defined(allErroredSessions)\n      ? releaseErroredSessions - allErroredSessions\n      : null;\n\n  const releaseCrashedSessions = getSessionStatusRate(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.SESSIONS,\n    SessionStatus.CRASHED\n  );\n  const allCrashedSessions = getSessionStatusRate(\n    allSessions?.groups,\n    SessionFieldWithOperation.SESSIONS,\n    SessionStatus.CRASHED\n  );\n  const diffCrashedSessions =\n    defined(releaseCrashedSessions) && defined(allCrashedSessions)\n      ? releaseCrashedSessions - allCrashedSessions\n      : null;\n\n  const releaseCrashFreeUsers = getCrashFreeRate(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.USERS\n  );\n  const allCrashFreeUsers = getCrashFreeRate(\n    allSessions?.groups,\n    SessionFieldWithOperation.USERS\n  );\n  const diffCrashFreeUsers =\n    defined(releaseCrashFreeUsers) && defined(allCrashFreeUsers)\n      ? releaseCrashFreeUsers - allCrashFreeUsers\n      : null;\n\n  const releaseHealthyUsers = getSessionStatusRate(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.USERS,\n    SessionStatus.HEALTHY\n  );\n  const allHealthyUsers = getSessionStatusRate(\n    allSessions?.groups,\n    SessionFieldWithOperation.USERS,\n    SessionStatus.HEALTHY\n  );\n  const diffHealthyUsers =\n    defined(releaseHealthyUsers) && defined(allHealthyUsers)\n      ? releaseHealthyUsers - allHealthyUsers\n      : null;\n\n  const releaseAbnormalUsers = getSessionStatusRate(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.USERS,\n    SessionStatus.ABNORMAL\n  );\n  const allAbnormalUsers = getSessionStatusRate(\n    allSessions?.groups,\n    SessionFieldWithOperation.USERS,\n    SessionStatus.ABNORMAL\n  );\n  const diffAbnormalUsers =\n    defined(releaseAbnormalUsers) && defined(allAbnormalUsers)\n      ? releaseAbnormalUsers - allAbnormalUsers\n      : null;\n\n  const releaseErroredUsers = getSessionStatusRate(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.USERS,\n    SessionStatus.ERRORED\n  );\n  const allErroredUsers = getSessionStatusRate(\n    allSessions?.groups,\n    SessionFieldWithOperation.USERS,\n    SessionStatus.ERRORED\n  );\n  const diffErroredUsers =\n    defined(releaseErroredUsers) && defined(allErroredUsers)\n      ? releaseErroredUsers - allErroredUsers\n      : null;\n\n  const releaseCrashedUsers = getSessionStatusRate(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.USERS,\n    SessionStatus.CRASHED\n  );\n  const allCrashedUsers = getSessionStatusRate(\n    allSessions?.groups,\n    SessionFieldWithOperation.USERS,\n    SessionStatus.CRASHED\n  );\n  const diffCrashedUsers =\n    defined(releaseCrashedUsers) && defined(allCrashedUsers)\n      ? releaseCrashedUsers - allCrashedUsers\n      : null;\n\n  const releaseSessionsCount = getCount(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.SESSIONS\n  );\n  const allSessionsCount = getCount(\n    allSessions?.groups,\n    SessionFieldWithOperation.SESSIONS\n  );\n\n  const releaseUsersCount = getCount(\n    releaseSessions?.groups,\n    SessionFieldWithOperation.USERS\n  );\n  const allUsersCount = getCount(allSessions?.groups, SessionFieldWithOperation.USERS);\n\n  const sessionDurationTotal = roundDuration(\n    (getSeriesAverage(releaseSessions?.groups, SessionFieldWithOperation.DURATION) ?? 0) /\n      1000\n  );\n  const allSessionDurationTotal = roundDuration(\n    (getSeriesAverage(allSessions?.groups, SessionFieldWithOperation.DURATION) ?? 0) /\n      1000\n  );\n\n  const diffFailure =\n    eventsTotals?.releaseFailureRate && eventsTotals?.allFailureRate\n      ? eventsTotals.releaseFailureRate - eventsTotals.allFailureRate\n      : null;\n\n  if (hasHealthData) {\n    charts.push({\n      type: ReleaseComparisonChartType.CRASH_FREE_SESSIONS,\n      role: 'parent',\n      drilldown: null,\n      thisRelease: defined(releaseCrashFreeSessions)\n        ? displaySessionStatusPercent(releaseCrashFreeSessions)\n        : null,\n      allReleases: defined(allCrashFreeSessions)\n        ? displaySessionStatusPercent(allCrashFreeSessions)\n        : null,\n      diff: defined(diffCrashFreeSessions)\n        ? displaySessionStatusPercent(diffCrashFreeSessions)\n        : null,\n      diffDirection: diffCrashFreeSessions\n        ? diffCrashFreeSessions > 0\n          ? 'up'\n          : 'down'\n        : null,\n      diffColor: diffCrashFreeSessions\n        ? diffCrashFreeSessions > 0\n          ? 'green300'\n          : 'red300'\n        : null,\n    });\n    if (expanded.has(ReleaseComparisonChartType.CRASH_FREE_SESSIONS)) {\n      charts.push(\n        {\n          type: ReleaseComparisonChartType.HEALTHY_SESSIONS,\n          role: 'children',\n          drilldown: null,\n          thisRelease: defined(releaseHealthySessions)\n            ? displaySessionStatusPercent(releaseHealthySessions)\n            : null,\n          allReleases: defined(allHealthySessions)\n            ? displaySessionStatusPercent(allHealthySessions)\n            : null,\n          diff: defined(diffHealthySessions)\n            ? displaySessionStatusPercent(diffHealthySessions)\n            : null,\n          diffDirection: diffHealthySessions\n            ? diffHealthySessions > 0\n              ? 'up'\n              : 'down'\n            : null,\n          diffColor: diffHealthySessions\n            ? diffHealthySessions > 0\n              ? 'green300'\n              : 'red300'\n            : null,\n        },\n        {\n          type: ReleaseComparisonChartType.ABNORMAL_SESSIONS,\n          role: 'children',\n          drilldown: null,\n          thisRelease: defined(releaseAbnormalSessions)\n            ? displaySessionStatusPercent(releaseAbnormalSessions)\n            : null,\n          allReleases: defined(allAbnormalSessions)\n            ? displaySessionStatusPercent(allAbnormalSessions)\n            : null,\n          diff: defined(diffAbnormalSessions)\n            ? displaySessionStatusPercent(diffAbnormalSessions)\n            : null,\n          diffDirection: diffAbnormalSessions\n            ? diffAbnormalSessions > 0\n              ? 'up'\n              : 'down'\n            : null,\n          diffColor: diffAbnormalSessions\n            ? diffAbnormalSessions > 0\n              ? 'red300'\n              : 'green300'\n            : null,\n        },\n        {\n          type: ReleaseComparisonChartType.ERRORED_SESSIONS,\n          role: 'children',\n          drilldown: defined(issuesTotals?.handled) ? (\n            <Tooltip title={t('Open in Issues')}>\n              <GlobalSelectionLink\n                to={getReleaseHandledIssuesUrl(\n                  organization.slug,\n                  project.id,\n                  release.version,\n                  {start, end, period: period ?? undefined}\n                )}\n              >\n                {tct('([count] handled [issues])', {\n                  count: issuesTotals?.handled\n                    ? issuesTotals.handled >= 100\n                      ? '99+'\n                      : issuesTotals.handled\n                    : 0,\n                  issues: tn('issue', 'issues', issuesTotals?.handled),\n                })}\n              </GlobalSelectionLink>\n            </Tooltip>\n          ) : null,\n          thisRelease: defined(releaseErroredSessions)\n            ? displaySessionStatusPercent(releaseErroredSessions)\n            : null,\n          allReleases: defined(allErroredSessions)\n            ? displaySessionStatusPercent(allErroredSessions)\n            : null,\n          diff: defined(diffErroredSessions)\n            ? displaySessionStatusPercent(diffErroredSessions)\n            : null,\n          diffDirection: diffErroredSessions\n            ? diffErroredSessions > 0\n              ? 'up'\n              : 'down'\n            : null,\n          diffColor: diffErroredSessions\n            ? diffErroredSessions > 0\n              ? 'red300'\n              : 'green300'\n            : null,\n        },\n        {\n          type: ReleaseComparisonChartType.CRASHED_SESSIONS,\n          role: 'default',\n          drilldown: defined(issuesTotals?.unhandled) ? (\n            <Tooltip title={t('Open in Issues')}>\n              <GlobalSelectionLink\n                to={getReleaseUnhandledIssuesUrl(\n                  organization.slug,\n                  project.id,\n                  release.version,\n                  {start, end, period: period ?? undefined}\n                )}\n              >\n                {tct('([count] unhandled [issues])', {\n                  count: issuesTotals?.unhandled\n                    ? issuesTotals.unhandled >= 100\n                      ? '99+'\n                      : issuesTotals.unhandled\n                    : 0,\n                  issues: tn('issue', 'issues', issuesTotals?.unhandled),\n                })}\n              </GlobalSelectionLink>\n            </Tooltip>\n          ) : null,\n          thisRelease: defined(releaseCrashedSessions)\n            ? displaySessionStatusPercent(releaseCrashedSessions)\n            : null,\n          allReleases: defined(allCrashedSessions)\n            ? displaySessionStatusPercent(allCrashedSessions)\n            : null,\n          diff: defined(diffCrashedSessions)\n            ? displaySessionStatusPercent(diffCrashedSessions)\n            : null,\n          diffDirection: diffCrashedSessions\n            ? diffCrashedSessions > 0\n              ? 'up'\n              : 'down'\n            : null,\n          diffColor: diffCrashedSessions\n            ? diffCrashedSessions > 0\n              ? 'red300'\n              : 'green300'\n            : null,\n        }\n      );\n    }\n  }\n\n  const hasUsers = !!getCount(releaseSessions?.groups, SessionFieldWithOperation.USERS);\n  if (hasHealthData && (hasUsers || loading)) {\n    charts.push({\n      type: ReleaseComparisonChartType.CRASH_FREE_USERS,\n      role: 'parent',\n      drilldown: null,\n      thisRelease: defined(releaseCrashFreeUsers)\n        ? displaySessionStatusPercent(releaseCrashFreeUsers)\n        : null,\n      allReleases: defined(allCrashFreeUsers)\n        ? displaySessionStatusPercent(allCrashFreeUsers)\n        : null,\n      diff: defined(diffCrashFreeUsers)\n        ? displaySessionStatusPercent(diffCrashFreeUsers)\n        : null,\n      diffDirection: diffCrashFreeUsers ? (diffCrashFreeUsers > 0 ? 'up' : 'down') : null,\n      diffColor: diffCrashFreeUsers\n        ? diffCrashFreeUsers > 0\n          ? 'green300'\n          : 'red300'\n        : null,\n    });\n    if (expanded.has(ReleaseComparisonChartType.CRASH_FREE_USERS)) {\n      charts.push(\n        {\n          type: ReleaseComparisonChartType.HEALTHY_USERS,\n          role: 'children',\n          drilldown: null,\n          thisRelease: defined(releaseHealthyUsers)\n            ? displaySessionStatusPercent(releaseHealthyUsers)\n            : null,\n          allReleases: defined(allHealthyUsers)\n            ? displaySessionStatusPercent(allHealthyUsers)\n            : null,\n          diff: defined(diffHealthyUsers)\n            ? displaySessionStatusPercent(diffHealthyUsers)\n            : null,\n          diffDirection: diffHealthyUsers ? (diffHealthyUsers > 0 ? 'up' : 'down') : null,\n          diffColor: diffHealthyUsers\n            ? diffHealthyUsers > 0\n              ? 'green300'\n              : 'red300'\n            : null,\n        },\n        {\n          type: ReleaseComparisonChartType.ABNORMAL_USERS,\n          role: 'children',\n          drilldown: null,\n          thisRelease: defined(releaseAbnormalUsers)\n            ? displaySessionStatusPercent(releaseAbnormalUsers)\n            : null,\n          allReleases: defined(allAbnormalUsers)\n            ? displaySessionStatusPercent(allAbnormalUsers)\n            : null,\n          diff: defined(diffAbnormalUsers)\n            ? displaySessionStatusPercent(diffAbnormalUsers)\n            : null,\n          diffDirection: diffAbnormalUsers\n            ? diffAbnormalUsers > 0\n              ? 'up'\n              : 'down'\n            : null,\n          diffColor: diffAbnormalUsers\n            ? diffAbnormalUsers > 0\n              ? 'red300'\n              : 'green300'\n            : null,\n        },\n        {\n          type: ReleaseComparisonChartType.ERRORED_USERS,\n          role: 'children',\n          drilldown: null,\n          thisRelease: defined(releaseErroredUsers)\n            ? displaySessionStatusPercent(releaseErroredUsers)\n            : null,\n          allReleases: defined(allErroredUsers)\n            ? displaySessionStatusPercent(allErroredUsers)\n            : null,\n          diff: defined(diffErroredUsers)\n            ? displaySessionStatusPercent(diffErroredUsers)\n            : null,\n          diffDirection: diffErroredUsers ? (diffErroredUsers > 0 ? 'up' : 'down') : null,\n          diffColor: diffErroredUsers\n            ? diffErroredUsers > 0\n              ? 'red300'\n              : 'green300'\n            : null,\n        },\n        {\n          type: ReleaseComparisonChartType.CRASHED_USERS,\n          role: 'default',\n          drilldown: null,\n          thisRelease: defined(releaseCrashedUsers)\n            ? displaySessionStatusPercent(releaseCrashedUsers)\n            : null,\n          allReleases: defined(allCrashedUsers)\n            ? displaySessionStatusPercent(allCrashedUsers)\n            : null,\n          diff: defined(diffCrashedUsers)\n            ? displaySessionStatusPercent(diffCrashedUsers)\n            : null,\n          diffDirection: diffCrashedUsers ? (diffCrashedUsers > 0 ? 'up' : 'down') : null,\n          diffColor: diffCrashedUsers\n            ? diffCrashedUsers > 0\n              ? 'red300'\n              : 'green300'\n            : null,\n        }\n      );\n    }\n  }\n\n  if (hasPerformance) {\n    charts.push({\n      type: ReleaseComparisonChartType.FAILURE_RATE,\n      role: 'default',\n      drilldown: null,\n      thisRelease: eventsTotals?.releaseFailureRate\n        ? formatPercentage(eventsTotals?.releaseFailureRate)\n        : null,\n      allReleases: eventsTotals?.allFailureRate\n        ? formatPercentage(eventsTotals?.allFailureRate)\n        : null,\n      diff: diffFailure ? formatPercentage(Math.abs(diffFailure)) : null,\n      diffDirection: diffFailure ? (diffFailure > 0 ? 'up' : 'down') : null,\n      diffColor: diffFailure ? (diffFailure > 0 ? 'red300' : 'green300') : null,\n    });\n  }\n\n  if (hasHealthData) {\n    charts.push({\n      type: ReleaseComparisonChartType.SESSION_DURATION,\n      role: 'default',\n      drilldown: null,\n      thisRelease: defined(sessionDurationTotal) ? (\n        <Duration seconds={sessionDurationTotal} abbreviation />\n      ) : null,\n      allReleases: defined(allSessionDurationTotal) ? (\n        <Duration seconds={allSessionDurationTotal} abbreviation />\n      ) : null,\n      diff: null,\n      diffDirection: null,\n      diffColor: null,\n    });\n    additionalCharts.push({\n      type: ReleaseComparisonChartType.SESSION_COUNT,\n      role: 'default',\n      drilldown: null,\n      thisRelease: defined(releaseSessionsCount) ? (\n        <Count value={releaseSessionsCount} />\n      ) : null,\n      allReleases: defined(allSessionsCount) ? <Count value={allSessionsCount} /> : null,\n      diff: null,\n      diffDirection: null,\n      diffColor: null,\n    });\n    if (hasUsers || loading) {\n      additionalCharts.push({\n        type: ReleaseComparisonChartType.USER_COUNT,\n        role: 'default',\n        drilldown: null,\n        thisRelease: defined(releaseUsersCount) ? (\n          <Count value={releaseUsersCount} />\n        ) : null,\n        allReleases: defined(allUsersCount) ? <Count value={allUsersCount} /> : null,\n        diff: null,\n        diffDirection: null,\n        diffColor: null,\n      });\n    }\n  }\n\n  if (hasDiscover) {\n    additionalCharts.push({\n      type: ReleaseComparisonChartType.ERROR_COUNT,\n      role: 'default',\n      drilldown: null,\n      thisRelease: defined(eventsTotals?.releaseErrorCount) ? (\n        <Count value={eventsTotals?.releaseErrorCount!} />\n      ) : null,\n      allReleases: defined(eventsTotals?.allErrorCount) ? (\n        <Count value={eventsTotals?.allErrorCount!} />\n      ) : null,\n      diff: null,\n      diffDirection: null,\n      diffColor: null,\n    });\n  }\n\n  if (hasPerformance) {\n    additionalCharts.push({\n      type: ReleaseComparisonChartType.TRANSACTION_COUNT,\n      role: 'default',\n      drilldown: null,\n      thisRelease: defined(eventsTotals?.releaseTransactionCount) ? (\n        <Count value={eventsTotals?.releaseTransactionCount!} />\n      ) : null,\n      allReleases: defined(eventsTotals?.allTransactionCount) ? (\n        <Count value={eventsTotals?.allTransactionCount!} />\n      ) : null,\n      diff: null,\n      diffDirection: null,\n      diffColor: null,\n    });\n  }\n\n  function handleChartChange(chartType: ReleaseComparisonChartType) {\n    browserHistory.push({\n      ...location,\n      query: {\n        ...location.query,\n        chart: chartType,\n      },\n    });\n  }\n\n  function handleExpanderToggle(chartType: ReleaseComparisonChartType) {\n    if (expanded.has(chartType)) {\n      expanded.delete(chartType);\n      setExpanded(new Set(expanded));\n    } else {\n      setExpanded(new Set(expanded.add(chartType)));\n    }\n  }\n\n  function getTableHeaders(withExpanders: boolean) {\n    const headers = [\n      <DescriptionCell key=\"description\">{t('Description')}</DescriptionCell>,\n      <Cell key=\"releases\">{t('All Releases')}</Cell>,\n      <Cell key=\"release\">{t('This Release')}</Cell>,\n      <Cell key=\"change\">{t('Change')}</Cell>,\n    ];\n    if (withExpanders) {\n      headers.push(<Cell key=\"expanders\" />);\n    }\n    return headers;\n  }\n\n  function getChartDiff(\n    diff: ReleaseComparisonRow['diff'],\n    diffColor: ReleaseComparisonRow['diffColor'],\n    diffDirection: ReleaseComparisonRow['diffDirection']\n  ) {\n    return diff ? (\n      <Change color={defined(diffColor) ? diffColor : undefined}>\n        {diff}{' '}\n        {defined(diffDirection) ? (\n          <IconArrow direction={diffDirection} size=\"xs\" />\n        ) : diff === '0%' ? null : (\n          <StyledNotAvailable />\n        )}\n      </Change>\n    ) : null;\n  }\n\n  // if there are no sessions, we do not need to do row toggling because there won't be as many rows\n  if (!hasHealthData) {\n    charts.push(...additionalCharts);\n    additionalCharts.splice(0, additionalCharts.length);\n  }\n\n  let activeChart = decodeScalar(\n    location.query.chart,\n    hasHealthData\n      ? ReleaseComparisonChartType.CRASH_FREE_SESSIONS\n      : hasPerformance\n      ? ReleaseComparisonChartType.FAILURE_RATE\n      : ReleaseComparisonChartType.ERROR_COUNT\n  ) as ReleaseComparisonChartType;\n\n  let chart = [...charts, ...additionalCharts].find(ch => ch.type === activeChart);\n\n  if (!chart) {\n    chart = charts[0];\n    activeChart = charts[0].type;\n  }\n\n  const showPlaceholders = loading || eventsLoading;\n  const withExpanders = hasHealthData || additionalCharts.length > 0;\n\n  if (errored || !chart) {\n    return (\n      <Panel>\n        <ErrorPanel>\n          <IconWarning color=\"gray300\" size=\"lg\" />\n        </ErrorPanel>\n      </Panel>\n    );\n  }\n\n  const titleChartDiff =\n    chart.diff !== '0%' && chart.thisRelease !== '0%'\n      ? getChartDiff(chart.diff, chart.diffColor, chart.diffDirection)\n      : null;\n\n  function renderChartRow({\n    diff,\n    diffColor,\n    diffDirection,\n    ...rest\n  }: ReleaseComparisonRow) {\n    return (\n      <ReleaseComparisonChartRow\n        {...rest}\n        key={rest.type}\n        diff={diff}\n        showPlaceholders={showPlaceholders}\n        activeChart={activeChart}\n        onChartChange={handleChartChange}\n        chartDiff={getChartDiff(diff, diffColor, diffDirection)}\n        onExpanderToggle={handleExpanderToggle}\n        expanded={expanded.has(rest.type)}\n        withExpanders={withExpanders}\n      />\n    );\n  }\n\n  return (\n    <Fragment>\n      <ChartPanel>\n        <ChartContainer>\n          {[\n            ReleaseComparisonChartType.ERROR_COUNT,\n            ReleaseComparisonChartType.TRANSACTION_COUNT,\n            ReleaseComparisonChartType.FAILURE_RATE,\n          ].includes(activeChart)\n            ? getDynamicText({\n                value: (\n                  <ReleaseEventsChart\n                    release={release}\n                    project={project}\n                    chartType={activeChart}\n                    period={period ?? undefined}\n                    start={start}\n                    end={end}\n                    utc={utc === 'true'}\n                    value={chart.thisRelease}\n                    diff={titleChartDiff}\n                  />\n                ),\n                fixed: 'Events Chart',\n              })\n            : getDynamicText({\n                value: (\n                  <ReleaseSessionsChart\n                    releaseSessions={releaseSessions}\n                    allSessions={allSessions}\n                    release={release}\n                    project={project}\n                    chartType={activeChart}\n                    platform={platform}\n                    period={period ?? undefined}\n                    start={start}\n                    end={end}\n                    utc={utc === 'true'}\n                    value={chart.thisRelease}\n                    diff={titleChartDiff}\n                    loading={loading}\n                    reloading={reloading}\n                  />\n                ),\n                fixed: 'Sessions Chart',\n              })}\n        </ChartContainer>\n      </ChartPanel>\n      <ChartTable\n        headers={getTableHeaders(withExpanders)}\n        data-test-id=\"release-comparison-table\"\n        withExpanders={withExpanders}\n      >\n        {charts.map(chartRow => renderChartRow(chartRow))}\n        {isOtherExpanded && additionalCharts.map(chartRow => renderChartRow(chartRow))}\n        {additionalCharts.length > 0 && (\n          <ShowMoreWrapper onClick={() => setIsOtherExpanded(!isOtherExpanded)}>\n            <ShowMoreTitle>\n              <IconList size=\"xs\" />\n              {isOtherExpanded\n                ? tn('Hide %s Other', 'Hide %s Others', additionalCharts.length)\n                : tn('Show %s Other', 'Show %s Others', additionalCharts.length)}\n            </ShowMoreTitle>\n            <ShowMoreButton>\n              <Button\n                borderless\n                size=\"zero\"\n                icon={<IconChevron direction={isOtherExpanded ? 'up' : 'down'} />}\n                aria-label={t('Toggle additional charts')}\n              />\n            </ShowMoreButton>\n          </ShowMoreWrapper>\n        )}\n      </ChartTable>\n    </Fragment>\n  );\n}\n\nconst ChartPanel = styled(Panel)`\n  margin-bottom: 0;\n  border-bottom-left-radius: 0;\n  border-bottom: none;\n  border-bottom-right-radius: 0;\n`;\n\nconst Cell = styled('div')`\n  text-align: right;\n  ${p => p.theme.overflowEllipsis}\n`;\n\nconst DescriptionCell = styled(Cell)`\n  text-align: left;\n  overflow: visible;\n`;\n\nconst Change = styled('div')<{color?: Color}>`\n  font-size: ${p => p.theme.fontSizeMedium};\n  ${p => p.color && `color: ${p.theme[p.color]}`}\n`;\n\nconst ChartTable = styled(PanelTable)<{withExpanders: boolean}>`\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  grid-template-columns: minmax(400px, auto) repeat(3, minmax(min-content, 1fr)) ${p =>\n      p.withExpanders ? '75px' : ''};\n\n  > * {\n    border-bottom: 1px solid ${p => p.theme.border};\n  }\n\n  @media (max-width: ${p => p.theme.breakpoints.large}) {\n    grid-template-columns: repeat(4, minmax(min-content, 1fr)) ${p =>\n        p.withExpanders ? '75px' : ''};\n  }\n`;\n\nconst StyledNotAvailable = styled(NotAvailable)`\n  display: inline-block;\n`;\n\nconst ShowMoreWrapper = styled('div')`\n  display: contents;\n  &:hover {\n    cursor: pointer;\n  }\n  > * {\n    padding: ${space(1)} ${space(2)};\n  }\n`;\n\nconst ShowMoreTitle = styled('div')`\n  color: ${p => p.theme.gray300};\n  font-size: ${p => p.theme.fontSizeMedium};\n  display: inline-grid;\n  grid-template-columns: auto auto;\n  gap: 10px;\n  align-items: center;\n  justify-content: flex-start;\n  svg {\n    margin-left: ${space(0.25)};\n  }\n`;\n\nconst ShowMoreButton = styled('div')`\n  grid-column: 2 / -1;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nexport default ReleaseComparisonChart;\n","import {css} from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport Button from 'sentry/components/button';\nimport NotAvailable from 'sentry/components/notAvailable';\nimport Placeholder from 'sentry/components/placeholder';\nimport Radio from 'sentry/components/radio';\nimport {IconChevron} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {ReleaseComparisonChartType} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nimport {releaseComparisonChartLabels} from '../../utils';\n\nimport {ReleaseComparisonRow} from '.';\n\ntype Props = Omit<ReleaseComparisonRow, 'diffDirection' | 'diffColor'> & {\n  activeChart: ReleaseComparisonChartType;\n  chartDiff: React.ReactNode;\n  expanded: boolean;\n  onChartChange: (type: ReleaseComparisonChartType) => void;\n  onExpanderToggle: (type: ReleaseComparisonChartType) => void;\n  showPlaceholders: boolean;\n  withExpanders: boolean;\n};\n\nfunction ReleaseComparisonChartRow({\n  type,\n  role,\n  drilldown,\n  thisRelease,\n  allReleases,\n  diff,\n  showPlaceholders,\n  activeChart,\n  chartDiff,\n  onChartChange,\n  onExpanderToggle,\n  expanded,\n  withExpanders,\n}: Props) {\n  return (\n    <ChartTableRow\n      htmlFor={type}\n      isActive={type === activeChart}\n      isLoading={showPlaceholders}\n      role={role}\n      expanded={expanded}\n    >\n      <DescriptionCell>\n        <TitleWrapper>\n          <Radio\n            id={type}\n            disabled={false}\n            checked={type === activeChart}\n            onChange={() => onChartChange(type)}\n          />\n          {releaseComparisonChartLabels[type]}&nbsp;{drilldown}\n        </TitleWrapper>\n      </DescriptionCell>\n      <NumericCell>\n        {showPlaceholders ? (\n          <Placeholder height=\"20px\" />\n        ) : defined(allReleases) ? (\n          allReleases\n        ) : (\n          <NotAvailable />\n        )}\n      </NumericCell>\n      <NumericCell>\n        {showPlaceholders ? (\n          <Placeholder height=\"20px\" />\n        ) : defined(thisRelease) ? (\n          thisRelease\n        ) : (\n          <NotAvailable />\n        )}\n      </NumericCell>\n      <NumericCell>\n        {showPlaceholders ? (\n          <Placeholder height=\"20px\" />\n        ) : defined(diff) ? (\n          chartDiff\n        ) : (\n          <NotAvailable />\n        )}\n      </NumericCell>\n      {withExpanders && (\n        <ExpanderCell>\n          {role === 'parent' && (\n            <ToggleButton\n              onClick={() => onExpanderToggle(type)}\n              borderless\n              size=\"zero\"\n              icon={<IconChevron direction={expanded ? 'up' : 'down'} />}\n              aria-label={t('Toggle chart group')}\n            />\n          )}\n        </ExpanderCell>\n      )}\n    </ChartTableRow>\n  );\n}\n\nconst Cell = styled('div')`\n  text-align: right;\n  color: ${p => p.theme.subText};\n  ${p => p.theme.overflowEllipsis}\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n\nconst NumericCell = styled(Cell)`\n  font-variant-numeric: tabular-nums;\n`;\n\nconst DescriptionCell = styled(Cell)`\n  text-align: left;\n  overflow: visible;\n  color: ${p => p.theme.textColor};\n`;\n\nconst ExpanderCell = styled(Cell)`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nconst TitleWrapper = styled('div')`\n  display: flex;\n  align-items: center;\n  position: relative;\n  z-index: 1;\n  background: ${p => p.theme.background};\n\n  input {\n    width: ${space(2)};\n    height: ${space(2)};\n    flex-shrink: 0;\n    background-color: ${p => p.theme.background};\n    margin-right: ${space(1)} !important;\n\n    &:checked:after {\n      width: ${space(1)};\n      height: ${space(1)};\n    }\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n`;\n\nconst ChartTableRow = styled('label')<{\n  expanded: boolean;\n  isActive: boolean;\n  isLoading: boolean;\n  role: ReleaseComparisonRow['role'];\n}>`\n  display: contents;\n  font-weight: 400;\n  margin-bottom: 0;\n\n  > * {\n    padding: ${space(1)} ${space(2)};\n  }\n\n  ${p =>\n    p.isActive &&\n    !p.isLoading &&\n    css`\n      ${Cell}, ${NumericCell}, ${DescriptionCell}, ${TitleWrapper}, ${ExpanderCell} {\n        background-color: ${p.theme.bodyBackground};\n      }\n    `}\n\n  &:hover {\n    cursor: pointer;\n    ${/* sc-selector */ Cell}, ${/* sc-selector */ NumericCell}, ${\n      /* sc-selector */ DescriptionCell\n    },${/* sc-selector */ ExpanderCell}, ${/* sc-selector */ TitleWrapper} {\n      ${p => !p.isLoading && `background-color: ${p.theme.bodyBackground}`}\n    }\n  }\n\n  ${p =>\n    (p.role === 'default' || (p.role === 'parent' && !p.expanded)) &&\n    css`\n      &:not(:last-child) {\n        ${Cell}, ${NumericCell}, ${DescriptionCell}, ${ExpanderCell} {\n          border-bottom: 1px solid ${p.theme.border};\n        }\n      }\n    `}\n\n  ${p =>\n    p.role === 'children' &&\n    css`\n      ${DescriptionCell} {\n        padding-left: 44px;\n        position: relative;\n        &:before {\n          content: '';\n          width: 15px;\n          height: 36px;\n          position: absolute;\n          top: -17px;\n          left: 24px;\n          border-bottom: 1px solid ${p.theme.border};\n          border-left: 1px solid ${p.theme.border};\n        }\n      }\n    `}\n\n    ${p =>\n    p.role === 'children' &&\n    css`\n      ${Cell}, ${NumericCell}, ${DescriptionCell}, ${ExpanderCell} {\n        padding-bottom: ${space(0.75)};\n        padding-top: ${space(0.75)};\n        border-bottom: 0;\n      }\n    `}\n`;\n\nconst ToggleButton = styled(Button)`\n  &,\n  &:hover,\n  &:focus,\n  &:active {\n    background: transparent;\n  }\n`;\n\nexport default ReleaseComparisonChartRow;\n","import {Fragment} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {withRouter, WithRouterProps} from 'react-router';\nimport {useTheme} from '@emotion/react';\nimport type {ToolboxComponentOption} from 'echarts';\n\nimport {Client} from 'sentry/api';\nimport EventsChart from 'sentry/components/charts/eventsChart';\nimport EventsRequest from 'sentry/components/charts/eventsRequest';\nimport {HeaderTitleLegend, HeaderValue} from 'sentry/components/charts/styles';\nimport {getInterval} from 'sentry/components/charts/utils';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {t} from 'sentry/locale';\nimport {\n  Organization,\n  ReleaseComparisonChartType,\n  ReleaseProject,\n  ReleaseWithHealth,\n} from 'sentry/types';\nimport {tooltipFormatter} from 'sentry/utils/discover/charts';\nimport {aggregateOutputType} from 'sentry/utils/discover/fields';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport useApi from 'sentry/utils/useApi';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport {getTermHelp, PERFORMANCE_TERM} from 'sentry/views/performance/data';\n\nimport {\n  generateReleaseMarkLines,\n  releaseComparisonChartTitles,\n  releaseMarkLinesLabels,\n} from '../../utils';\n\ntype Props = WithRouterProps & {\n  chartType: ReleaseComparisonChartType;\n  diff: React.ReactNode;\n  organization: Organization;\n  project: ReleaseProject;\n  release: ReleaseWithHealth;\n  value: React.ReactNode;\n  end?: string;\n  period?: string | null;\n  start?: string;\n  utc?: boolean;\n};\n\nfunction ReleaseEventsChart({\n  release,\n  project,\n  chartType,\n  value,\n  diff,\n  organization,\n  router,\n  period,\n  start,\n  end,\n  utc,\n  location,\n}: Props) {\n  const api = useApi();\n  const theme = useTheme();\n\n  function getColors() {\n    const colors = theme.charts.getColorPalette(14);\n    switch (chartType) {\n      case ReleaseComparisonChartType.ERROR_COUNT:\n        return [colors[12]];\n      case ReleaseComparisonChartType.TRANSACTION_COUNT:\n        return [colors[0]];\n      case ReleaseComparisonChartType.FAILURE_RATE:\n        return [colors[9]];\n      default:\n        return undefined;\n    }\n  }\n\n  function getQuery() {\n    const releaseFilter = `release:${release.version}`;\n\n    switch (chartType) {\n      case ReleaseComparisonChartType.ERROR_COUNT:\n        return new MutableSearch([\n          '!event.type:transaction',\n          releaseFilter,\n        ]).formatString();\n      case ReleaseComparisonChartType.TRANSACTION_COUNT:\n        return new MutableSearch([\n          'event.type:transaction',\n          releaseFilter,\n        ]).formatString();\n      case ReleaseComparisonChartType.FAILURE_RATE:\n        return new MutableSearch([\n          'event.type:transaction',\n          releaseFilter,\n        ]).formatString();\n      default:\n        return '';\n    }\n  }\n\n  function getField() {\n    switch (chartType) {\n      case ReleaseComparisonChartType.ERROR_COUNT:\n        return ['count()'];\n      case ReleaseComparisonChartType.TRANSACTION_COUNT:\n        return ['count()'];\n      case ReleaseComparisonChartType.FAILURE_RATE:\n        return ['failure_rate()'];\n      default:\n        return undefined;\n    }\n  }\n\n  function getYAxis() {\n    switch (chartType) {\n      case ReleaseComparisonChartType.ERROR_COUNT:\n        return 'count()';\n      case ReleaseComparisonChartType.TRANSACTION_COUNT:\n        return 'count()';\n      case ReleaseComparisonChartType.FAILURE_RATE:\n        return 'failure_rate()';\n      default:\n        return '';\n    }\n  }\n\n  function getHelp() {\n    switch (chartType) {\n      case ReleaseComparisonChartType.FAILURE_RATE:\n        return getTermHelp(organization, PERFORMANCE_TERM.FAILURE_RATE);\n      default:\n        return null;\n    }\n  }\n\n  const projects = location.query.project;\n  const environments = location.query.environment;\n  const markLines = generateReleaseMarkLines(release, project, theme, location);\n\n  return (\n    /**\n     * EventsRequest is used to fetch the second series of Failure Rate chart.\n     * First one is \"This Release\" - fetched as usual inside EventsChart\n     * component and this one is \"All Releases\" that's shoehorned in place\n     * of Previous Period via previousSeriesTransformer\n     */\n    <EventsRequest\n      organization={organization}\n      api={new Client()}\n      period={period}\n      project={projects}\n      environment={environments}\n      start={start}\n      end={end}\n      interval={getInterval({start, end, period, utc}, 'high')}\n      query=\"event.type:transaction\"\n      includePrevious={false}\n      currentSeriesNames={[t('All Releases')]}\n      yAxis={getYAxis()}\n      field={getField()}\n      confirmedQuery={chartType === ReleaseComparisonChartType.FAILURE_RATE}\n      partial\n      referrer=\"api.releases.release-details-chart\"\n    >\n      {({timeseriesData, loading, reloading}) => (\n        <EventsChart\n          query={getQuery()}\n          yAxis={getYAxis()}\n          field={getField()}\n          colors={getColors()}\n          api={api}\n          router={router}\n          organization={organization}\n          disableReleases\n          disablePrevious\n          showLegend\n          projects={projects}\n          environments={environments}\n          start={start ?? null}\n          end={end ?? null}\n          period={period}\n          utc={utc}\n          currentSeriesName={t('This Release') + (loading || reloading ? ' ' : '')} // HACK: trigger echarts rerender without remounting\n          previousSeriesName={t('All Releases')}\n          disableableSeries={[t('This Release'), t('All Releases')]}\n          chartHeader={\n            <Fragment>\n              <HeaderTitleLegend>\n                {releaseComparisonChartTitles[chartType]}\n                {getHelp() && (\n                  <QuestionTooltip size=\"sm\" position=\"top\" title={getHelp()} />\n                )}\n              </HeaderTitleLegend>\n\n              <HeaderValue>\n                {value} {diff}\n              </HeaderValue>\n            </Fragment>\n          }\n          legendOptions={{\n            right: 10,\n            top: 0,\n            textStyle: {\n              padding: [2, 0, 0, 0],\n            },\n          }}\n          chartOptions={{\n            grid: {left: '10px', right: '10px', top: '70px', bottom: '0px'},\n            tooltip: {\n              trigger: 'axis',\n              truncate: 80,\n              valueFormatter: (val: number, label?: string) => {\n                if (label && Object.values(releaseMarkLinesLabels).includes(label)) {\n                  return '';\n                }\n\n                return tooltipFormatter(val, aggregateOutputType(getYAxis()));\n              },\n            } as ToolboxComponentOption,\n          }}\n          usePageZoom\n          height={240}\n          seriesTransformer={series => [...series, ...markLines]}\n          previousSeriesTransformer={series => {\n            if (chartType === ReleaseComparisonChartType.FAILURE_RATE) {\n              return timeseriesData?.[0];\n            }\n            return series;\n          }}\n          referrer=\"api.releases.release-details-chart\"\n        />\n      )}\n    </EventsRequest>\n  );\n}\n\nexport default withOrganization(withRouter(ReleaseEventsChart));\n","import {Component} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {withRouter, WithRouterProps} from 'react-router';\nimport {withTheme} from '@emotion/react';\nimport round from 'lodash/round';\n\nimport {AreaChart, AreaChartProps} from 'sentry/components/charts/areaChart';\nimport ChartZoom from 'sentry/components/charts/chartZoom';\nimport StackedAreaChart from 'sentry/components/charts/stackedAreaChart';\nimport {HeaderTitleLegend, HeaderValue} from 'sentry/components/charts/styles';\nimport TransitionChart from 'sentry/components/charts/transitionChart';\nimport TransparentLoadingMask from 'sentry/components/charts/transparentLoadingMask';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {PlatformKey} from 'sentry/data/platformCategories';\nimport {t} from 'sentry/locale';\nimport {\n  ReleaseComparisonChartType,\n  ReleaseProject,\n  ReleaseWithHealth,\n  SessionApiResponse,\n  SessionFieldWithOperation,\n  SessionStatus,\n} from 'sentry/types';\nimport {defined} from 'sentry/utils';\nimport {getDuration, getExactDuration} from 'sentry/utils/formatters';\nimport {\n  getCountSeries,\n  getCrashFreeRateSeries,\n  getSessionP50Series,\n  getSessionStatusRateSeries,\n  initSessionsChart,\n  MINUTES_THRESHOLD_TO_DISPLAY_SECONDS,\n} from 'sentry/utils/sessions';\nimport {Theme} from 'sentry/utils/theme';\nimport {displayCrashFreePercent, roundDuration} from 'sentry/views/releases/utils';\n\nimport {\n  generateReleaseMarkLines,\n  releaseComparisonChartHelp,\n  releaseComparisonChartTitles,\n  releaseMarkLinesLabels,\n} from '../../utils';\n\ntype Props = {\n  allSessions: SessionApiResponse | null;\n  chartType: ReleaseComparisonChartType;\n  diff: React.ReactNode;\n  loading: boolean;\n  platform: PlatformKey;\n  project: ReleaseProject;\n  release: ReleaseWithHealth;\n  releaseSessions: SessionApiResponse | null;\n  reloading: boolean;\n  theme: Theme;\n  value: React.ReactNode;\n  end?: string;\n  period?: string | null;\n  start?: string;\n  utc?: boolean;\n} & WithRouterProps;\n\nclass ReleaseSessionsChart extends Component<Props> {\n  formatTooltipValue = (value: string | number | null, label?: string) => {\n    if (label && Object.values(releaseMarkLinesLabels).includes(label)) {\n      return '';\n    }\n\n    const {chartType} = this.props;\n    if (value === null) {\n      return '\\u2015';\n    }\n\n    switch (chartType) {\n      case ReleaseComparisonChartType.CRASH_FREE_SESSIONS:\n      case ReleaseComparisonChartType.HEALTHY_SESSIONS:\n      case ReleaseComparisonChartType.ABNORMAL_SESSIONS:\n      case ReleaseComparisonChartType.ERRORED_SESSIONS:\n      case ReleaseComparisonChartType.CRASHED_SESSIONS:\n      case ReleaseComparisonChartType.CRASH_FREE_USERS:\n      case ReleaseComparisonChartType.HEALTHY_USERS:\n      case ReleaseComparisonChartType.ABNORMAL_USERS:\n      case ReleaseComparisonChartType.ERRORED_USERS:\n      case ReleaseComparisonChartType.CRASHED_USERS:\n        return defined(value) ? `${value}%` : '\\u2015';\n      case ReleaseComparisonChartType.SESSION_DURATION:\n        return defined(value) && typeof value === 'number'\n          ? getExactDuration(value, true)\n          : '\\u2015';\n      case ReleaseComparisonChartType.SESSION_COUNT:\n      case ReleaseComparisonChartType.USER_COUNT:\n      default:\n        return typeof value === 'number' ? value.toLocaleString() : value;\n    }\n  };\n\n  getYAxis() {\n    const {theme, chartType} = this.props;\n    switch (chartType) {\n      case ReleaseComparisonChartType.CRASH_FREE_SESSIONS:\n      case ReleaseComparisonChartType.CRASH_FREE_USERS:\n        return {\n          max: 100,\n          scale: true,\n          axisLabel: {\n            formatter: (value: number) => displayCrashFreePercent(value),\n            color: theme.chartLabel,\n          },\n        };\n      case ReleaseComparisonChartType.HEALTHY_SESSIONS:\n      case ReleaseComparisonChartType.ABNORMAL_SESSIONS:\n      case ReleaseComparisonChartType.ERRORED_SESSIONS:\n      case ReleaseComparisonChartType.CRASHED_SESSIONS:\n      case ReleaseComparisonChartType.HEALTHY_USERS:\n      case ReleaseComparisonChartType.ABNORMAL_USERS:\n      case ReleaseComparisonChartType.ERRORED_USERS:\n      case ReleaseComparisonChartType.CRASHED_USERS:\n        return {\n          scale: true,\n          axisLabel: {\n            formatter: (value: number) => `${round(value, 2)}%`,\n            color: theme.chartLabel,\n          },\n        };\n      case ReleaseComparisonChartType.SESSION_DURATION:\n        return {\n          scale: true,\n          axisLabel: {\n            formatter: (value: number) => getDuration(value, undefined, true),\n            color: theme.chartLabel,\n          },\n        };\n      case ReleaseComparisonChartType.SESSION_COUNT:\n      case ReleaseComparisonChartType.USER_COUNT:\n      default:\n        return undefined;\n    }\n  }\n\n  getChart():\n    | React.ComponentType<StackedAreaChart['props']>\n    | React.ComponentType<AreaChartProps> {\n    const {chartType} = this.props;\n    switch (chartType) {\n      case ReleaseComparisonChartType.CRASH_FREE_SESSIONS:\n      case ReleaseComparisonChartType.HEALTHY_SESSIONS:\n      case ReleaseComparisonChartType.ABNORMAL_SESSIONS:\n      case ReleaseComparisonChartType.ERRORED_SESSIONS:\n      case ReleaseComparisonChartType.CRASHED_SESSIONS:\n      case ReleaseComparisonChartType.CRASH_FREE_USERS:\n      case ReleaseComparisonChartType.HEALTHY_USERS:\n      case ReleaseComparisonChartType.ABNORMAL_USERS:\n      case ReleaseComparisonChartType.ERRORED_USERS:\n      case ReleaseComparisonChartType.CRASHED_USERS:\n      default:\n        return AreaChart;\n      case ReleaseComparisonChartType.SESSION_COUNT:\n      case ReleaseComparisonChartType.SESSION_DURATION:\n      case ReleaseComparisonChartType.USER_COUNT:\n        return StackedAreaChart;\n    }\n  }\n\n  getColors() {\n    const {theme, chartType} = this.props;\n    const colors = theme.charts.getColorPalette(14);\n    switch (chartType) {\n      case ReleaseComparisonChartType.CRASH_FREE_SESSIONS:\n        return [colors[0]];\n      case ReleaseComparisonChartType.HEALTHY_SESSIONS:\n        return [theme.green300];\n      case ReleaseComparisonChartType.ABNORMAL_SESSIONS:\n        return [colors[15]];\n      case ReleaseComparisonChartType.ERRORED_SESSIONS:\n        return [colors[12]];\n      case ReleaseComparisonChartType.CRASHED_SESSIONS:\n        return [theme.red300];\n      case ReleaseComparisonChartType.CRASH_FREE_USERS:\n        return [colors[6]];\n      case ReleaseComparisonChartType.HEALTHY_USERS:\n        return [theme.green300];\n      case ReleaseComparisonChartType.ABNORMAL_USERS:\n        return [colors[15]];\n      case ReleaseComparisonChartType.ERRORED_USERS:\n        return [colors[12]];\n      case ReleaseComparisonChartType.CRASHED_USERS:\n        return [theme.red300];\n      case ReleaseComparisonChartType.SESSION_COUNT:\n      case ReleaseComparisonChartType.SESSION_DURATION:\n      case ReleaseComparisonChartType.USER_COUNT:\n      default:\n        return undefined;\n    }\n  }\n\n  getSeries(chartType: ReleaseComparisonChartType) {\n    const {releaseSessions, allSessions, release, location, project, theme} = this.props;\n    const countCharts = initSessionsChart(theme);\n\n    if (!releaseSessions) {\n      return {};\n    }\n\n    const markLines = generateReleaseMarkLines(release, project, theme, location);\n\n    switch (chartType) {\n      case ReleaseComparisonChartType.CRASH_FREE_SESSIONS:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getCrashFreeRateSeries(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.SESSIONS\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getCrashFreeRateSeries(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.SESSIONS\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.HEALTHY_SESSIONS:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getSessionStatusRateSeries(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.SESSIONS,\n                SessionStatus.HEALTHY\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getSessionStatusRateSeries(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.SESSIONS,\n                SessionStatus.HEALTHY\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.ABNORMAL_SESSIONS:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getSessionStatusRateSeries(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.SESSIONS,\n                SessionStatus.ABNORMAL\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getSessionStatusRateSeries(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.SESSIONS,\n                SessionStatus.ABNORMAL\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.ERRORED_SESSIONS:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getSessionStatusRateSeries(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.SESSIONS,\n                SessionStatus.ERRORED\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getSessionStatusRateSeries(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.SESSIONS,\n                SessionStatus.ERRORED\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.CRASHED_SESSIONS:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getSessionStatusRateSeries(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.SESSIONS,\n                SessionStatus.CRASHED\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getSessionStatusRateSeries(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.SESSIONS,\n                SessionStatus.CRASHED\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.CRASH_FREE_USERS:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getCrashFreeRateSeries(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.USERS\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getCrashFreeRateSeries(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.USERS\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.HEALTHY_USERS:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getSessionStatusRateSeries(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.USERS,\n                SessionStatus.HEALTHY\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getSessionStatusRateSeries(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.USERS,\n                SessionStatus.HEALTHY\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.ABNORMAL_USERS:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getSessionStatusRateSeries(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.USERS,\n                SessionStatus.ABNORMAL\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getSessionStatusRateSeries(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.USERS,\n                SessionStatus.ABNORMAL\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.ERRORED_USERS:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getSessionStatusRateSeries(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.USERS,\n                SessionStatus.ERRORED\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getSessionStatusRateSeries(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.USERS,\n                SessionStatus.ERRORED\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.CRASHED_USERS:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getSessionStatusRateSeries(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.USERS,\n                SessionStatus.CRASHED\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getSessionStatusRateSeries(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.USERS,\n                SessionStatus.CRASHED\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.SESSION_COUNT:\n        return {\n          series: [\n            {\n              ...countCharts[SessionStatus.HEALTHY],\n              data: getCountSeries(\n                SessionFieldWithOperation.SESSIONS,\n                releaseSessions.groups.find(\n                  g => g.by['session.status'] === SessionStatus.HEALTHY\n                ),\n                releaseSessions.intervals\n              ),\n            },\n            {\n              ...countCharts[SessionStatus.ERRORED],\n              data: getCountSeries(\n                SessionFieldWithOperation.SESSIONS,\n                releaseSessions.groups.find(\n                  g => g.by['session.status'] === SessionStatus.ERRORED\n                ),\n                releaseSessions.intervals\n              ),\n            },\n            {\n              ...countCharts[SessionStatus.ABNORMAL],\n              data: getCountSeries(\n                SessionFieldWithOperation.SESSIONS,\n                releaseSessions.groups.find(\n                  g => g.by['session.status'] === SessionStatus.ABNORMAL\n                ),\n                releaseSessions.intervals\n              ),\n            },\n            {\n              ...countCharts[SessionStatus.CRASHED],\n              data: getCountSeries(\n                SessionFieldWithOperation.SESSIONS,\n                releaseSessions.groups.find(\n                  g => g.by['session.status'] === SessionStatus.CRASHED\n                ),\n                releaseSessions.intervals\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.SESSION_DURATION:\n        return {\n          series: [\n            {\n              seriesName: t('This Release'),\n              connectNulls: true,\n              data: getSessionP50Series(\n                releaseSessions?.groups,\n                releaseSessions?.intervals,\n                SessionFieldWithOperation.DURATION,\n                duration => roundDuration(duration / 1000)\n              ),\n            },\n          ],\n          previousSeries: [\n            {\n              seriesName: t('All Releases'),\n              data: getSessionP50Series(\n                allSessions?.groups,\n                allSessions?.intervals,\n                SessionFieldWithOperation.DURATION,\n                duration => roundDuration(duration / 1000)\n              ),\n            },\n          ],\n          markLines,\n        };\n      case ReleaseComparisonChartType.USER_COUNT:\n        return {\n          series: [\n            {\n              ...countCharts[SessionStatus.HEALTHY],\n              data: getCountSeries(\n                SessionFieldWithOperation.USERS,\n                releaseSessions.groups.find(\n                  g => g.by['session.status'] === SessionStatus.HEALTHY\n                ),\n                releaseSessions.intervals\n              ),\n            },\n            {\n              ...countCharts[SessionStatus.ERRORED],\n              data: getCountSeries(\n                SessionFieldWithOperation.USERS,\n                releaseSessions.groups.find(\n                  g => g.by['session.status'] === SessionStatus.ERRORED\n                ),\n                releaseSessions.intervals\n              ),\n            },\n            {\n              ...countCharts[SessionStatus.ABNORMAL],\n              data: getCountSeries(\n                SessionFieldWithOperation.USERS,\n                releaseSessions.groups.find(\n                  g => g.by['session.status'] === SessionStatus.ABNORMAL\n                ),\n                releaseSessions.intervals\n              ),\n            },\n            {\n              ...countCharts[SessionStatus.CRASHED],\n              data: getCountSeries(\n                SessionFieldWithOperation.USERS,\n                releaseSessions.groups.find(\n                  g => g.by['session.status'] === SessionStatus.CRASHED\n                ),\n                releaseSessions.intervals\n              ),\n            },\n          ],\n          markLines,\n        };\n      default:\n        return {};\n    }\n  }\n\n  render() {\n    const {chartType, router, period, start, end, utc, value, diff, loading, reloading} =\n      this.props;\n\n    const Chart = this.getChart();\n    const {series, previousSeries, markLines} = this.getSeries(chartType);\n\n    const legend = {\n      right: 10,\n      top: 0,\n      textStyle: {\n        padding: [2, 0, 0, 0],\n      },\n      data: [...(series ?? []), ...(previousSeries ?? [])].map(s => s.seriesName),\n    };\n\n    return (\n      <TransitionChart loading={loading} reloading={reloading} height=\"240px\">\n        <TransparentLoadingMask visible={reloading} />\n        <HeaderTitleLegend aria-label={t('Chart Title')}>\n          {releaseComparisonChartTitles[chartType]}\n          {releaseComparisonChartHelp[chartType] && (\n            <QuestionTooltip\n              size=\"sm\"\n              position=\"top\"\n              title={releaseComparisonChartHelp[chartType]}\n            />\n          )}\n        </HeaderTitleLegend>\n\n        <HeaderValue aria-label={t('Chart Value')}>\n          {value} {diff}\n        </HeaderValue>\n\n        <ChartZoom\n          router={router}\n          period={period}\n          utc={utc}\n          start={start}\n          end={end}\n          usePageDate\n        >\n          {zoomRenderProps => (\n            <Chart\n              legend={legend}\n              series={[...(series ?? []), ...(markLines ?? [])]}\n              previousPeriod={previousSeries ?? []}\n              {...zoomRenderProps}\n              grid={{\n                left: '10px',\n                right: '10px',\n                top: '70px',\n                bottom: '0px',\n              }}\n              minutesThresholdToDisplaySeconds={MINUTES_THRESHOLD_TO_DISPLAY_SECONDS}\n              yAxis={this.getYAxis()}\n              tooltip={{valueFormatter: this.formatTooltipValue}}\n              colors={this.getColors()}\n              transformSinglePointToBar\n              height={240}\n            />\n          )}\n        </ChartZoom>\n      </TransitionChart>\n    );\n  }\n}\n\nexport default withTheme(withRouter(ReleaseSessionsChart));\n","import {Component, Fragment} from 'react';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\nimport isEqual from 'lodash/isEqual';\nimport * as qs from 'query-string';\n\nimport {Client} from 'sentry/api';\nimport Button, {ButtonLabel} from 'sentry/components/button';\nimport ButtonBar, {ButtonGrid} from 'sentry/components/buttonBar';\nimport GroupList from 'sentry/components/issues/groupList';\nimport Pagination from 'sentry/components/pagination';\nimport QueryCount from 'sentry/components/queryCount';\nimport {DEFAULT_RELATIVE_PERIODS} from 'sentry/constants';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, PageFilters} from 'sentry/types';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport withApi from 'sentry/utils/withApi';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport {IssueSortOptions} from 'sentry/views/issueList/utils';\n\nimport {getReleaseParams, ReleaseBounds} from '../../utils';\nimport EmptyState from '../commitsAndFiles/emptyState';\n\nenum IssuesType {\n  NEW = 'new',\n  UNHANDLED = 'unhandled',\n  REGRESSED = 'regressed',\n  RESOLVED = 'resolved',\n  ALL = 'all',\n}\n\nenum IssuesQuery {\n  NEW = 'first-release',\n  UNHANDLED = 'error.handled:0',\n  REGRESSED = 'regressed_in_release',\n  RESOLVED = 'is:resolved',\n  ALL = 'release',\n}\n\ntype IssuesQueryParams = {\n  limit: number;\n  query: string;\n  sort: string;\n};\n\nconst defaultProps = {\n  withChart: false,\n};\n\ntype Props = {\n  api: Client;\n  location: Location;\n  organization: Organization;\n  releaseBounds: ReleaseBounds;\n  selection: PageFilters;\n  version: string;\n  queryFilterDescription?: string;\n} & Partial<typeof defaultProps>;\n\ntype State = {\n  count: {\n    all: number | null;\n    new: number | null;\n    regressed: number | null;\n    resolved: number | null;\n    unhandled: number | null;\n  };\n  issuesType: IssuesType;\n  onCursor?: () => void;\n  pageLinks?: string;\n};\n\nclass ReleaseIssues extends Component<Props, State> {\n  static defaultProps = defaultProps;\n  state: State = this.getInitialState();\n\n  getInitialState() {\n    const {location} = this.props;\n    const query = location.query ? location.query.issuesType : null;\n    const issuesTypeState = !query\n      ? IssuesType.NEW\n      : query.includes(IssuesType.NEW)\n      ? IssuesType.NEW\n      : query.includes(IssuesType.UNHANDLED)\n      ? IssuesType.REGRESSED\n      : query.includes(IssuesType.REGRESSED)\n      ? IssuesType.UNHANDLED\n      : query.includes(IssuesType.RESOLVED)\n      ? IssuesType.RESOLVED\n      : query.includes(IssuesType.ALL)\n      ? IssuesType.ALL\n      : IssuesType.ALL;\n\n    return {\n      issuesType: issuesTypeState,\n      count: {\n        new: null,\n        all: null,\n        resolved: null,\n        unhandled: null,\n        regressed: null,\n      },\n    };\n  }\n\n  componentDidMount() {\n    this.fetchIssuesCount();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      !isEqual(\n        getReleaseParams({\n          location: this.props.location,\n          releaseBounds: this.props.releaseBounds,\n        }),\n        getReleaseParams({\n          location: prevProps.location,\n          releaseBounds: prevProps.releaseBounds,\n        })\n      )\n    ) {\n      this.fetchIssuesCount();\n    }\n  }\n\n  getIssuesUrl() {\n    const {version, organization} = this.props;\n    const {issuesType} = this.state;\n    const {queryParams} = this.getIssuesEndpoint();\n    const query = new MutableSearch([]);\n\n    switch (issuesType) {\n      case IssuesType.NEW:\n        query.setFilterValues('firstRelease', [version]);\n        break;\n      case IssuesType.UNHANDLED:\n        query.setFilterValues('release', [version]);\n        query.setFilterValues('error.handled', ['0']);\n        break;\n      case IssuesType.REGRESSED:\n        query.setFilterValues('regressed_in_release', [version]);\n        break;\n      case IssuesType.RESOLVED:\n      case IssuesType.ALL:\n      default:\n        query.setFilterValues('release', [version]);\n    }\n\n    return {\n      pathname: `/organizations/${organization.slug}/issues/`,\n      query: {\n        ...queryParams,\n        limit: undefined,\n        cursor: undefined,\n        query: query.formatString(),\n      },\n    };\n  }\n\n  getIssuesEndpoint(): {path: string; queryParams: IssuesQueryParams} {\n    const {version, organization, location, releaseBounds} = this.props;\n    const {issuesType} = this.state;\n\n    const queryParams = {\n      ...getReleaseParams({\n        location,\n        releaseBounds,\n      }),\n      limit: 10,\n      sort: IssueSortOptions.FREQ,\n      groupStatsPeriod: 'auto',\n    };\n\n    switch (issuesType) {\n      case IssuesType.ALL:\n        return {\n          path: `/organizations/${organization.slug}/issues/`,\n          queryParams: {\n            ...queryParams,\n            query: new MutableSearch([\n              `${IssuesQuery.ALL}:${version}`,\n              'is:unresolved',\n            ]).formatString(),\n          },\n        };\n      case IssuesType.RESOLVED:\n        return {\n          path: `/organizations/${organization.slug}/releases/${encodeURIComponent(\n            version\n          )}/resolved/`,\n          queryParams: {...queryParams, query: ''},\n        };\n      case IssuesType.UNHANDLED:\n        return {\n          path: `/organizations/${organization.slug}/issues/`,\n          queryParams: {\n            ...queryParams,\n            query: new MutableSearch([\n              `${IssuesQuery.ALL}:${version}`,\n              IssuesQuery.UNHANDLED,\n              'is:unresolved',\n            ]).formatString(),\n          },\n        };\n      case IssuesType.REGRESSED:\n        return {\n          path: `/organizations/${organization.slug}/issues/`,\n          queryParams: {\n            ...queryParams,\n            query: new MutableSearch([\n              `${IssuesQuery.REGRESSED}:${version}`,\n            ]).formatString(),\n          },\n        };\n      case IssuesType.NEW:\n      default:\n        return {\n          path: `/organizations/${organization.slug}/issues/`,\n          queryParams: {\n            ...queryParams,\n            query: new MutableSearch([\n              `${IssuesQuery.NEW}:${version}`,\n              'is:unresolved',\n            ]).formatString(),\n          },\n        };\n    }\n  }\n\n  async fetchIssuesCount() {\n    const {api, organization, version} = this.props;\n    const issueCountEndpoint = this.getIssueCountEndpoint();\n    const resolvedEndpoint = `/organizations/${\n      organization.slug\n    }/releases/${encodeURIComponent(version)}/resolved/`;\n\n    try {\n      await Promise.all([\n        api.requestPromise(issueCountEndpoint),\n        api.requestPromise(resolvedEndpoint),\n      ]).then(([issueResponse, resolvedResponse]) => {\n        this.setState({\n          count: {\n            all: issueResponse[`${IssuesQuery.ALL}:\"${version}\" is:unresolved`] || 0,\n            new: issueResponse[`${IssuesQuery.NEW}:\"${version}\" is:unresolved`] || 0,\n            resolved: resolvedResponse.length,\n            unhandled:\n              issueResponse[\n                `${IssuesQuery.UNHANDLED} ${IssuesQuery.ALL}:\"${version}\" is:unresolved`\n              ] || 0,\n            regressed: issueResponse[`${IssuesQuery.REGRESSED}:\"${version}\"`] || 0,\n          },\n        });\n      });\n    } catch {\n      // do nothing\n    }\n  }\n\n  getIssueCountEndpoint() {\n    const {organization, version, location, releaseBounds} = this.props;\n    const issuesCountPath = `/organizations/${organization.slug}/issues-count/`;\n\n    const params = [\n      `${IssuesQuery.NEW}:\"${version}\" is:unresolved`,\n      `${IssuesQuery.ALL}:\"${version}\" is:unresolved`,\n      `${IssuesQuery.UNHANDLED} ${IssuesQuery.ALL}:\"${version}\" is:unresolved`,\n      `${IssuesQuery.REGRESSED}:\"${version}\"`,\n    ];\n    const queryParams = params.map(param => param);\n    const queryParameters = {\n      ...getReleaseParams({\n        location,\n        releaseBounds,\n      }),\n      query: queryParams,\n    };\n\n    return `${issuesCountPath}?${qs.stringify(queryParameters)}`;\n  }\n\n  handleIssuesTypeSelection = (issuesType: IssuesType) => {\n    const {location} = this.props;\n    const issuesTypeQuery =\n      issuesType === IssuesType.ALL\n        ? IssuesType.ALL\n        : issuesType === IssuesType.NEW\n        ? IssuesType.NEW\n        : issuesType === IssuesType.RESOLVED\n        ? IssuesType.RESOLVED\n        : issuesType === IssuesType.UNHANDLED\n        ? IssuesType.UNHANDLED\n        : issuesType === IssuesType.REGRESSED\n        ? IssuesType.REGRESSED\n        : '';\n\n    const to = {\n      ...location,\n      query: {\n        ...location.query,\n        issuesType: issuesTypeQuery,\n      },\n    };\n\n    browserHistory.replace(to);\n    this.setState({issuesType});\n  };\n\n  handleFetchSuccess = (groupListState, onCursor) => {\n    this.setState({pageLinks: groupListState.pageLinks, onCursor});\n  };\n\n  renderEmptyMessage = () => {\n    const {location, releaseBounds} = this.props;\n    const {issuesType} = this.state;\n    const isEntireReleasePeriod =\n      !location.query.pageStatsPeriod && !location.query.pageStart;\n\n    const {statsPeriod} = getReleaseParams({\n      location,\n      releaseBounds,\n    });\n\n    const selectedTimePeriod = statsPeriod ? DEFAULT_RELATIVE_PERIODS[statsPeriod] : null;\n    const displayedPeriod = selectedTimePeriod\n      ? selectedTimePeriod.toLowerCase()\n      : t('given timeframe');\n\n    return (\n      <EmptyState>\n        {issuesType === IssuesType.NEW\n          ? isEntireReleasePeriod\n            ? t('No new issues in this release.')\n            : tct('No new issues for the [timePeriod].', {\n                timePeriod: displayedPeriod,\n              })\n          : null}\n        {issuesType === IssuesType.UNHANDLED\n          ? isEntireReleasePeriod\n            ? t('No unhandled issues in this release.')\n            : tct('No unhandled issues for the [timePeriod].', {\n                timePeriod: displayedPeriod,\n              })\n          : null}\n        {issuesType === IssuesType.REGRESSED\n          ? isEntireReleasePeriod\n            ? t('No regressed issues in this release.')\n            : tct('No regressed issues for the [timePeriod].', {\n                timePeriod: displayedPeriod,\n              })\n          : null}\n        {issuesType === IssuesType.RESOLVED && t('No resolved issues in this release.')}\n        {issuesType === IssuesType.ALL\n          ? isEntireReleasePeriod\n            ? t('No issues in this release')\n            : tct('No issues for the [timePeriod].', {\n                timePeriod: displayedPeriod,\n              })\n          : null}\n      </EmptyState>\n    );\n  };\n\n  render() {\n    const {issuesType, count, pageLinks, onCursor} = this.state;\n    const {organization, queryFilterDescription, withChart} = this.props;\n    const {path, queryParams} = this.getIssuesEndpoint();\n    const issuesTypes = [\n      {value: IssuesType.ALL, label: t('All Issues'), issueCount: count.all},\n      {value: IssuesType.NEW, label: t('New Issues'), issueCount: count.new},\n      {\n        value: IssuesType.UNHANDLED,\n        label: t('Unhandled'),\n        issueCount: count.unhandled,\n      },\n      {\n        value: IssuesType.REGRESSED,\n        label: t('Regressed'),\n        issueCount: count.regressed,\n      },\n      {\n        value: IssuesType.RESOLVED,\n        label: t('Resolved'),\n        issueCount: count.resolved,\n      },\n    ];\n\n    return (\n      <Fragment>\n        <ControlsWrapper>\n          <StyledButtonBar active={issuesType} merged>\n            {issuesTypes.map(({value, label, issueCount}) => (\n              <Button\n                key={value}\n                barId={value}\n                size=\"xs\"\n                onClick={() => this.handleIssuesTypeSelection(value)}\n                data-test-id={`filter-${value}`}\n              >\n                {label}\n                <QueryCount count={issueCount} max={99} hideParens hideIfEmpty={false} />\n              </Button>\n            ))}\n          </StyledButtonBar>\n\n          <OpenInButtonBar gap={1}>\n            <Button to={this.getIssuesUrl()} size=\"xs\" data-test-id=\"issues-button\">\n              {t('Open in Issues')}\n            </Button>\n\n            <StyledPagination pageLinks={pageLinks} onCursor={onCursor} size=\"xs\" />\n          </OpenInButtonBar>\n        </ControlsWrapper>\n        <div data-test-id=\"release-wrapper\">\n          <GroupList\n            orgId={organization.slug}\n            endpointPath={path}\n            queryParams={queryParams}\n            query=\"\"\n            canSelectGroups={false}\n            queryFilterDescription={queryFilterDescription}\n            withChart={withChart}\n            narrowGroups\n            renderEmptyMessage={this.renderEmptyMessage}\n            withPagination={false}\n            onFetchSuccess={this.handleFetchSuccess}\n          />\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst ControlsWrapper = styled('div')`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-between;\n  @media (max-width: ${p => p.theme.breakpoints.small}) {\n    display: block;\n    ${ButtonGrid} {\n      overflow: auto;\n    }\n  }\n`;\n\nconst OpenInButtonBar = styled(ButtonBar)`\n  margin: ${space(1)} 0;\n`;\n\nconst StyledButtonBar = styled(ButtonBar)`\n  grid-template-columns: repeat(4, 1fr);\n  ${ButtonLabel} {\n    white-space: nowrap;\n    gap: ${space(0.5)};\n    span:last-child {\n      color: ${p => p.theme.buttonCount};\n    }\n  }\n  .active {\n    ${ButtonLabel} {\n      span:last-child {\n        color: ${p => p.theme.buttonCountActive};\n      }\n    }\n  }\n`;\n\nconst StyledPagination = styled(Pagination)`\n  margin: 0;\n`;\n\nexport default withApi(withOrganization(ReleaseIssues));\n","import styled from '@emotion/styled';\n\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport UserAvatar from 'sentry/components/avatar/userAvatar';\nimport Button from 'sentry/components/button';\nimport Collapsible from 'sentry/components/collapsible';\nimport SidebarSection from 'sentry/components/sidebarSection';\nimport {t, tn} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Commit, User} from 'sentry/types';\nimport {percent} from 'sentry/utils';\nimport {userDisplayName} from 'sentry/utils/formatters';\n\ntype GroupedAuthorCommits = {\n  [key: string]: {author: User | undefined; commitCount: number};\n};\n\ntype Props = {\n  orgId: string;\n  projectSlug: string;\n  version: string;\n} & AsyncComponent['props'];\n\ntype State = {\n  commits: Commit[];\n} & AsyncComponent['state'];\n\nclass CommitAuthorBreakdown extends AsyncComponent<Props, State> {\n  shouldReload = true;\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {orgId, projectSlug, version} = this.props;\n\n    const commitsEndpoint = `/projects/${orgId}/${projectSlug}/releases/${encodeURIComponent(\n      version\n    )}/commits/`;\n\n    return [['commits', commitsEndpoint]];\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.version !== this.props.version) {\n      this.remountComponent();\n    }\n  }\n\n  getDisplayPercent(authorCommitCount: number): string {\n    const {commits} = this.state;\n\n    const calculatedPercent = Math.round(percent(authorCommitCount, commits.length));\n\n    return `${calculatedPercent < 1 ? '<1' : calculatedPercent}%`;\n  }\n\n  renderBody() {\n    // group commits by author\n    const groupedAuthorCommits = this.state.commits?.reduce(\n      (authorCommitsAccumulator, commit) => {\n        const email = commit.author?.email ?? 'unknown';\n\n        if (authorCommitsAccumulator.hasOwnProperty(email)) {\n          authorCommitsAccumulator[email].commitCount += 1;\n        } else {\n          authorCommitsAccumulator[email] = {\n            commitCount: 1,\n            author: commit.author,\n          };\n        }\n\n        return authorCommitsAccumulator;\n      },\n      {} as GroupedAuthorCommits\n    );\n\n    // sort authors by number of commits\n    const sortedAuthorsByNumberOfCommits = Object.values(groupedAuthorCommits).sort(\n      (a, b) => b.commitCount - a.commitCount\n    );\n\n    if (!sortedAuthorsByNumberOfCommits.length) {\n      return null;\n    }\n\n    return (\n      <SidebarSection title={t('Commit Author Breakdown')}>\n        <Collapsible\n          expandButton={({onExpand, numberOfHiddenItems}) => (\n            <Button priority=\"link\" onClick={onExpand}>\n              {tn(\n                'Show %s collapsed author',\n                'Show %s collapsed authors',\n                numberOfHiddenItems\n              )}\n            </Button>\n          )}\n        >\n          {sortedAuthorsByNumberOfCommits.map(({commitCount, author}, index) => (\n            <AuthorLine key={author?.email ?? index}>\n              <UserAvatar user={author} size={20} hasTooltip />\n              <AuthorName>{userDisplayName(author || {}, false)}</AuthorName>\n              <Commits>{tn('%s commit', '%s commits', commitCount)}</Commits>\n              <Percent>{this.getDisplayPercent(commitCount)}</Percent>\n            </AuthorLine>\n          ))}\n        </Collapsible>\n      </SidebarSection>\n    );\n  }\n}\n\nconst AuthorLine = styled('div')`\n  display: inline-grid;\n  grid-template-columns: 30px 2fr 1fr 40px;\n  width: 100%;\n  margin-bottom: ${space(1)};\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n\nconst AuthorName = styled('div')`\n  color: ${p => p.theme.textColor};\n  ${p => p.theme.overflowEllipsis};\n`;\n\nconst Commits = styled('div')`\n  color: ${p => p.theme.subText};\n  text-align: right;\n`;\n\nconst Percent = styled('div')`\n  min-width: 40px;\n  text-align: right;\n`;\n\nexport default CommitAuthorBreakdown;\n","import styled from '@emotion/styled';\n\nimport DeployBadge from 'sentry/components/deployBadge';\nimport SidebarSection from 'sentry/components/sidebarSection';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport TimeSince from 'sentry/components/timeSince';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Deploy} from 'sentry/types';\n\ntype Props = {\n  deploys: Deploy[];\n  orgSlug: string;\n  projectId: number;\n  version: string;\n};\n\nconst Deploys = ({version, orgSlug, projectId, deploys}: Props) => {\n  return (\n    <SidebarSection title={t('Deploys')}>\n      {deploys.map(deploy => (\n        <Row key={deploy.id}>\n          <StyledDeployBadge\n            deploy={deploy}\n            orgSlug={orgSlug}\n            version={version}\n            projectId={projectId}\n          />\n          <TextOverflow>\n            <TimeSince date={deploy.dateFinished} />\n          </TextOverflow>\n        </Row>\n      ))}\n    </SidebarSection>\n  );\n};\n\nconst Row = styled('div')`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: ${space(1)};\n  font-size: ${p => p.theme.fontSizeMedium};\n  color: ${p => p.theme.subText};\n`;\n\nconst StyledDeployBadge = styled(DeployBadge)`\n  margin-right: ${space(1)};\n`;\n\nexport default Deploys;\n","import styled from '@emotion/styled';\nimport {Location} from 'history';\n\nimport Button from 'sentry/components/button';\nimport Collapsible from 'sentry/components/collapsible';\nimport IdBadge from 'sentry/components/idBadge';\nimport {extractSelectionParameters} from 'sentry/components/organizations/pageFilters/utils';\nimport SidebarSection from 'sentry/components/sidebarSection';\nimport {t, tn} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, ReleaseProject} from 'sentry/types';\n\ntype Props = {\n  location: Location;\n  organization: Organization;\n  projects: ReleaseProject[];\n  version: string;\n};\n\nfunction OtherProjects({projects, location, version, organization}: Props) {\n  return (\n    <SidebarSection\n      title={tn(\n        'Other Project for This Release',\n        'Other Projects for This Release',\n        projects.length\n      )}\n    >\n      <Collapsible\n        expandButton={({onExpand, numberOfHiddenItems}) => (\n          <Button priority=\"link\" onClick={onExpand}>\n            {tn(\n              'Show %s collapsed project',\n              'Show %s collapsed projects',\n              numberOfHiddenItems\n            )}\n          </Button>\n        )}\n      >\n        {projects.map(project => (\n          <Row key={project.id}>\n            <IdBadge project={project} avatarSize={16} />\n            <Button\n              size=\"xs\"\n              to={{\n                pathname: `/organizations/${\n                  organization.slug\n                }/releases/${encodeURIComponent(version)}/`,\n                query: {\n                  ...extractSelectionParameters(location.query),\n                  project: project.id,\n                  yAxis: undefined,\n                },\n              }}\n            >\n              {t('View')}\n            </Button>\n          </Row>\n        ))}\n      </Collapsible>\n    </SidebarSection>\n  );\n}\n\nconst Row = styled('div')`\n  display: grid;\n  grid-template-columns: 1fr max-content;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: ${space(0.75)};\n  font-size: ${p => p.theme.fontSizeMedium};\n\n  @media (min-width: ${p => p.theme.breakpoints.medium}) and (max-width: ${p =>\n      p.theme.breakpoints.large}) {\n    grid-template-columns: 200px max-content;\n  }\n`;\n\nexport default OtherProjects;\n","import styled from '@emotion/styled';\n\nimport Count from 'sentry/components/count';\nimport DateTime from 'sentry/components/dateTime';\nimport {KeyValueTable, KeyValueTableRow} from 'sentry/components/keyValueTable';\nimport Link from 'sentry/components/links/link';\nimport SidebarSection from 'sentry/components/sidebarSection';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport TimeSince from 'sentry/components/timeSince';\nimport Version from 'sentry/components/version';\nimport {t, tn} from 'sentry/locale';\nimport {ReleaseMeta, ReleaseWithHealth} from 'sentry/types';\n\ntype Props = {\n  orgSlug: string;\n  projectSlug: string;\n  release: ReleaseWithHealth;\n  releaseMeta: ReleaseMeta;\n};\n\nconst ProjectReleaseDetails = ({release, releaseMeta, orgSlug, projectSlug}: Props) => {\n  const {version, versionInfo, dateCreated, firstEvent, lastEvent} = release;\n\n  return (\n    <SidebarSection title={t('Project Release Details')}>\n      <KeyValueTable>\n        <KeyValueTableRow\n          keyName={t('Created')}\n          value={<DateTime date={dateCreated} seconds={false} />}\n        />\n        <KeyValueTableRow\n          keyName={t('Version')}\n          value={<Version version={version} anchor={false} />}\n        />\n        <KeyValueTableRow\n          keyName={t('Package')}\n          value={\n            <StyledTextOverflow ellipsisDirection=\"left\">\n              {versionInfo.package ?? '\\u2014'}\n            </StyledTextOverflow>\n          }\n        />\n        <KeyValueTableRow\n          keyName={t('First Event')}\n          value={firstEvent ? <TimeSince date={firstEvent} /> : '\\u2014'}\n        />\n        <KeyValueTableRow\n          keyName={t('Last Event')}\n          value={lastEvent ? <TimeSince date={lastEvent} /> : '\\u2014'}\n        />\n        <KeyValueTableRow\n          keyName={t('Source Maps')}\n          value={\n            <Link\n              to={`/settings/${orgSlug}/projects/${projectSlug}/source-maps/${encodeURIComponent(\n                version\n              )}/`}\n            >\n              <Count value={releaseMeta.releaseFileCount} />{' '}\n              {tn('artifact', 'artifacts', releaseMeta.releaseFileCount)}\n            </Link>\n          }\n        />\n      </KeyValueTable>\n    </SidebarSection>\n  );\n};\n\nconst StyledTextOverflow = styled(TextOverflow)`\n  line-height: inherit;\n  text-align: right;\n`;\n\nexport default ProjectReleaseDetails;\n","// eslint-disable-next-line no-restricted-imports\nimport {withRouter, WithRouterProps} from 'react-router';\nimport {useTheme} from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport ChartZoom from 'sentry/components/charts/chartZoom';\nimport ErrorPanel from 'sentry/components/charts/errorPanel';\nimport {LineChart, LineChartProps} from 'sentry/components/charts/lineChart';\nimport TransitionChart from 'sentry/components/charts/transitionChart';\nimport TransparentLoadingMask from 'sentry/components/charts/transparentLoadingMask';\nimport NotAvailable from 'sentry/components/notAvailable';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport SidebarSection from 'sentry/components/sidebarSection';\nimport Tag from 'sentry/components/tag';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconWarning} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {\n  ReleaseProject,\n  ReleaseWithHealth,\n  SessionApiResponse,\n  SessionFieldWithOperation,\n} from 'sentry/types';\nimport {formatAbbreviatedNumber} from 'sentry/utils/formatters';\nimport {getAdoptionSeries, getCount, getCountAtIndex} from 'sentry/utils/sessions';\n\nimport {\n  ADOPTION_STAGE_LABELS,\n  getReleaseBounds,\n  getReleaseParams,\n  isMobileRelease,\n} from '../../../utils';\nimport {generateReleaseMarkLines, releaseMarkLinesLabels} from '../../utils';\n\nconst sessionsAxisIndex = 0;\nconst usersAxisIndex = 1;\nconst axisIndexToSessionsField = {\n  [sessionsAxisIndex]: SessionFieldWithOperation.SESSIONS,\n  [usersAxisIndex]: SessionFieldWithOperation.USERS,\n};\n\ntype Props = {\n  allSessions: SessionApiResponse | null;\n  environment: string[];\n  errored: boolean;\n  loading: boolean;\n  project: ReleaseProject;\n  release: ReleaseWithHealth;\n  releaseSessions: SessionApiResponse | null;\n  reloading: boolean;\n} & WithRouterProps;\n\nfunction ReleaseAdoption({\n  release,\n  project,\n  environment,\n  releaseSessions,\n  allSessions,\n  loading,\n  reloading,\n  errored,\n  router,\n  location,\n}: Props) {\n  const theme = useTheme();\n\n  const hasUsers = !!getCount(releaseSessions?.groups, SessionFieldWithOperation.USERS);\n\n  function getSeries() {\n    if (!releaseSessions) {\n      return [];\n    }\n\n    const sessionsMarkLines = generateReleaseMarkLines(\n      release,\n      project,\n      theme,\n      location,\n      {\n        hideLabel: true,\n        axisIndex: sessionsAxisIndex,\n      }\n    );\n\n    const series = [\n      ...sessionsMarkLines,\n      {\n        seriesName: t('Sessions'),\n        connectNulls: true,\n        yAxisIndex: sessionsAxisIndex,\n        xAxisIndex: sessionsAxisIndex,\n        data: getAdoptionSeries(\n          releaseSessions.groups,\n          allSessions?.groups,\n          releaseSessions.intervals,\n          SessionFieldWithOperation.SESSIONS\n        ),\n      },\n    ];\n\n    if (hasUsers) {\n      const usersMarkLines = generateReleaseMarkLines(release, project, theme, location, {\n        hideLabel: true,\n        axisIndex: usersAxisIndex,\n      });\n\n      series.push(...usersMarkLines);\n      series.push({\n        seriesName: t('Users'),\n        connectNulls: true,\n        yAxisIndex: usersAxisIndex,\n        xAxisIndex: usersAxisIndex,\n        data: getAdoptionSeries(\n          releaseSessions.groups,\n          allSessions?.groups,\n          releaseSessions.intervals,\n          SessionFieldWithOperation.USERS\n        ),\n      });\n    }\n\n    return series;\n  }\n\n  const colors = theme.charts.getColorPalette(2);\n\n  const axisLineConfig = {\n    scale: true,\n    axisLine: {\n      show: false,\n    },\n    axisTick: {\n      show: false,\n    },\n    splitLine: {\n      show: false,\n    },\n    max: 100,\n    axisLabel: {\n      formatter: (value: number) => `${value}%`,\n      color: theme.chartLabel,\n    },\n  };\n\n  const chartOptions: Omit<LineChartProps, 'series' | 'ref'> = {\n    height: hasUsers ? 280 : 140,\n    grid: [\n      {\n        top: '40px',\n        left: '10px',\n        right: '10px',\n        height: '100px',\n      },\n      {\n        top: '180px',\n        left: '10px',\n        right: '10px',\n        height: '100px',\n      },\n    ],\n    axisPointer: {\n      // Link each x-axis together.\n      link: [{xAxisIndex: [sessionsAxisIndex, usersAxisIndex]}],\n    },\n    xAxes: Array.from(new Array(2)).map((_i, index) => ({\n      gridIndex: index,\n      type: 'time' as const,\n      show: false,\n    })),\n    yAxes: [\n      {\n        gridIndex: sessionsAxisIndex,\n        ...axisLineConfig,\n      },\n      {\n        gridIndex: usersAxisIndex,\n        ...axisLineConfig,\n      },\n    ],\n    // utc: utc === 'true', //TODO(release-comparison)\n    isGroupedByDate: true,\n    showTimeInTooltip: true,\n    colors: [colors[0], colors[1]] as string[],\n    tooltip: {\n      trigger: 'axis' as const,\n      truncate: 80,\n      valueFormatter: (value, label, seriesParams: any) => {\n        const {axisIndex, dataIndex} = seriesParams || {};\n        const absoluteCount = getCountAtIndex(\n          releaseSessions?.groups,\n          axisIndexToSessionsField[axisIndex ?? 0],\n          dataIndex ?? 0\n        );\n\n        return label && Object.values(releaseMarkLinesLabels).includes(label)\n          ? ''\n          : `<span>${formatAbbreviatedNumber(absoluteCount)} <span style=\"color: ${\n              theme.textColor\n            };margin-left: ${space(0.5)}\">${value}%</span></span>`;\n      },\n      filter: (_, seriesParam: any) => {\n        const {seriesName, axisIndex} = seriesParam;\n        // do not display tooltips for \"Users Adopted\" marklines\n        if (\n          axisIndex === usersAxisIndex &&\n          Object.values(releaseMarkLinesLabels).includes(seriesName)\n        ) {\n          return false;\n        }\n        return true;\n      },\n    },\n  };\n\n  const {\n    statsPeriod: period,\n    start,\n    end,\n    utc,\n  } = getReleaseParams({\n    location,\n    releaseBounds: getReleaseBounds(release),\n  });\n\n  const adoptionStage = release.adoptionStages?.[project.slug]?.stage;\n  const adoptionStageLabel = ADOPTION_STAGE_LABELS[adoptionStage];\n  const multipleEnvironments = environment.length === 0 || environment.length > 1;\n\n  return (\n    <div>\n      {isMobileRelease(project.platform) && (\n        <SidebarSection\n          title={t('Adoption Stage')}\n          icon={\n            multipleEnvironments && (\n              <QuestionTooltip\n                position=\"top\"\n                title={t(\n                  'See if a release has low adoption, been adopted by users, or replaced by another release. Select an environment above to view the stage this release is in.'\n                )}\n                size=\"sm\"\n              />\n            )\n          }\n        >\n          {adoptionStageLabel && !multipleEnvironments ? (\n            <div>\n              <Tooltip title={adoptionStageLabel.tooltipTitle} isHoverable>\n                <Tag type={adoptionStageLabel.type}>{adoptionStageLabel.name}</Tag>\n              </Tooltip>\n              <AdoptionEnvironment>\n                {tct(`in [environment]`, {environment})}\n              </AdoptionEnvironment>\n            </div>\n          ) : (\n            <NotAvailableWrapper>\n              <NotAvailable />\n            </NotAvailableWrapper>\n          )}\n        </SidebarSection>\n      )}\n      <RelativeBox>\n        {!loading && (\n          <ChartLabel top=\"0px\">\n            <ChartTitle\n              title={t('Sessions Adopted')}\n              icon={\n                <QuestionTooltip\n                  position=\"top\"\n                  title={t(\n                    'Adoption compares the sessions of a release with the total sessions for this project.'\n                  )}\n                  size=\"sm\"\n                />\n              }\n            />\n          </ChartLabel>\n        )}\n\n        {!loading && hasUsers && (\n          <ChartLabel top=\"140px\">\n            <ChartTitle\n              title={t('Users Adopted')}\n              icon={\n                <QuestionTooltip\n                  position=\"top\"\n                  title={t(\n                    'Adoption compares the users of a release with the total users for this project.'\n                  )}\n                  size=\"sm\"\n                />\n              }\n            />\n          </ChartLabel>\n        )}\n\n        {errored ? (\n          <ErrorPanel height=\"280px\">\n            <IconWarning color=\"gray300\" size=\"lg\" />\n          </ErrorPanel>\n        ) : (\n          <TransitionChart loading={loading} reloading={reloading} height=\"280px\">\n            <TransparentLoadingMask visible={reloading} />\n            <ChartZoom\n              router={router}\n              period={period ?? undefined}\n              utc={utc === 'true'}\n              start={start}\n              end={end}\n              usePageDate\n              xAxisIndex={[sessionsAxisIndex, usersAxisIndex]}\n            >\n              {zoomRenderProps => (\n                <LineChart\n                  {...chartOptions}\n                  {...zoomRenderProps}\n                  series={getSeries()}\n                  transformSinglePointToLine\n                />\n              )}\n            </ChartZoom>\n          </TransitionChart>\n        )}\n      </RelativeBox>\n    </div>\n  );\n}\n\nconst NotAvailableWrapper = styled('div')`\n  display: flex;\n  align-items: center;\n`;\n\nconst AdoptionEnvironment = styled('span')`\n  color: ${p => p.theme.textColor};\n  margin-left: ${space(0.5)};\n  font-size: ${p => p.theme.fontSizeSmall};\n`;\n\nconst RelativeBox = styled('div')`\n  position: relative;\n`;\n\nconst ChartTitle = styled(SidebarSection)`\n  margin: 0;\n`;\n\nconst ChartLabel = styled('div')<{top: string}>`\n  position: absolute;\n  top: ${p => p.top};\n  z-index: 1;\n  left: 0;\n  right: 0;\n`;\n\nexport default withRouter(ReleaseAdoption);\n","import styled from '@emotion/styled';\n\nimport DeployBadge from 'sentry/components/deployBadge';\nimport NotAvailable from 'sentry/components/notAvailable';\nimport SidebarSection from 'sentry/components/sidebarSection';\nimport TimeSince from 'sentry/components/timeSince';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, Release, ReleaseProject} from 'sentry/types';\n\ntype Props = {\n  organization: Organization;\n  project: Required<ReleaseProject>;\n  release: Release;\n};\n\nfunction ReleaseStats({organization, release, project}: Props) {\n  const {lastDeploy, dateCreated, version} = release;\n\n  return (\n    <Container>\n      <SidebarSection\n        title={lastDeploy?.dateFinished ? t('Date Deployed') : t('Date Created')}\n      >\n        <TimeSince date={lastDeploy?.dateFinished ?? dateCreated} />\n      </SidebarSection>\n\n      <SidebarSection title={t('Last Deploy')}>\n        {lastDeploy?.dateFinished ? (\n          <DeployBadge\n            deploy={lastDeploy}\n            orgSlug={organization.slug}\n            version={version}\n            projectId={project.id}\n          />\n        ) : (\n          <NotAvailable />\n        )}\n      </SidebarSection>\n    </Container>\n  );\n}\n\nconst Container = styled('div')`\n  display: grid;\n  grid-template-columns: 50% 50%;\n  grid-row-gap: ${space(2)};\n`;\n\nexport default ReleaseStats;\n","import styled from '@emotion/styled';\nimport {Location} from 'history';\nimport pick from 'lodash/pick';\nimport moment from 'moment';\n\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport Count from 'sentry/components/count';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport SidebarSection from 'sentry/components/sidebarSection';\nimport {URL_PARAM} from 'sentry/constants/pageFilters';\nimport {t, tn} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {CrashFreeTimeBreakdown, Organization} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nimport {displayCrashFreePercent} from '../../../utils';\n\ntype Props = AsyncComponent['props'] & {\n  location: Location;\n  organization: Organization;\n  projectSlug: string;\n  version: string;\n};\n\ntype State = AsyncComponent['state'] & {\n  releaseStats?: {usersBreakdown: CrashFreeTimeBreakdown} | null;\n};\n\nclass TotalCrashFreeUsers extends AsyncComponent<Props, State> {\n  shouldReload = true;\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {location, organization, projectSlug, version} = this.props;\n\n    return [\n      [\n        'releaseStats',\n        `/projects/${organization.slug}/${projectSlug}/releases/${encodeURIComponent(\n          version\n        )}/stats/`,\n        {\n          query: {\n            ...normalizeDateTimeParams(\n              pick(location.query, [URL_PARAM.PROJECT, URL_PARAM.ENVIRONMENT])\n            ),\n            type: 'sessions',\n          },\n        },\n      ],\n    ];\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.version !== this.props.version) {\n      this.remountComponent();\n    }\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderBody() {\n    const crashFreeTimeBreakdown = this.state.releaseStats?.usersBreakdown;\n\n    if (!crashFreeTimeBreakdown?.length) {\n      return null;\n    }\n\n    const timeline = crashFreeTimeBreakdown\n      .map(({date, crashFreeUsers, totalUsers}, index, data) => {\n        // count number of crash free users from knowing percent and total\n        const crashFreeUserCount = Math.round(((crashFreeUsers ?? 0) * totalUsers) / 100);\n        // first item of timeline is release creation date, then we want to have relative date label\n        const dateLabel =\n          index === 0\n            ? t('Release created')\n            : `${moment(data[0].date).from(date, true)} ${t('later')}`;\n\n        return {date: moment(date), dateLabel, crashFreeUsers, crashFreeUserCount};\n      })\n      // remove those timeframes that are in the future\n      .filter(item => item.date.isBefore())\n      // we want timeline to go from bottom to up\n      .reverse();\n\n    if (!timeline.length) {\n      return null;\n    }\n\n    return (\n      <SidebarSection title={t('Total Crash Free Users')}>\n        <Timeline>\n          {timeline.map(row => (\n            <Row key={row.date.toString()}>\n              <InnerRow>\n                <Text bold>{row.date.format('MMMM D')}</Text>\n                <Text bold right>\n                  <Count value={row.crashFreeUserCount} />{' '}\n                  {tn('user', 'users', row.crashFreeUserCount)}\n                </Text>\n              </InnerRow>\n              <InnerRow>\n                <Text>{row.dateLabel}</Text>\n                <Percent right>\n                  {defined(row.crashFreeUsers)\n                    ? displayCrashFreePercent(row.crashFreeUsers)\n                    : '-'}\n                </Percent>\n              </InnerRow>\n            </Row>\n          ))}\n        </Timeline>\n      </SidebarSection>\n    );\n  }\n}\n\nconst Timeline = styled('div')`\n  font-size: ${p => p.theme.fontSizeMedium};\n  line-height: 1.2;\n`;\n\nconst DOT_SIZE = 10;\nconst Row = styled('div')`\n  border-left: 1px solid ${p => p.theme.border};\n  padding-left: ${space(2)};\n  padding-bottom: ${space(1)};\n  margin-left: ${space(1)};\n  position: relative;\n\n  &:before {\n    content: '';\n    width: ${DOT_SIZE}px;\n    height: ${DOT_SIZE}px;\n    border-radius: 100%;\n    background-color: ${p => p.theme.purple300};\n    position: absolute;\n    top: 0;\n    left: -${Math.floor(DOT_SIZE / 2)}px;\n  }\n\n  &:last-child {\n    border-left: 0;\n  }\n`;\nconst InnerRow = styled('div')`\n  display: grid;\n  grid-column-gap: ${space(2)};\n  grid-auto-flow: column;\n  grid-auto-columns: 1fr;\n\n  padding-bottom: ${space(0.5)};\n`;\n\nconst Text = styled('div')<{bold?: boolean; right?: boolean}>`\n  text-align: ${p => (p.right ? 'right' : 'left')};\n  color: ${p => (p.bold ? p.theme.textColor : p.theme.gray300)};\n  padding-bottom: ${space(0.25)};\n  ${p => p.theme.overflowEllipsis};\n`;\n\nconst Percent = styled(Text)`\n  font-variant-numeric: tabular-nums;\n`;\n\nexport default TotalCrashFreeUsers;\n","import {Location} from 'history';\nimport pick from 'lodash/pick';\nimport moment from 'moment';\n\nimport MarkLine from 'sentry/components/charts/components/markLine';\nimport {parseStatsPeriod} from 'sentry/components/organizations/timeRangeSelector/utils';\nimport {URL_PARAM} from 'sentry/constants/pageFilters';\nimport {t} from 'sentry/locale';\nimport {\n  Commit,\n  CommitFile,\n  FilesByRepository,\n  ReleaseComparisonChartType,\n  ReleaseProject,\n  ReleaseWithHealth,\n  Repository,\n} from 'sentry/types';\nimport {Series} from 'sentry/types/echarts';\nimport {decodeList} from 'sentry/utils/queryString';\nimport {Theme} from 'sentry/utils/theme';\n\nimport {getReleaseBounds, getReleaseParams, isMobileRelease} from '../utils';\nimport {commonTermsDescription, SessionTerm} from '../utils/sessionTerm';\n\nexport type CommitsByRepository = {\n  [key: string]: Commit[];\n};\n\n/**\n * Convert list of individual file changes into a per-file summary grouped by repository\n */\nexport function getFilesByRepository(fileList: CommitFile[]) {\n  return fileList.reduce<FilesByRepository>((filesByRepository, file) => {\n    const {filename, repoName, author, type} = file;\n\n    if (!filesByRepository.hasOwnProperty(repoName)) {\n      filesByRepository[repoName] = {};\n    }\n\n    if (!filesByRepository[repoName].hasOwnProperty(filename)) {\n      filesByRepository[repoName][filename] = {\n        authors: {},\n        types: new Set(),\n      };\n    }\n\n    if (author.email) {\n      filesByRepository[repoName][filename].authors[author.email] = author;\n    }\n\n    filesByRepository[repoName][filename].types.add(type);\n\n    return filesByRepository;\n  }, {});\n}\n\n/**\n * Convert list of individual commits into a summary grouped by repository\n */\nexport function getCommitsByRepository(commitList: Commit[]): CommitsByRepository {\n  return commitList.reduce((commitsByRepository, commit) => {\n    const repositoryName = commit.repository?.name ?? t('unknown');\n\n    if (!commitsByRepository.hasOwnProperty(repositoryName)) {\n      commitsByRepository[repositoryName] = [];\n    }\n\n    commitsByRepository[repositoryName].push(commit);\n\n    return commitsByRepository;\n  }, {});\n}\n\n/**\n * Get request query according to the url params and active repository\n */\n\ntype GetQueryProps = {\n  location: Location;\n  activeRepository?: Repository;\n  perPage?: number;\n};\n\nexport function getQuery({location, perPage = 40, activeRepository}: GetQueryProps) {\n  const query = {\n    ...pick(location.query, [...Object.values(URL_PARAM), 'cursor']),\n    per_page: perPage,\n  };\n\n  if (!activeRepository) {\n    return query;\n  }\n\n  return {...query, repo_name: activeRepository.name};\n}\n\n/**\n * Get repositories to render according to the activeRepository\n */\nexport function getReposToRender(repos: Array<string>, activeRepository?: Repository) {\n  if (!activeRepository) {\n    return repos;\n  }\n  return [activeRepository.name];\n}\n\nexport const releaseComparisonChartLabels = {\n  [ReleaseComparisonChartType.CRASH_FREE_SESSIONS]: t('Crash Free Session Rate'),\n  [ReleaseComparisonChartType.HEALTHY_SESSIONS]: t('Healthy'),\n  [ReleaseComparisonChartType.ABNORMAL_SESSIONS]: t('Abnormal'),\n  [ReleaseComparisonChartType.ERRORED_SESSIONS]: t('Errored'),\n  [ReleaseComparisonChartType.CRASHED_SESSIONS]: t('Crashed Session Rate'),\n  [ReleaseComparisonChartType.CRASH_FREE_USERS]: t('Crash Free User Rate'),\n  [ReleaseComparisonChartType.HEALTHY_USERS]: t('Healthy'),\n  [ReleaseComparisonChartType.ABNORMAL_USERS]: t('Abnormal'),\n  [ReleaseComparisonChartType.ERRORED_USERS]: t('Errored'),\n  [ReleaseComparisonChartType.CRASHED_USERS]: t('Crashed User Rate'),\n  [ReleaseComparisonChartType.SESSION_COUNT]: t('Session Count'),\n  [ReleaseComparisonChartType.SESSION_DURATION]: t('Session Duration p50'),\n  [ReleaseComparisonChartType.USER_COUNT]: t('User Count'),\n  [ReleaseComparisonChartType.ERROR_COUNT]: t('Error Count'),\n  [ReleaseComparisonChartType.TRANSACTION_COUNT]: t('Transaction Count'),\n  [ReleaseComparisonChartType.FAILURE_RATE]: t('Failure Rate'),\n};\n\nexport const releaseComparisonChartTitles = {\n  [ReleaseComparisonChartType.CRASH_FREE_SESSIONS]: t('Crash Free Session Rate'),\n  [ReleaseComparisonChartType.HEALTHY_SESSIONS]: t('Healthy Session Rate'),\n  [ReleaseComparisonChartType.ABNORMAL_SESSIONS]: t('Abnormal Session Rate'),\n  [ReleaseComparisonChartType.ERRORED_SESSIONS]: t('Errored Session Rate'),\n  [ReleaseComparisonChartType.CRASHED_SESSIONS]: t('Crashed Session Rate'),\n  [ReleaseComparisonChartType.CRASH_FREE_USERS]: t('Crash Free User Rate'),\n  [ReleaseComparisonChartType.HEALTHY_USERS]: t('Healthy User Rate'),\n  [ReleaseComparisonChartType.ABNORMAL_USERS]: t('Abnormal User Rate'),\n  [ReleaseComparisonChartType.ERRORED_USERS]: t('Errored User Rate'),\n  [ReleaseComparisonChartType.CRASHED_USERS]: t('Crashed User Rate'),\n  [ReleaseComparisonChartType.SESSION_COUNT]: t('Session Count'),\n  [ReleaseComparisonChartType.SESSION_DURATION]: t('Session Duration'),\n  [ReleaseComparisonChartType.USER_COUNT]: t('User Count'),\n  [ReleaseComparisonChartType.ERROR_COUNT]: t('Error Count'),\n  [ReleaseComparisonChartType.TRANSACTION_COUNT]: t('Transaction Count'),\n  [ReleaseComparisonChartType.FAILURE_RATE]: t('Failure Rate'),\n};\n\nexport const releaseComparisonChartHelp = {\n  [ReleaseComparisonChartType.CRASH_FREE_SESSIONS]:\n    commonTermsDescription[SessionTerm.CRASH_FREE_SESSIONS],\n  [ReleaseComparisonChartType.CRASH_FREE_USERS]:\n    commonTermsDescription[SessionTerm.CRASH_FREE_USERS],\n  [ReleaseComparisonChartType.SESSION_COUNT]: t(\n    'The number of sessions in a given period.'\n  ),\n  [ReleaseComparisonChartType.USER_COUNT]: t('The number of users in a given period.'),\n};\n\ntype GenerateReleaseMarklineOptions = {\n  axisIndex?: number;\n  hideLabel?: boolean;\n};\n\nfunction generateReleaseMarkLine(\n  title: string,\n  position: number,\n  theme: Theme,\n  options?: GenerateReleaseMarklineOptions\n) {\n  const {hideLabel, axisIndex} = options || {};\n\n  return {\n    seriesName: title,\n    type: 'line',\n    data: [{name: position, value: null as any}], // TODO(ts): echart types\n    yAxisIndex: axisIndex ?? undefined,\n    xAxisIndex: axisIndex ?? undefined,\n    color: theme.gray300,\n    markLine: MarkLine({\n      silent: true,\n      lineStyle: {color: theme.gray300, type: 'solid'},\n      label: {\n        position: 'insideEndBottom',\n        formatter: hideLabel ? '' : title,\n        // @ts-expect-error weird echart types\n        font: 'Rubik',\n        fontSize: 11,\n      },\n      data: [\n        {\n          xAxis: position,\n        },\n      ],\n    }),\n  };\n}\n\nexport const releaseMarkLinesLabels = {\n  created: t('Release Created'),\n  adopted: t('Adopted'),\n  unadopted: t('Replaced'),\n};\n\nexport function generateReleaseMarkLines(\n  release: ReleaseWithHealth,\n  project: ReleaseProject,\n  theme: Theme,\n  location: Location,\n  options?: GenerateReleaseMarklineOptions\n) {\n  const markLines: Series[] = [];\n  const adoptionStages = release.adoptionStages?.[project.slug];\n  const isSingleEnv = decodeList(location.query.environment).length === 1;\n  const releaseBounds = getReleaseBounds(release);\n  const {statsPeriod, ...releaseParamsRest} = getReleaseParams({\n    location,\n    releaseBounds,\n  });\n  let {start, end} = releaseParamsRest;\n  const isDefaultPeriod = !(\n    location.query.pageStart ||\n    location.query.pageEnd ||\n    location.query.pageStatsPeriod\n  );\n\n  if (statsPeriod) {\n    const parsedStatsPeriod = parseStatsPeriod(statsPeriod, null);\n    start = parsedStatsPeriod.start;\n    end = parsedStatsPeriod.end;\n  }\n\n  const releaseCreated = moment(release.dateCreated).startOf('minute');\n  if (\n    releaseCreated.isBetween(start, end) ||\n    (isDefaultPeriod && releaseBounds.type === 'normal')\n  ) {\n    markLines.push(\n      generateReleaseMarkLine(\n        releaseMarkLinesLabels.created,\n        releaseCreated.valueOf(),\n        theme,\n        options\n      )\n    );\n  }\n\n  if (!isSingleEnv || !isMobileRelease(project.platform)) {\n    // for now want to show marklines only on mobile platforms with single environment selected\n    return markLines;\n  }\n\n  const releaseAdopted = adoptionStages?.adopted && moment(adoptionStages.adopted);\n  if (releaseAdopted && releaseAdopted.isBetween(start, end)) {\n    markLines.push(\n      generateReleaseMarkLine(\n        releaseMarkLinesLabels.adopted,\n        releaseAdopted.valueOf(),\n        theme,\n        options\n      )\n    );\n  }\n\n  const releaseReplaced = adoptionStages?.unadopted && moment(adoptionStages.unadopted);\n  if (releaseReplaced && releaseReplaced.isBetween(start, end)) {\n    markLines.push(\n      generateReleaseMarkLine(\n        releaseMarkLinesLabels.unadopted,\n        releaseReplaced.valueOf(),\n        theme,\n        options\n      )\n    );\n  }\n\n  return markLines;\n}\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n$({ global: true }, { Reflect: {} });\n\n// Reflect[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-reflect-@@tostringtag\nsetToStringTag(global.Reflect, 'Reflect', true);\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseLt = require('./_baseLt'),\n    identity = require('./identity');\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseLt)\n    : undefined;\n}\n\nmodule.exports = min;\n"],"names":["Component","browserHistory","DataZoomInside","ToolBox","callIfFunction","BarChartZoom","chart","props","onChartReady","_props","zooming","zoom","_componentsViews","find","c","_features","dataZoom","_isZoomActive","dispatchAction","type","key","dataZoomSelectActive","evt","model","getModel","startValue","endValue","_payload","batch","buckets","location","paramStart","paramEnd","minZoomWidth","onHistoryPush","start","end","undefined","target","pathname","query","push","onDataZoomCancelled","onDataZoom","render","children","xAxisIndex","renderProps","handleChartReady","onFinished","handleChartFinished","toolBox","title","back","iconStyle","borderWidth","color","opacity","handleDataZoom","VisualMap","visualMap","MapSeries","map","roam","emphasis","label","show","isEqual","omitBy","addErrorMessage","t","filterSessionsInTimeWindow","getSessionsInterval","propNamesToIgnore","omitIgnoredProps","_value","includes","SessionsRequest","reloading","errored","response","api","isDisabled","shouldFilterSessionsInTimeWindow","setState","state","requestPromise","path","baseQueryParams","error","responseJSON","detail","componentDidMount","fetchData","componentDidUpdate","prevProps","organization","slug","project","environment","field","statsPeriod","groupBy","interval","period","highFidelity","features","loading","AreaChart","StackedAreaChart","filter","val","Fragment","LoadingPanel","defaultProps","height","TransitionChart","prevReloading","prevLoading","getDerivedStateFromProps","nextReloading","nextLoading","String","LoadingMask","TransparentLoadingMask","className","visible","other","p","useEffect","useState","useTheme","echarts","max","BaseChart","DEFAULT_ZOOM","DISCOVER_ZOOM","DISCOVER_QUERY_LIST_ZOOM","DEFAULT_CENTER_X","DISCOVER_QUERY_LIST_CENTER_Y","DEFAULT_CENTER_Y","WorldMapChart","series","seriesOptions","fromDiscover","fromDiscoverQueryList","theme","countryToCodeMap","codeToCountryMap","unmounted","loadWorldMap","countryCodesMap","world","Promise","all","default","worldMap","registerMap","country","processedSeries","seriesName","data","options","name","nameMap","aspectScale","center","itemStyle","areaColor","gray200","borderColor","backgroundSecondary","pink300","silent","maxValue","value","tooltipFormatter","format","marker","Array","isArray","isNaN","formattedValue","toLocaleString","countryOrCode","join","backgroundColor","background","left","right","min","inRange","purple200","purple300","text","textStyle","textColor","calculable","formatter","Link","Tag","IconOpen","MutableSearch","DeployBadge","deploy","orgSlug","projectId","version","shouldLinkToIssues","badge","formatString","css","Alert","LoadingIndicator","NotAvailable","PanelItem","PanelTable","IconArrow","tct","space","DiscoverQuery","getFieldRenderer","MobileVital","WebVital","MOBILE_VITAL_DETAILS","WEB_VITAL_DETAILS","PROJECT_PERFORMANCE_TYPE","PerformanceCardTable","releaseEventView","allReleasesTableData","thisReleaseTableData","performanceType","isLoading","miseryRenderer","meta","renderChange","allReleasesScore","thisReleaseScore","trend","trendSeconds","trendPercentage","valPercentage","Math","round","abs","toFixed","userMiseryTrend","allReleasesUserMisery","thisReleaseUserMisery","renderFrontendPerformance","webVitals","FCP","FID","LCP","CLS","spans","column","webVitalTitles","vital","idx","newView","withColumns","kind","getResultsViewUrlTarget","acronym","spanTitles","span","webVitalsRenderer","spansRenderer","webReleaseTrend","allReleasesRow","thisReleaseRow","spansReleaseTrend","emptyColumn","index","length","dataRow","allReleasesMisery","allReleasesWebVitals","renderer","allReleasesSpans","webVital","thisReleasesMisery","thisReleasesWebVitals","thisReleasesSpans","row","renderBackendPerformance","apdexRenderer","apdexTrend","allReleasesApdex","apdex","thisReleaseApdex","thisReleasesApdex","renderMobilePerformance","mobileVitals","AppStartCold","AppStartWarm","FramesSlow","FramesFrozen","mobileVitalTitles","mobileVital","mobileVitalFields","mobileVitalsRenderer","mobileReleaseTrend","allReleasesMobile","i","thisReleasesMobile","renderUnknownPerformance","loader","platformPerformanceRender","FRONTEND","section","BACKEND","MOBILE","ANY","isUnknownPlatform","link","PerformanceCardTableWrapper","allReleasesEventView","tableData","isReleaseLoading","emptyFieldCss","chartOther","StyledLoadingIndicator","HeadCellContainer","fontSizeExtraLarge","border","borderRadius","StyledPanelTable","disableTopBorder","breakpoints","large","StyledPanelItem","SubTitle","TitleSpace","UserMiseryPanelItem","ApdexPanelItem","SingleEmptySubText","MultipleEmptySubText","Cell","align","overflowEllipsis","StyledAlert","StyledNotAvailable","SubText","subText","TrendText","StyledIconArrow","GuideAnchor","Button","DiscoverButton","CompactSelect","Pagination","TrendsEventsDiscoverQuery","decodeScalar","decodeColumnOrder","mapShowTransactionToPercentile","TransactionsTable","DEFAULT_TRANSACTION_LIMIT","_TransactionsList","cursor","cursorName","getEventView","eventView","selected","sortedEventView","withSorts","sort","forEach","item","setFilterValues","generateDiscoverEventView","generatePerformanceTransactionEventsView","renderHeader","handleDropdownChange","handleOpenAllEventsClick","handleOpenInDiscoverClick","showTransactions","breakdown","prefix","size","opt","isTrend","getPerformanceTransactionEventsViewUrlTarget","renderTransactionTable","handleCellAction","limit","titles","generateLink","forceLoading","useEvents","columnOrder","getColumns","tableRenderer","pageLinks","handleCursor","renderTrendsTable","trendView","clone","sorts","trendType","trendsData","Header","StyledPagination","TransactionsList","PureComponent","SortLink","QuestionTooltip","fieldAlignment","getAggregateAlias","VisuallyCompleteWithData","CellAction","GridCell","GridCellNumber","getTitles","getFields","tableMeta","generateSortLink","tableTitles","headers","renderRow","rowIndex","useAggregateAlias","fields","slice","resultsRow","fieldName","fieldType","fieldRenderer","rendered","isNumeric","renderResults","cells","concat","hasResults","margin","BodyCellContainer","StyledIconQuestion","KeyValueTable","KeyValueTableRow","keyName","commonStyles","fontSizeMedium","Key","Value","TimeRangeSelector","Panel","PageTimeRangeSelector","relative","utc","defaultPeriod","DropdownDate","DropdownLabel","withApi","GenericDiscoverQuery","shouldRefetchData","nextProps","transactionName","transactionThreshold","transactionThresholdMetric","endpoint","afterFetch","_","otherMeta","createContext","useRef","identity","trackAdvancedAnalyticsEvent","useApi","useOrganization","createDefinedContext","GenericQueryBatcherProvider","_useGenericQueryBatcher","mergeKey","batchProperty","queriesToMap","collectedQueries","keys","Reflect","ownKeys","mergeMap","requestFunction","queryObject","_handleUnmergeableQuery","queryDefinition","result","requestQueryObject","resolve","_handleUnmergeableQueries","queriesSent","Object","k","mergeList","_handleMergeableQueries","exampleDefinition","batchValues","q","batchFieldValue","transform","e","reject","handleBatching","queries","queriesCollected","values","reduce","acc","queriesSaved","num_collected","num_saved","num_sent","GenericQueryBatcher","timeoutRef","addQuery","id","current","window","clearTimeout","setTimeout","BatchNodeContext","QueryBatchNode","Symbol","batchContext","batchRequest","queryPromise","queryBatching","useContext","pageErrorContext","pageError","setPageError","PageErrorProvider","PageErrorAlert","usePageError","FILTER_OPTIONS","omit","getHistogramRequestPayload","numBuckets","precision","dataFilter","baseApiPayload","additionalApiPayload","getEventsAPIPayload","apiPayload","assign","HistogramQuery","didReceiveMultiAxis","didFetch","counts","entries","prev","curr","count","histograms","rest","Histogram","zoomKeys","removeHistogramQueryStrings","isZoomed","some","getActiveFilter","childrenProps","handleResetView","activeFilter","handleFilterChange","filterOptions","withProjects","generateTrendFunctionAsString","getCurrentTrendFunction","getCurrentTrendParameter","getTrendsRequestPayload","projects","trendFunction","trendFunctionField","trendParameter","trendChangeType","middle","TrendsDiscoverQuery","EventsDiscoverQuery","ChartZoom","LineChart","axisLabelFormatter","getDurationUnit","aggregateOutputType","computeAxisMax","valuesDict","point","power","log10","magnitude","floor","scale","step","ceil","Chart","previousData","router","grid","disableMultiAxis","disableXAxis","definedAxisTicks","chartColors","isLineChart","colors","charts","getColorPalette","durationOnly","every","dataMax","xAxes","gridIndex","durationUnit","yAxes","minInterval","splitNumber","axisLabel","chartLabel","axisPointer","areaChartProps","showSymbol","top","bottom","isGroupedByDate","showTimeInTooltip","tooltip","valueFormatter","nameFormatter","yAxisIndex","xAxis","axisLine","zoomRenderProps","transformDiscoverToSingleValue","_widgetProps","results","isErrored","hasData","normalizeDateTimeParams","defined","transformEventsRequestToArea","widgetProps","timeseriesData","childData","previousTimeseriesData","useMemo","withRouter","pick","_EventsRequest","getInterval","getPreviousSeriesName","useMEPSettingContext","_DurationChart","GenericPerformanceWidget","eventsRequestQueryProps","getMEPQueryParams","SingleFieldAreaWidget","ContainerActions","globalSelection","getPageFilters","mepSetting","Error","chartQuery","component","provided","unmergeIntoIndividualResults","getQueryWithAdditionalConditions","chartSetting","memoizationKey","overallQuery","Queries","overall","datetime","widgetData","chartColor","chartHeight","EventsRequest","DurationChart","Subtitle","gray300","HighlightNumber","propertyName","OptionSelector","ChartContainer","ChartControls","InlineContainer","SectionHeading","SectionValue","Placeholder","TransactionsListOption","TrendColumnField","TrendFunctionField","TRENDS_FUNCTIONS","TRENDS_PARAMETERS","SpanOperationBreakdownFilter","LatencyChartControls","ZOOM_END","ZOOM_START","DurationPercentileChart","LatencyChart","TrendChart","UserMiseryChart","VitalsChart","DisplayModes","generateDisplayOptions","currentFilter","None","DURATION","DURATION_PERCENTILE","LATENCY","TREND","VITALS","USER_MISERY","TREND_FUNCTIONS_OPTIONS","TransactionSummaryCharts","totalValues","withoutZerofill","handleDisplayChange","display","from_chart","to_chart","handleTrendDisplayChange","handleTrendColumnChange","trendColumn","TREND_PARAMETERS_OPTIONS","P50","releaseQueryExtra","yAxis","SLOW_LCP","SLOW","ErrorPanel","ReleaseSeries","IconWarning","getDynamicText","Content","timeFrame","environments","legend","queryExtra","onLegendSelectChanged","lineStyle","reverse","chartOptions","trigger","releaseSeries","fixed","HeaderTitleLegend","getSeriesSelection","getUtcToLocalDateObject","SPAN_OPERATION_BREAKDOWN_FILTER_TO_FIELD","DurationFunctionField","propsStart","propsEnd","handleLegendSelectChanged","legendChange","unselected","to","unselectedSeries","datetimeSelection","contentCommonProps","requestCommonProps","parameter","header","operationName","v","timeframe","getDuration","truncate","showMinLabel","showMaxLabel","axisTick","alignWithLabel","AsyncComponent","EventView","QUERY_KEYS","filterToColor","transformData","getEndpoints","fromSavedQuery","orderby","range","referrer","renderLoading","renderError","renderBody","chartData","filterToField","generateFields","AGGREGATE_ALIAS_VALUE_EXTRACT_PATTERN","FUNCTION_FIELD_VALUE_EXTRACT_PATTERN","extractedData","nameMatch","exec","nameValue","Number","a","b","BarChart","computeBuckets","formatHistogramData","decodeHistogramZoom","NUM_BUCKETS","zoomError","setZoomError","handleMouseOver","renderChart","seriesData","contents","seriesLabel","fromNewQueryWithLocation","transformEventStatsSmoothed","width","smoothedResults","smoothedSeries","trendDisplay","getTermHelp","PERFORMANCE_TERM","mepContext","getAggregateArg","getMeasurementSlug","vitals","arg","toUpperCase","EmptyStateWarning","PanelBody","EmptyState","moment","restoreRelease","Client","Feature","DateTime","EnvironmentPageFilter","Body","Main","Side","DEFAULT_RELATIVE_PERIODS","SessionFieldWithOperation","getUtcDateString","SpanOpBreakdown","formatVersion","routeTitleGen","withOrganization","withPageFilters","AsyncView","transactionSummaryRouteWithQuery","TrendChangeType","platformToPerformanceType","getReleaseParams","isReleaseArchived","ReleaseContext","CommitAuthorBreakdown","Deploys","OtherProjects","ProjectReleaseDetails","ReleaseAdoption","ReleaseStats","TotalCrashFreeUsers","ReleaseArchivedNotice","ReleaseComparisonChart","ReleaseIssues","RELEASE_PERIOD_KEY","ReleaseOverview","successCallback","params","projectSlug","releaseVersion","release","transactionCursor","parser","pageStatsPeriod","pageStart","pageEnd","pageUtc","getTitle","getReleaseEventView","selectedSort","releaseBounds","selection","baseQuery","FAILURE_COUNT","getReleaseTrendView","versionDate","getReleasePerformanceEventView","SpansHttp","SpansBrowser","SpansResource","getAllReleasesPerformanceView","getReleasePerformanceView","pageDateTime","allowEmptyPeriod","allowAbsoluteDatetime","allowAbsolutePageDatetime","deploys","releaseMeta","refetchData","hasHealthData","commitCount","hasDiscover","hasPerformance","hasReleaseComparisonPerformance","sortOptions","getTransactionsListSort","releaseTrendView","released","allReleasesPerformanceView","releasePerformanceView","transaction","generateTransactionLink","sessionsRequestProps","USERS","SESSIONS","allReleasesLoading","allReleasesReloading","allReleasesErrored","allReleases","thisReleaseLoading","thisReleaseReloading","thisReleaseErrored","thisRelease","handleRestore","handleDateChange","releaseStart","releaseEnd","subtract","toDate","add","platform","handleTransactionsListSortChange","tableRow","_query","trendTransaction","projectID","toString","getDropdownOptions","TPM","REGRESSION","IMPROVED","IMPROVEMENT","urlParam","ReleaseDetailsPageFilters","StyledPageTimeRangeSelector","onRestore","multi","UnarchiveButton","useCallback","Sentry","Count","Duration","GlobalSelectionLink","Tooltip","IconChevron","IconList","tn","ReleaseComparisonChartType","SessionStatus","formatPercentage","decodeList","getCount","getCrashFreeRate","getSeriesAverage","getSessionStatusRate","displaySessionStatusPercent","getReleaseBounds","getReleaseHandledIssuesUrl","getReleaseUnhandledIssuesUrl","roundDuration","ReleaseComparisonChartRow","ReleaseEventsChart","ReleaseSessionsChart","releaseSessions","allSessions","issuesTotals","setIssuesTotals","eventsTotals","setEventsTotals","eventsLoading","setEventsLoading","expanded","setExpanded","Set","isOtherExpanded","setIsOtherExpanded","additionalCharts","chartInUrl","HEALTHY_SESSIONS","ABNORMAL_SESSIONS","ERRORED_SESSIONS","CRASHED_SESSIONS","CRASH_FREE_SESSIONS","HEALTHY_USERS","ABNORMAL_USERS","ERRORED_USERS","CRASHED_USERS","CRASH_FREE_USERS","SESSION_COUNT","USER_COUNT","ERROR_COUNT","TRANSACTION_COUNT","fetchEventsTotals","url","commonQuery","releaseTransactionTotals","allTransactionTotals","releaseErrorTotals","allErrorTotals","allErrorCount","releaseErrorCount","allTransactionCount","releaseTransactionCount","releaseFailureRate","allFailureRate","err","captureException","fetchIssuesTotals","UNHANDLED_QUERY","HANDLED_QUERY","handled","unhandled","releaseCrashFreeSessions","groups","allCrashFreeSessions","diffCrashFreeSessions","releaseHealthySessions","HEALTHY","allHealthySessions","diffHealthySessions","releaseAbnormalSessions","ABNORMAL","allAbnormalSessions","diffAbnormalSessions","releaseErroredSessions","ERRORED","allErroredSessions","diffErroredSessions","releaseCrashedSessions","CRASHED","allCrashedSessions","diffCrashedSessions","releaseCrashFreeUsers","allCrashFreeUsers","diffCrashFreeUsers","releaseHealthyUsers","allHealthyUsers","diffHealthyUsers","releaseAbnormalUsers","allAbnormalUsers","diffAbnormalUsers","releaseErroredUsers","allErroredUsers","diffErroredUsers","releaseCrashedUsers","allCrashedUsers","diffCrashedUsers","releaseSessionsCount","allSessionsCount","releaseUsersCount","allUsersCount","sessionDurationTotal","allSessionDurationTotal","diffFailure","role","drilldown","diff","diffDirection","diffColor","has","issues","hasUsers","FAILURE_RATE","SESSION_DURATION","handleChartChange","chartType","handleExpanderToggle","delete","getTableHeaders","withExpanders","getChartDiff","splice","activeChart","ch","showPlaceholders","titleChartDiff","renderChartRow","chartRow","ChartPanel","DescriptionCell","Change","ChartTable","ShowMoreWrapper","ShowMoreTitle","ShowMoreButton","Radio","releaseComparisonChartLabels","chartDiff","onChartChange","onExpanderToggle","NumericCell","ExpanderCell","TitleWrapper","ChartTableRow","isActive","bodyBackground","ToggleButton","EventsChart","HeaderValue","generateReleaseMarkLines","releaseComparisonChartTitles","releaseMarkLinesLabels","getColors","getQuery","releaseFilter","getField","getYAxis","getHelp","markLines","padding","withTheme","getExactDuration","getCountSeries","getCrashFreeRateSeries","getSessionP50Series","getSessionStatusRateSeries","initSessionsChart","MINUTES_THRESHOLD_TO_DISPLAY_SECONDS","displayCrashFreePercent","releaseComparisonChartHelp","getChart","green300","red300","getSeries","countCharts","connectNulls","intervals","previousSeries","g","by","duration","s","formatTooltipValue","qs","ButtonLabel","ButtonBar","ButtonGrid","GroupList","QueryCount","IssueSortOptions","IssuesType","IssuesQuery","withChart","getInitialState","issuesType","issuesTypeQuery","ALL","NEW","RESOLVED","UNHANDLED","REGRESSED","replace","groupListState","onCursor","isEntireReleasePeriod","selectedTimePeriod","displayedPeriod","toLowerCase","timePeriod","issuesTypeState","new","resolved","regressed","fetchIssuesCount","getIssuesUrl","queryParams","getIssuesEndpoint","FREQ","groupStatsPeriod","encodeURIComponent","issueCountEndpoint","getIssueCountEndpoint","resolvedEndpoint","then","issueResponse","resolvedResponse","issuesCountPath","param","queryParameters","stringify","queryFilterDescription","issuesTypes","issueCount","handleIssuesTypeSelection","renderEmptyMessage","handleFetchSuccess","ControlsWrapper","small","OpenInButtonBar","StyledButtonBar","buttonCount","buttonCountActive","UserAvatar","Collapsible","SidebarSection","percent","userDisplayName","orgId","commitsEndpoint","remountComponent","getDisplayPercent","authorCommitCount","commits","calculatedPercent","groupedAuthorCommits","authorCommitsAccumulator","commit","email","author","hasOwnProperty","sortedAuthorsByNumberOfCommits","onExpand","numberOfHiddenItems","AuthorLine","AuthorName","Commits","Percent","TextOverflow","TimeSince","dateFinished","Row","StyledDeployBadge","IdBadge","extractSelectionParameters","medium","Version","versionInfo","dateCreated","firstEvent","lastEvent","package","releaseFileCount","StyledTextOverflow","formatAbbreviatedNumber","getAdoptionSeries","getCountAtIndex","ADOPTION_STAGE_LABELS","isMobileRelease","sessionsAxisIndex","usersAxisIndex","axisIndexToSessionsField","sessionsMarkLines","hideLabel","axisIndex","usersMarkLines","axisLineConfig","splitLine","from","_i","seriesParams","dataIndex","absoluteCount","seriesParam","adoptionStage","adoptionStages","stage","adoptionStageLabel","multipleEnvironments","tooltipTitle","NotAvailableWrapper","AdoptionEnvironment","fontSizeSmall","RelativeBox","ChartTitle","ChartLabel","lastDeploy","Container","URL_PARAM","PROJECT","ENVIRONMENT","crashFreeTimeBreakdown","releaseStats","usersBreakdown","timeline","date","crashFreeUsers","totalUsers","crashFreeUserCount","dateLabel","isBefore","Timeline","DOT_SIZE","InnerRow","Text","bold","MarkLine","parseStatsPeriod","commonTermsDescription","SessionTerm","getFilesByRepository","fileList","filesByRepository","file","filename","repoName","authors","types","getCommitsByRepository","commitList","commitsByRepository","repositoryName","repository","perPage","activeRepository","per_page","repo_name","getReposToRender","repos","generateReleaseMarkLine","position","markLine","font","fontSize","created","adopted","unadopted","isSingleEnv","releaseParamsRest","isDefaultPeriod","parsedStatsPeriod","releaseCreated","startOf","isBetween","valueOf","releaseAdopted","releaseReplaced"],"sourceRoot":""}