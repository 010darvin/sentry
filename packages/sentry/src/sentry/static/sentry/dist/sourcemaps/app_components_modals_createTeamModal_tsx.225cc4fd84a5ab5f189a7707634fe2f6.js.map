{"version":3,"file":"chunks/app_components_modals_createTeamModal_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/actionCreators/teams.tsx","webpack:///./app/components/modals/createTeamModal.tsx","webpack:///./app/components/teams/createTeamForm.tsx","webpack:///./app/utils/slugify.tsx","webpack:///./app/utils/useApi.tsx"],"sourcesContent":["import {addErrorMessage, addSuccessMessage} from 'sentry/actionCreators/indicator';\nimport TeamActions from 'sentry/actions/teamActions';\nimport {Client} from 'sentry/api';\nimport {tct} from 'sentry/locale';\nimport {Team} from 'sentry/types';\nimport {callIfFunction} from 'sentry/utils/callIfFunction';\nimport {uniqueId} from 'sentry/utils/guid';\n\ntype CallbackOptions = {\n  error?: Function;\n  success?: Function;\n};\n\nconst doCallback = (\n  params: CallbackOptions = {},\n  name: keyof CallbackOptions,\n  ...args: any[]\n) => {\n  callIfFunction(params[name], ...args);\n};\n\n/**\n * Note these are both slugs\n */\ntype OrgSlug = {orgId: string};\ntype OrgAndTeamSlug = OrgSlug & {teamId: string};\n\n/**\n * This is the actual internal id, not username or email\n */\ntype MemberId = {memberId: string};\n\n// Fetch teams for org\nexport function fetchTeams(api: Client, params: OrgSlug, options: CallbackOptions) {\n  TeamActions.fetchAll(params.orgId);\n  return api.request(`/teams/${params.orgId}/`, {\n    success: data => {\n      TeamActions.fetchAllSuccess(params.orgId, data);\n      doCallback(options, 'success', data);\n    },\n    error: error => {\n      TeamActions.fetchAllError(params.orgId, error);\n      doCallback(options, 'error', error);\n    },\n  });\n}\n\n// Fetch user teams for current org and place them in the team store\nexport async function fetchUserTeams(api: Client, params: OrgSlug) {\n  const teams = await api.requestPromise(`/organizations/${params.orgId}/user-teams/`);\n  TeamActions.loadUserTeams(teams);\n}\n\nexport function fetchTeamDetails(\n  api: Client,\n  params: OrgAndTeamSlug,\n  options?: CallbackOptions\n) {\n  TeamActions.fetchDetails(params.teamId);\n  return api.request(`/teams/${params.orgId}/${params.teamId}/`, {\n    success: data => {\n      TeamActions.fetchDetailsSuccess(params.teamId, data);\n      doCallback(options, 'success', data);\n    },\n    error: error => {\n      TeamActions.fetchDetailsError(params.teamId, error);\n      doCallback(options, 'error', error);\n    },\n  });\n}\n\nexport function updateTeamSuccess(teamId: OrgAndTeamSlug['teamId'], data: Team) {\n  TeamActions.updateSuccess(teamId, data);\n}\n\nexport function joinTeam(\n  api: Client,\n  params: OrgAndTeamSlug & Partial<MemberId>,\n  options: CallbackOptions\n) {\n  const endpoint = `/organizations/${params.orgId}/members/${\n    params.memberId ?? 'me'\n  }/teams/${params.teamId}/`;\n  const id = uniqueId();\n\n  TeamActions.update(id, params.teamId);\n\n  return api.request(endpoint, {\n    method: 'POST',\n    success: data => {\n      TeamActions.updateSuccess(params.teamId, data);\n      doCallback(options, 'success', data);\n    },\n    error: error => {\n      TeamActions.updateError(id, params.teamId, error);\n      doCallback(options, 'error', error);\n    },\n  });\n}\n\nexport function leaveTeam(\n  api: Client,\n  params: OrgAndTeamSlug & Partial<MemberId>,\n  options: CallbackOptions\n) {\n  const endpoint = `/organizations/${params.orgId}/members/${\n    params.memberId || 'me'\n  }/teams/${params.teamId}/`;\n  const id = uniqueId();\n\n  TeamActions.update(id, params.teamId);\n\n  return api.request(endpoint, {\n    method: 'DELETE',\n    success: data => {\n      TeamActions.updateSuccess(params.teamId, data);\n      doCallback(options, 'success', data);\n    },\n    error: error => {\n      TeamActions.updateError(id, params.teamId, error);\n      doCallback(options, 'error', error);\n    },\n  });\n}\n\nexport function createTeam(api: Client, team: Pick<Team, 'slug'>, params: OrgSlug) {\n  TeamActions.createTeam(team);\n\n  return api\n    .requestPromise(`/organizations/${params.orgId}/teams/`, {\n      method: 'POST',\n      data: team,\n    })\n    .then(\n      data => {\n        TeamActions.createTeamSuccess(data);\n        addSuccessMessage(\n          tct('[team] has been added to the [organization] organization', {\n            team: `#${data.slug}`,\n            organization: params.orgId,\n          })\n        );\n        return data;\n      },\n      err => {\n        TeamActions.createTeamError(team.slug, err);\n        addErrorMessage(\n          tct('Unable to create [team] in the [organization] organization', {\n            team: `#${team.slug}`,\n            organization: params.orgId,\n          })\n        );\n        throw err;\n      }\n    );\n}\n\nexport function removeTeam(api: Client, params: OrgAndTeamSlug) {\n  TeamActions.removeTeam(params.teamId);\n\n  return api\n    .requestPromise(`/teams/${params.orgId}/${params.teamId}/`, {\n      method: 'DELETE',\n    })\n    .then(\n      data => {\n        TeamActions.removeTeamSuccess(params.teamId, data);\n        addSuccessMessage(\n          tct('[team] has been removed from the [organization] organization', {\n            team: `#${params.teamId}`,\n            organization: params.orgId,\n          })\n        );\n        return data;\n      },\n      err => {\n        TeamActions.removeTeamError(params.teamId, err);\n        addErrorMessage(\n          tct('Unable to remove [team] from the [organization] organization', {\n            team: `#${params.teamId}`,\n            organization: params.orgId,\n          })\n        );\n        throw err;\n      }\n    );\n}\n","import {Fragment} from 'react';\n\nimport {ModalRenderProps} from 'sentry/actionCreators/modal';\nimport {createTeam} from 'sentry/actionCreators/teams';\nimport CreateTeamForm from 'sentry/components/teams/createTeamForm';\nimport {t} from 'sentry/locale';\nimport {Organization, Team} from 'sentry/types';\nimport useApi from 'sentry/utils/useApi';\n\ntype Props = ModalRenderProps & {\n  organization: Organization;\n  onClose?: (team: Team) => void;\n};\n\nfunction CreateTeamModal({Body, Header, ...props}: Props) {\n  const {onClose, closeModal, organization} = props;\n  const api = useApi();\n\n  async function handleSubmit(\n    data: {slug: string},\n    onSuccess: Function,\n    onError: Function\n  ) {\n    try {\n      const team: Team = await createTeam(api, data, {orgId: organization.slug});\n\n      closeModal();\n      onClose?.(team);\n      onSuccess(team);\n    } catch (err) {\n      onError(err);\n    }\n  }\n\n  return (\n    <Fragment>\n      <Header closeButton>{t('Create Team')}</Header>\n      <Body>\n        <CreateTeamForm {...props} onSubmit={handleSubmit} />\n      </Body>\n    </Fragment>\n  );\n}\n\nexport default CreateTeamModal;\n","import {Fragment} from 'react';\n\nimport Form from 'sentry/components/forms/form';\nimport TextField from 'sentry/components/forms/textField';\nimport {t} from 'sentry/locale';\nimport {Organization} from 'sentry/types';\nimport slugify from 'sentry/utils/slugify';\n\ntype Payload = {\n  slug: string;\n};\n\ntype Props = {\n  organization: Organization;\n  formProps?: Partial<typeof Form>;\n  onSubmit?: (data: Payload, onSuccess: Function, onError: Function) => void;\n  onSuccess?: (data: Payload) => void;\n};\n\nfunction CreateTeamForm({organization, formProps, ...props}: Props) {\n  return (\n    <Fragment>\n      <p>\n        {t(\n          'Members of a team have access to specific areas, such as a new release or a new application feature.'\n        )}\n      </p>\n\n      <Form\n        submitLabel={t('Create Team')}\n        apiEndpoint={`/organizations/${organization.slug}/teams/`}\n        apiMethod=\"POST\"\n        onSubmit={(data, onSuccess, onError) =>\n          props.onSubmit?.(data as Payload, onSuccess, onError)\n        }\n        onSubmitSuccess={data => props.onSuccess?.(data)}\n        requireChanges\n        data-test-id=\"create-team-form\"\n        {...formProps}\n      >\n        <TextField\n          name=\"slug\"\n          label={t('Team Name')}\n          placeholder={t('e.g. operations, web-frontend, desktop')}\n          help={t('May contain lowercase letters, numbers, dashes and underscores.')}\n          required\n          stacked\n          flexibleControlStateSize\n          inline={false}\n          transformInput={slugify}\n        />\n      </Form>\n    </Fragment>\n  );\n}\n\nexport default CreateTeamForm;\n","// XXX: This is NOT an exhaustive slugify function\n// Only forces lowercase and replaces spaces with hyphens\nexport default function slugify(str: any): string {\n  return typeof str === 'string' ? str.toLowerCase().replace(' ', '-') : '';\n}\n","import {useCallback, useEffect, useRef} from 'react';\n\nimport {Client} from 'sentry/api';\n\ntype Options = {\n  /**\n   * An existing API client may be provided.\n   *\n   * This is a continent way to re-use clients and still inherit the\n   * persistInFlight configuration.\n   */\n  api?: Client;\n  /**\n   * Enabling this option will disable clearing in-flight requests when the\n   * component is unmounted.\n   *\n   * This may be useful in situations where your component needs to finish up\n   * somewhere the client was passed into some type of action creator and the\n   * component is unmounted.\n   */\n  persistInFlight?: boolean;\n};\n\n/**\n * Returns an API client that will have it's requests canceled when the owning\n * React component is unmounted (may be disabled via options).\n */\nfunction useApi({persistInFlight, api: providedApi}: Options = {}) {\n  const localApi = useRef<Client>();\n\n  // Lazily construct the client if we weren't provided with one\n  if (localApi.current === undefined && providedApi === undefined) {\n    localApi.current = new Client();\n  }\n\n  // Use the provided client if available\n  const api = providedApi ?? localApi.current!;\n\n  // Clear API calls on unmount (if persistInFlight is disabled\n  const clearOnUnmount = useCallback(() => {\n    if (!persistInFlight) {\n      api.clear();\n    }\n  }, [api, persistInFlight]);\n\n  useEffect(() => clearOnUnmount, [clearOnUnmount]);\n\n  return api;\n}\n\nexport default useApi;\n"],"names":["addErrorMessage","addSuccessMessage","TeamActions","tct","callIfFunction","uniqueId","doCallback","params","name","args","fetchTeams","api","options","fetchAll","orgId","request","success","data","fetchAllSuccess","error","fetchAllError","fetchUserTeams","teams","requestPromise","loadUserTeams","fetchTeamDetails","fetchDetails","teamId","fetchDetailsSuccess","fetchDetailsError","updateTeamSuccess","updateSuccess","joinTeam","endpoint","memberId","id","update","method","updateError","leaveTeam","createTeam","team","then","createTeamSuccess","slug","organization","err","createTeamError","removeTeam","removeTeamSuccess","removeTeamError","Fragment","CreateTeamForm","t","useApi","CreateTeamModal","Body","Header","props","onClose","closeModal","handleSubmit","onSuccess","onError","Form","TextField","slugify","formProps","onSubmit","str","toLowerCase","replace","useCallback","useEffect","useRef","Client","persistInFlight","providedApi","localApi","current","undefined","clearOnUnmount","clear"],"sourceRoot":""}