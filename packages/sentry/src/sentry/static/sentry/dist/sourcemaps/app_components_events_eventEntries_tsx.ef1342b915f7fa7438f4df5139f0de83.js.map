{"version":3,"file":"chunks/app_components_events_eventEntries_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/actionCreators/committers.tsx","webpack:///./app/components/acl/role.tsx","webpack:///./app/components/actions/menuItemActionLink.tsx","webpack:///./app/components/events/attachmentViewers/imageViewer.tsx","webpack:///./app/components/events/attachmentViewers/jsonViewer.tsx","webpack:///./app/components/events/attachmentViewers/logFileViewer.tsx","webpack:///./app/components/events/attachmentViewers/previewPanelItem.tsx","webpack:///./app/components/events/attachmentViewers/rrwebJsonViewer.tsx","webpack:///./app/components/events/attachmentViewers/utils.tsx","webpack:///./app/components/events/contextSummary/contextSummaryDevice.tsx","webpack:///./app/components/events/contextSummary/contextSummaryGPU.tsx","webpack:///./app/components/events/contextSummary/contextSummaryGeneric.tsx","webpack:///./app/components/events/contextSummary/contextSummaryNoSummary.tsx","webpack:///./app/components/events/contextSummary/contextSummaryOS.tsx","webpack:///./app/components/events/contextSummary/contextSummaryUser.tsx","webpack:///./app/components/events/contextSummary/filterContexts.tsx","webpack:///./app/components/events/contextSummary/generateClassName.tsx","webpack:///./app/components/events/contextSummary/index.tsx","webpack:///./app/components/events/contextSummary/item.tsx","webpack:///./app/components/events/contexts/app/getAppKnownDataDetails.tsx","webpack:///./app/components/events/contexts/app/index.tsx","webpack:///./app/components/events/contexts/app/types.tsx","webpack:///./app/components/events/contexts/browser/getBrowserKnownDataDetails.tsx","webpack:///./app/components/events/contexts/browser/index.tsx","webpack:///./app/components/events/contexts/browser/types.tsx","webpack:///./app/components/events/contexts/chunk.tsx","webpack:///./app/components/events/contexts/contextBlock.tsx","webpack:///./app/components/events/contexts/default.tsx","webpack:///./app/components/events/contexts/device/getDeviceKnownDataDetails.tsx","webpack:///./app/components/events/contexts/device/index.tsx","webpack:///./app/components/events/contexts/device/types.tsx","webpack:///./app/components/events/contexts/device/utils.tsx","webpack:///./app/components/events/contexts/gpu/formatMemory.tsx","webpack:///./app/components/events/contexts/gpu/getGPUKnownDataDetails.tsx","webpack:///./app/components/events/contexts/gpu/index.tsx","webpack:///./app/components/events/contexts/gpu/types.tsx","webpack:///./app/components/events/contexts/index.tsx","webpack:///./app/components/events/contexts/operatingSystem/getOperatingSystemKnownDataDetails.tsx","webpack:///./app/components/events/contexts/operatingSystem/index.tsx","webpack:///./app/components/events/contexts/operatingSystem/types.tsx","webpack:///./app/components/events/contexts/redux.tsx","webpack:///./app/components/events/contexts/runtime/getRuntimeKnownDataDetails.tsx","webpack:///./app/components/events/contexts/runtime/index.tsx","webpack:///./app/components/events/contexts/runtime/types.tsx","webpack:///./app/components/events/contexts/state.tsx","webpack:///./app/components/events/contexts/trace/getTraceKnownDataDetails.tsx","webpack:///./app/components/events/contexts/trace/index.tsx","webpack:///./app/components/events/contexts/trace/types.tsx","webpack:///./app/components/events/contexts/user/getUserKnownDataDetails.tsx","webpack:///./app/components/events/contexts/user/index.tsx","webpack:///./app/components/events/contexts/utils.tsx","webpack:///./app/components/events/device.tsx","webpack:///./app/components/events/errorItem.tsx","webpack:///./app/components/events/errors.tsx","webpack:///./app/components/events/eventAttachmentActions.tsx","webpack:///./app/components/events/eventAttachments.tsx","webpack:///./app/components/events/eventAttachmentsCrashReportsNotice.tsx","webpack:///./app/components/events/eventCause.tsx","webpack:///./app/components/events/eventCauseEmpty.tsx","webpack:///./app/components/events/eventEntries.tsx","webpack:///./app/components/events/eventEntry.tsx","webpack:///./app/components/events/eventExtraData/getEventExtraDataKnownDataDetails.tsx","webpack:///./app/components/events/eventExtraData/index.tsx","webpack:///./app/components/events/eventExtraData/types.tsx","webpack:///./app/components/events/eventReplay/index.tsx","webpack:///./app/components/events/eventSdk.tsx","webpack:///./app/components/events/eventTags/index.tsx","webpack:///./app/components/events/eventTagsAndScreenshot/dataSection.tsx","webpack:///./app/components/events/eventTagsAndScreenshot/index.tsx","webpack:///./app/components/events/eventTagsAndScreenshot/screenshot/imageVisualization.tsx","webpack:///./app/components/events/eventTagsAndScreenshot/screenshot/index.tsx","webpack:///./app/components/events/eventTagsAndScreenshot/screenshot/modal.tsx","webpack:///./app/components/events/eventTagsAndScreenshot/tags.tsx","webpack:///./app/components/events/eventTagsAndScreenshot/tagsHighlight.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/category.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/data/default.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/data/exception.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/data/http.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/data/index.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/data/linkedEvent.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/data/summary.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/index.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/level.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/time/index.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/time/utils.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/type/icon.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumb/type/index.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/breadcrumbs.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/index.tsx","webpack:///./app/components/events/interfaces/breadcrumbs/utils.tsx","webpack:///./app/components/events/interfaces/crashContent/exception/content.tsx","webpack:///./app/components/events/interfaces/crashContent/exception/index.tsx","webpack:///./app/components/events/interfaces/crashContent/exception/mechanism.tsx","webpack:///./app/components/events/interfaces/crashContent/exception/rawContent.tsx","webpack:///./app/components/events/interfaces/crashContent/exception/stackTrace.tsx","webpack:///./app/components/events/interfaces/crashContent/index.tsx","webpack:///./app/components/events/interfaces/crashContent/stackTrace/index.tsx","webpack:///./app/components/events/interfaces/crashContent/stackTrace/rawContent.tsx","webpack:///./app/components/events/interfaces/crashHeader/crashActions.tsx","webpack:///./app/components/events/interfaces/crashHeader/crashTitle.tsx","webpack:///./app/components/events/interfaces/csp/help/effectiveDirectives.tsx","webpack:///./app/components/events/interfaces/csp/help/index.tsx","webpack:///./app/components/events/interfaces/csp/index.tsx","webpack:///./app/components/events/interfaces/debugMeta/debugImage/index.tsx","webpack:///./app/components/events/interfaces/debugMeta/debugImage/processingIcon.tsx","webpack:///./app/components/events/interfaces/debugMeta/debugImage/processings.tsx","webpack:///./app/components/events/interfaces/debugMeta/debugImage/status.tsx","webpack:///./app/components/events/interfaces/debugMeta/index.tsx","webpack:///./app/components/events/interfaces/debugMeta/layout.tsx","webpack:///./app/components/events/interfaces/debugMeta/processing/item.tsx","webpack:///./app/components/events/interfaces/debugMeta/processing/list.tsx","webpack:///./app/components/events/interfaces/exception.tsx","webpack:///./app/components/events/interfaces/exceptionV2.tsx","webpack:///./app/components/events/interfaces/generic.tsx","webpack:///./app/components/events/interfaces/message.tsx","webpack:///./app/components/events/interfaces/noStackTraceMessage.tsx","webpack:///./app/components/events/interfaces/performance/durationChart.tsx","webpack:///./app/components/events/interfaces/performance/index.tsx","webpack:///./app/components/events/interfaces/performance/spanCountChart.tsx","webpack:///./app/components/events/interfaces/request/getTransformedData.tsx","webpack:///./app/components/events/interfaces/request/index.tsx","webpack:///./app/components/events/interfaces/request/richHttpContentClippedBoxBodySection.tsx","webpack:///./app/components/events/interfaces/request/richHttpContentClippedBoxKeyValueList.tsx","webpack:///./app/components/events/interfaces/searchBarAction.tsx","webpack:///./app/components/events/interfaces/spans/dragManager.tsx","webpack:///./app/components/events/interfaces/spans/embeddedSpanTree.tsx","webpack:///./app/components/events/interfaces/spans/filter.tsx","webpack:///./app/components/events/interfaces/spans/index.tsx","webpack:///./app/components/events/interfaces/spans/spanBar.tsx","webpack:///./app/components/events/interfaces/spans/spanBarCursorGuide.tsx","webpack:///./app/components/events/interfaces/spans/spanDescendantGroupBar.tsx","webpack:///./app/components/events/interfaces/spans/spanGroupBar.tsx","webpack:///./app/components/events/interfaces/spans/spanRectangle.tsx","webpack:///./app/components/events/interfaces/spans/spanRectangleOverlay.tsx","webpack:///./app/components/events/interfaces/spans/spanSiblingGroupBar.tsx","webpack:///./app/components/events/interfaces/spans/spanTree.tsx","webpack:///./app/components/events/interfaces/spans/spanTreeModel.tsx","webpack:///./app/components/events/interfaces/spans/styles.tsx","webpack:///./app/components/events/interfaces/spans/traceErrorList.tsx","webpack:///./app/components/events/interfaces/spans/traceView.tsx","webpack:///./app/components/events/interfaces/spans/waterfallModel.tsx","webpack:///./app/components/events/interfaces/stackTrace.tsx","webpack:///./app/components/events/interfaces/stackTraceV2.tsx","webpack:///./app/components/events/interfaces/template.tsx","webpack:///./app/components/events/interfaces/threads/content.tsx","webpack:///./app/components/events/interfaces/threads/index.tsx","webpack:///./app/components/events/interfaces/threads/threadSelector/filterThreadInfo.tsx","webpack:///./app/components/events/interfaces/threads/threadSelector/getRelevantFrame.tsx","webpack:///./app/components/events/interfaces/threads/threadSelector/getThreadException.tsx","webpack:///./app/components/events/interfaces/threads/threadSelector/header.tsx","webpack:///./app/components/events/interfaces/threads/threadSelector/index.tsx","webpack:///./app/components/events/interfaces/threads/threadSelector/option.tsx","webpack:///./app/components/events/interfaces/threads/threadSelector/selectedOption.tsx","webpack:///./app/components/events/interfaces/threads/threadSelector/styles.tsx","webpack:///./app/components/events/interfaces/threads/threadSelector/trimFilename.tsx","webpack:///./app/components/events/interfaces/threadsV2.tsx","webpack:///./app/components/events/packageData.tsx","webpack:///./app/components/events/rrwebIntegration.tsx","webpack:///./app/components/events/sdkUpdates/index.tsx","webpack:///./app/components/events/userFeedback.tsx","webpack:///./app/components/quickTrace/index.tsx","webpack:///./app/constants/eventErrors.tsx","webpack:///./app/stores/committerStore.tsx","webpack:///./app/types/breadcrumbs.tsx","webpack:///./app/utils/attachmentUrl.tsx","webpack:///./app/utils/docs.tsx","webpack:///./app/utils/fuzzySearch.tsx","webpack:///./app/utils/performance/histogram/spanCountHistogramQuery.tsx","webpack:///./app/utils/performance/quickTrace/quickTraceContext.tsx","webpack:///./app/utils/sessionStorage.tsx","webpack:///./app/utils/useCommitters.tsx","webpack:///./app/utils/useLocation.tsx","webpack:///./app/utils/useSessionStorage.tsx","webpack:///./app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsFilter.tsx"],"sourcesContent":["import type {Client} from 'sentry/api';\nimport CommitterStore, {getCommitterStoreKey} from 'sentry/stores/committerStore';\nimport type {Committer, ReleaseCommitter} from 'sentry/types';\n\ntype ParamsGet = {\n  eventId: string;\n  orgSlug: string;\n  projectSlug: string;\n};\n\nexport function getCommitters(api: Client, params: ParamsGet) {\n  const {orgSlug, projectSlug, eventId} = params;\n  const path = `/projects/${orgSlug}/${projectSlug}/events/${eventId}/committers/`;\n\n  // HACK(leedongwei): Actions fired by the ActionCreators are queued to\n  // the back of the event loop, allowing another getRepo for the same\n  // repo to be fired before the loading state is updated in store.\n  // This hack short-circuits that and update the state immediately.\n  const storeKey = getCommitterStoreKey(orgSlug, projectSlug, eventId);\n  CommitterStore.state[storeKey] = {\n    ...CommitterStore.state[storeKey],\n    committersLoading: true,\n  };\n  CommitterStore.load(orgSlug, projectSlug, eventId);\n\n  return api\n    .requestPromise(path, {\n      method: 'GET',\n    })\n    .then((res: {committers: Committer[]; releaseCommitters: ReleaseCommitter[]}) => {\n      CommitterStore.loadSuccess(\n        orgSlug,\n        projectSlug,\n        eventId,\n        res.committers,\n        res.releaseCommitters\n      );\n    })\n    .catch(err => {\n      // NOTE: Do not captureException here as EventFileCommittersEndpoint returns\n      // 404 Not Found if the project did not setup Releases or Commits\n      CommitterStore.loadError(orgSlug, projectSlug, eventId, err);\n    });\n}\n","import {useMemo} from 'react';\n\nimport ConfigStore from 'sentry/stores/configStore';\nimport {Organization, User} from 'sentry/types';\nimport {isActiveSuperuser} from 'sentry/utils/isActiveSuperuser';\nimport {isRenderFunc} from 'sentry/utils/isRenderFunc';\nimport withOrganization from 'sentry/utils/withOrganization';\n\ntype RoleRenderProps = {\n  hasRole: boolean;\n};\n\ntype ChildrenRenderFn = (props: RoleRenderProps) => React.ReactElement | null;\n\nfunction checkUserRole(user: User, organization: Organization, role: RoleProps['role']) {\n  if (!user) {\n    return false;\n  }\n\n  if (isActiveSuperuser()) {\n    return true;\n  }\n\n  if (!Array.isArray(organization.orgRoleList)) {\n    return false;\n  }\n\n  const roleIds = organization.orgRoleList.map(r => r.id);\n\n  if (!roleIds.includes(role) || !roleIds.includes(organization.role ?? '')) {\n    return false;\n  }\n\n  const requiredIndex = roleIds.indexOf(role);\n  const currentIndex = roleIds.indexOf(organization.role ?? '');\n  return currentIndex >= requiredIndex;\n}\n\ninterface RoleProps {\n  /**\n   * If children is a function then will be treated as a render prop and\n   * passed RoleRenderProps.\n   *\n   * The other interface is more simple, only show `children` if user has\n   * the minimum required role.\n   */\n  children: React.ReactElement | ChildrenRenderFn;\n  /**\n   * Current Organization\n   */\n  organization: Organization;\n  /**\n   * Minimum required role\n   */\n  role: string;\n}\n\nfunction Role({role, organization, children}: RoleProps): React.ReactElement | null {\n  const user = ConfigStore.get('user');\n\n  const hasRole = useMemo(\n    () => checkUserRole(user, organization, role),\n    // It seems that this returns a stable reference, but\n    [organization, role, user]\n  );\n\n  if (isRenderFunc<ChildrenRenderFn>(children)) {\n    return children({hasRole});\n  }\n\n  return hasRole ? children : null;\n}\n\nconst withOrganizationRole = withOrganization(Role);\n\nexport {withOrganizationRole as Role};\n","import styled from '@emotion/styled';\n\nimport ActionLink from 'sentry/components/actions/actionLink';\nimport MenuItem from 'sentry/components/menuItem';\n\nfunction MenuItemActionLink({\n  className,\n  ...props\n}: React.ComponentProps<typeof ActionLink>) {\n  return (\n    <MenuItem noAnchor withBorder disabled={props.disabled} className={className}>\n      <InnerActionLink {...props} />\n    </MenuItem>\n  );\n}\nconst InnerActionLink = styled(ActionLink)`\n  color: ${p => p.theme.textColor};\n  ${p => p.theme.overflowEllipsis}\n  &:hover {\n    color: ${p => p.theme.textColor};\n  }\n\n  .dropdown-menu > li > &,\n  .dropdown-menu > span > li > & {\n    &.disabled:hover {\n      background: ${p => p.theme.background};\n    }\n  }\n`;\n\nexport default MenuItemActionLink;\n","import styled from '@emotion/styled';\n\nimport {\n  getAttachmentUrl,\n  ViewerProps,\n} from 'sentry/components/events/attachmentViewers/utils';\nimport {PanelItem} from 'sentry/components/panels';\n\ntype Props = Omit<ViewerProps, 'attachment'> & {\n  attachment: Omit<ViewerProps['attachment'], 'event_id'> & {\n    event_id?: string;\n  };\n  onError?: React.ReactEventHandler<HTMLImageElement>;\n  onLoad?: React.ReactEventHandler<HTMLImageElement>;\n};\n\nfunction ImageViewer({className, onLoad, onError, ...props}: Props) {\n  return (\n    <Container className={className}>\n      <img src={getAttachmentUrl(props, true)} onLoad={onLoad} onError={onError} />\n    </Container>\n  );\n}\n\nexport default ImageViewer;\n\nconst Container = styled(PanelItem)`\n  justify-content: center;\n`;\n","import styled from '@emotion/styled';\n\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport ContextData from 'sentry/components/contextData';\nimport PreviewPanelItem from 'sentry/components/events/attachmentViewers/previewPanelItem';\nimport {\n  getAttachmentUrl,\n  ViewerProps,\n} from 'sentry/components/events/attachmentViewers/utils';\n\ntype Props = ViewerProps & AsyncComponent['props'];\n\ntype State = AsyncComponent['state'];\n\nexport default class JsonViewer extends AsyncComponent<Props, State> {\n  getEndpoints(): [string, string][] {\n    return [['attachmentJson', getAttachmentUrl(this.props)]];\n  }\n\n  renderBody() {\n    const {attachmentJson} = this.state;\n    if (!attachmentJson) {\n      return null;\n    }\n\n    let json;\n    try {\n      json = JSON.parse(attachmentJson);\n    } catch (e) {\n      json = null;\n    }\n\n    return (\n      <PreviewPanelItem>\n        <StyledContextData\n          data={json}\n          maxDefaultDepth={4}\n          preserveQuotes\n          style={{width: '100%'}}\n          jsonConsts\n        />\n      </PreviewPanelItem>\n    );\n  }\n}\n\nconst StyledContextData = styled(ContextData)`\n  margin-bottom: 0;\n`;\n","import styled from '@emotion/styled';\nimport Ansi from 'ansi-to-react';\n\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport PreviewPanelItem from 'sentry/components/events/attachmentViewers/previewPanelItem';\nimport {\n  getAttachmentUrl,\n  ViewerProps,\n} from 'sentry/components/events/attachmentViewers/utils';\nimport space from 'sentry/styles/space';\n\ntype Props = ViewerProps & AsyncComponent['props'];\n\ntype State = AsyncComponent['state'];\n\nclass LogFileViewer extends AsyncComponent<Props, State> {\n  getEndpoints(): [string, string][] {\n    return [['attachmentText', getAttachmentUrl(this.props)]];\n  }\n\n  renderBody() {\n    const {attachmentText} = this.state;\n\n    return !attachmentText ? null : (\n      <PreviewPanelItem>\n        <CodeWrapper>\n          <SentryStyleAnsi useClasses>{attachmentText}</SentryStyleAnsi>\n        </CodeWrapper>\n      </PreviewPanelItem>\n    );\n  }\n}\n\nexport default LogFileViewer;\n\n/**\n * Maps ANSI color names -> theme.tsx color names\n */\nconst COLOR_MAP = {\n  red: 'red',\n  green: 'green',\n  blue: 'blue',\n  yellow: 'yellow',\n  magenta: 'pink',\n  cyan: 'purple',\n};\n\nconst SentryStyleAnsi = styled(Ansi)`\n  ${p =>\n    Object.entries(COLOR_MAP).map(\n      ([ansiColor, themeColor]) => `\n      .ansi-${ansiColor}-bg {\n        background-color: ${p.theme[`${themeColor}400`]};\n      }\n      .ansi-${ansiColor}-fg {\n        color: ${p.theme[`${themeColor}400`]};\n      }\n      .ansi-bright-${ansiColor}-fg {\n        color: ${p.theme[`${themeColor}200`]};\n      }`\n    )}\n\n  .ansi-black-fg,\n  .ansi-bright-black-fg {\n    color: ${p => p.theme.black};\n  }\n  .ansi-white-fg,\n  .ansi-bright-white-fg {\n    color: ${p => p.theme.white};\n  }\n`;\n\nconst CodeWrapper = styled('pre')`\n  padding: ${space(1)} ${space(2)};\n  width: 100%;\n  margin-bottom: 0;\n  &:after {\n    content: '';\n  }\n`;\n","import styled from '@emotion/styled';\n\nimport {PanelItem} from 'sentry/components/panels';\n\nconst PreviewPanelItem = styled(PanelItem)`\n  overflow: auto;\n  max-height: 500px;\n  padding: 0;\n`;\n\nexport default PreviewPanelItem;\n","import {Component, Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport JsonViewer from 'sentry/components/events/attachmentViewers/jsonViewer';\nimport {ViewerProps} from 'sentry/components/events/attachmentViewers/utils';\nimport PanelAlert from 'sentry/components/panels/panelAlert';\nimport {tct} from 'sentry/locale';\n\ntype State = {\n  showRawJson: boolean;\n};\n\nexport default class RRWebJsonViewer extends Component<ViewerProps, State> {\n  state: State = {\n    showRawJson: false,\n  };\n\n  render() {\n    const {showRawJson} = this.state;\n\n    return (\n      <Fragment>\n        <StyledPanelAlert border={showRawJson} type=\"info\">\n          {tct(\n            'This is an attachment containing a session replay. [replayLink:View the replay] or [jsonLink:view the raw JSON].',\n            {\n              replayLink: <a href=\"#context-replay\" />,\n              jsonLink: (\n                <a\n                  onClick={() =>\n                    this.setState(state => ({\n                      showRawJson: !state.showRawJson,\n                    }))\n                  }\n                />\n              ),\n            }\n          )}\n        </StyledPanelAlert>\n        {showRawJson && <JsonViewer {...this.props} />}\n      </Fragment>\n    );\n  }\n}\n\nconst StyledPanelAlert = styled(PanelAlert)<{border: boolean}>`\n  margin: 0;\n  border-bottom: ${p => (p.border ? `1px solid ${p.theme.border}` : null)};\n`;\n","import {EventAttachment} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\n\nexport type ViewerProps = {\n  attachment: EventAttachment;\n  event: Event;\n  orgId: string;\n  projectId: string;\n  className?: string;\n};\n\nexport function getAttachmentUrl(props: ViewerProps, withPrefix?: boolean): string {\n  const {orgId, projectId, event, attachment} = props;\n  return `${withPrefix ? '/api/0' : ''}/projects/${orgId}/${projectId}/events/${\n    event.id\n  }/attachments/${attachment.id}/?download`;\n}\n","import styled from '@emotion/styled';\n\nimport {DeviceName} from 'sentry/components/deviceName';\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Event, Meta} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nimport ContextSummaryNoSummary from './contextSummaryNoSummary';\nimport generateClassName from './generateClassName';\nimport Item from './item';\n\ntype Props = {\n  data: Data;\n  meta: NonNullable<Event['_meta']>['device'];\n};\n\ntype Data = {\n  arch?: string;\n  model?: string;\n  name?: string;\n};\n\ntype SubTitle = {\n  subject: string;\n  value: string;\n  meta?: Meta;\n};\n\nexport function ContextSummaryDevice({data, meta}: Props) {\n  if (Object.keys(data).length === 0) {\n    return <ContextSummaryNoSummary title={t('Unknown Device')} />;\n  }\n\n  const renderName = () => {\n    if (!defined(data.model)) {\n      return t('Unknown Device');\n    }\n\n    return (\n      <DeviceName value={data.model}>\n        {deviceName => {\n          return (\n            <AnnotatedText\n              value={meta.name?.[''] ? data.name : deviceName}\n              meta={meta.name?.['']}\n            />\n          );\n        }}\n      </DeviceName>\n    );\n  };\n\n  const getSubTitle = (): SubTitle | null => {\n    if (defined(data.arch)) {\n      return {\n        subject: t('Arch:'),\n        value: data.arch,\n        meta: meta.arch?.[''],\n      };\n    }\n\n    if (defined(data.model)) {\n      return {\n        subject: t('Model:'),\n        value: data.model,\n        meta: meta.model?.[''],\n      };\n    }\n\n    return null;\n  };\n\n  // TODO(dcramer): we need a better way to parse it\n  const className = generateClassName(data.model);\n  const subTitle = getSubTitle();\n\n  return (\n    <Item className={className} icon={<span className=\"context-item-icon\" />}>\n      <h3>{renderName()}</h3>\n      {subTitle && (\n        <TextOverflow isParagraph data-test-id=\"context-sub-title\">\n          <Subject>{subTitle.subject}</Subject>\n          <AnnotatedText value={subTitle.value} meta={subTitle.meta} />\n        </TextOverflow>\n      )}\n    </Item>\n  );\n}\n\nconst Subject = styled('strong')`\n  margin-right: ${space(0.5)};\n`;\n","import styled from '@emotion/styled';\n\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Event, Meta} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nimport ContextSummaryNoSummary from './contextSummaryNoSummary';\nimport generateClassName from './generateClassName';\nimport Item from './item';\n\ntype Props = {\n  data: Data;\n  meta: NonNullable<Event['_meta']>['gpu'];\n};\n\ntype Data = {\n  name: string;\n  vendor_name?: string;\n};\n\ntype VersionElement = {\n  subject: string;\n  value: string;\n  meta?: Meta;\n};\n\nexport function ContextSummaryGPU({data, meta}: Props) {\n  if (Object.keys(data).length === 0) {\n    return <ContextSummaryNoSummary title={t('Unknown GPU')} />;\n  }\n\n  const getVersionElement = (): VersionElement => {\n    if (defined(data.vendor_name)) {\n      return {\n        subject: t('Vendor:'),\n        value: data.vendor_name,\n        meta: meta.vendor_name?.[''],\n      };\n    }\n\n    return {\n      subject: t('Vendor:'),\n      value: t('Unknown'),\n    };\n  };\n\n  const versionElement = getVersionElement();\n\n  return (\n    <Item\n      className={generateClassName(data.vendor_name ? data.vendor_name : data.name)}\n      icon={<span className=\"context-item-icon\" />}\n    >\n      <h3>\n        <AnnotatedText value={data.name} meta={meta.name?.['']} />\n      </h3>\n      <TextOverflow isParagraph>\n        <Subject>{versionElement.subject}</Subject>\n        <AnnotatedText value={versionElement.value} meta={versionElement.meta} />\n      </TextOverflow>\n    </Item>\n  );\n}\n\nconst Subject = styled('strong')`\n  margin-right: ${space(0.5)};\n`;\n","import styled from '@emotion/styled';\n\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Event} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nimport ContextSummaryNoSummary from './contextSummaryNoSummary';\nimport generateClassName from './generateClassName';\nimport Item from './item';\n\ntype Props = {\n  data: Data;\n  meta: NonNullable<Event['_meta']>[keyof Event['_meta']];\n  unknownTitle: string;\n  omitUnknownVersion?: boolean;\n};\n\ntype Data = {\n  name: string;\n  version?: string;\n};\n\nexport function ContextSummaryGeneric({\n  data,\n  unknownTitle,\n  omitUnknownVersion = false,\n  meta,\n}: Props) {\n  if (Object.keys(data).length === 0) {\n    return <ContextSummaryNoSummary title={unknownTitle} />;\n  }\n\n  return (\n    <Item\n      className={generateClassName(data.name, data.version)}\n      icon={<span className=\"context-item-icon\" />}\n    >\n      <h3>\n        <AnnotatedText value={data.name} meta={meta.name?.['']} />\n      </h3>\n      {(data.version || !omitUnknownVersion) && (\n        <TextOverflow isParagraph>\n          <Subject>{t('Version:')}</Subject>\n          {!defined(data.version) ? (\n            t('Unknown')\n          ) : (\n            <AnnotatedText value={data.version} meta={meta.version?.['']} />\n          )}\n        </TextOverflow>\n      )}\n    </Item>\n  );\n}\n\nconst Subject = styled('strong')`\n  margin-right: ${space(0.5)};\n`;\n","import Item from './item';\n\ntype Props = {\n  title: string;\n};\n\nconst ContextSummaryNoSummary = ({title}: Props) => (\n  <Item icon={<span className=\"context-item-icon\" />}>\n    <h3 data-test-id=\"no-summary-title\">{title}</h3>\n  </Item>\n);\n\nexport default ContextSummaryNoSummary;\n","import styled from '@emotion/styled';\n\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Event, Meta} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nimport ContextSummaryNoSummary from './contextSummaryNoSummary';\nimport generateClassName from './generateClassName';\nimport Item from './item';\n\ntype Props = {\n  data: Data;\n  meta: NonNullable<Event['_meta']>['os'] | NonNullable<Event['_meta']>['client_os'];\n};\n\ntype Data = {\n  name: string | boolean;\n  kernel_version?: string;\n  version?: string | boolean;\n};\n\ntype VersionElement = {\n  subject: string;\n  value: string;\n  meta?: Meta;\n};\n\nexport function ContextSummaryOS({data, meta}: Props) {\n  if (Object.keys(data).length === 0) {\n    return <ContextSummaryNoSummary title={t('Unknown OS')} />;\n  }\n\n  const getVersionElement = (): VersionElement => {\n    if (defined(data.version) && typeof data.version === 'string') {\n      return {\n        subject: t('Version:'),\n        value: data.version,\n        meta: meta.version?.[''],\n      };\n    }\n\n    if (defined(data.kernel_version)) {\n      return {\n        subject: t('Kernel:'),\n        value: data.kernel_version,\n        meta: meta.kernel_version?.[''],\n      };\n    }\n\n    return {\n      subject: t('Version:'),\n      value: t('Unknown'),\n    };\n  };\n\n  const versionElement = getVersionElement();\n\n  return (\n    <Item\n      className={generateClassName(data.name)}\n      icon={<span className=\"context-item-icon\" />}\n    >\n      <h3>\n        <AnnotatedText value={data.name} meta={meta.name?.['']} />\n      </h3>\n      <TextOverflow isParagraph data-test-id=\"context-sub-title\">\n        <Subject>{versionElement.subject}</Subject>\n        <AnnotatedText value={versionElement.value} meta={versionElement.meta} />\n      </TextOverflow>\n    </Item>\n  );\n}\n\nconst Subject = styled('strong')`\n  margin-right: ${space(0.5)};\n`;\n","import styled from '@emotion/styled';\n\nimport UserAvatar from 'sentry/components/avatar/userAvatar';\nimport {removeFilterMaskedEntries} from 'sentry/components/events/interfaces/utils';\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {AvatarUser, Event, Meta} from 'sentry/types';\nimport {EventUser} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\nimport ContextSummaryNoSummary from './contextSummaryNoSummary';\nimport Item from './item';\n\ntype Props = {\n  data: EventUser;\n  meta: NonNullable<Event['_meta']>['user'];\n};\n\ntype UserTitle = {\n  value: string;\n  meta?: Meta;\n};\n\ntype UserDetails = {\n  subject: string;\n  meta?: Meta;\n  value?: string;\n};\n\nexport function ContextSummaryUser({data, meta}: Props) {\n  const user = removeFilterMaskedEntries(data);\n\n  if (Object.keys(user).length === 0) {\n    return <ContextSummaryNoSummary title={t('Unknown User')} />;\n  }\n\n  const renderUserDetails = (key: 'id' | 'username') => {\n    const userDetails: UserDetails = {\n      subject: t('Username:'),\n      value: user.username ?? '',\n      meta: meta.username?.[''],\n    };\n\n    if (key === 'id') {\n      userDetails.subject = t('ID:');\n      userDetails.value = user.id;\n      userDetails.meta = meta.id?.[''];\n    }\n\n    return (\n      <TextOverflow isParagraph data-test-id=\"context-sub-title\">\n        <Subject>{userDetails.subject}</Subject>\n        <AnnotatedText value={userDetails.value} meta={userDetails.meta} />\n      </TextOverflow>\n    );\n  };\n\n  const getUserTitle = (): UserTitle | undefined => {\n    if (defined(user.email)) {\n      return {\n        value: user.email,\n        meta: meta.email?.[''],\n      };\n    }\n\n    if (defined(user.ip_address)) {\n      return {\n        value: user.ip_address,\n        meta: meta.ip_address?.[''],\n      };\n    }\n\n    if (defined(user.id)) {\n      return {\n        value: user.id,\n        meta: meta.id?.[''],\n      };\n    }\n\n    if (defined(user.username)) {\n      return {\n        value: user.username,\n        meta: meta.username?.[''],\n      };\n    }\n\n    return undefined;\n  };\n\n  const userTitle = getUserTitle();\n\n  if (!userTitle) {\n    return <ContextSummaryNoSummary title={t('Unknown User')} />;\n  }\n\n  const icon = userTitle ? (\n    <UserAvatar\n      user={user as AvatarUser}\n      size={32}\n      className=\"context-item-icon\"\n      gravatar={false}\n    />\n  ) : (\n    <span className=\"context-item-icon\" />\n  );\n\n  return (\n    <Item className=\"user\" icon={icon}>\n      {userTitle && (\n        <h3 data-test-id=\"user-title\">\n          <AnnotatedText value={userTitle.value} meta={userTitle.meta} />\n        </h3>\n      )}\n      {defined(user.id) && user.id !== userTitle?.value\n        ? renderUserDetails('id')\n        : user.username &&\n          user.username !== userTitle?.value &&\n          renderUserDetails('username')}\n    </Item>\n  );\n}\n\nconst Subject = styled('strong')`\n  margin-right: ${space(0.5)};\n`;\n","import {Event} from 'sentry/types/event';\n\nimport {Context} from '.';\n\nfunction filterContexts(event: Event, context: Context) {\n  // if the operating system is macOS, we want to hide devices called \"Mac\" which don't have any additional info\n  if (context.keys.includes('device')) {\n    const {model, arch} = event.contexts?.device || {};\n    const {name: os} = event.contexts?.os || event.contexts?.client_os || {};\n\n    if (model === 'Mac' && !arch && os?.toLowerCase().includes('mac')) {\n      return false;\n    }\n  }\n\n  // do not show the context summary if only runtime raw_description is defined (without name or version)\n  if (context.keys.includes('runtime')) {\n    if (\n      event.contexts.runtime?.raw_description &&\n      !(event.contexts.runtime?.name || event.contexts.runtime?.version)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default filterContexts;\n","import {defined} from 'sentry/utils';\n\nfunction generateClassname(name?: string | boolean | null, version?: string): string {\n  if (!defined(name) || typeof name === 'boolean') {\n    return '';\n  }\n\n  const lowerCaseName = name.toLowerCase();\n\n  // amazon fire tv device id changes with version: AFTT, AFTN, AFTS, AFTA, AFTVA (alexa), ...\n  if (lowerCaseName.startsWith('aft')) {\n    return 'amazon';\n  }\n\n  if (lowerCaseName.startsWith('sm-') || lowerCaseName.startsWith('st-')) {\n    return 'samsung';\n  }\n\n  if (lowerCaseName.startsWith('moto')) {\n    return 'motorola';\n  }\n\n  if (lowerCaseName.startsWith('pixel')) {\n    return 'google';\n  }\n\n  const formattedName = name\n    .split(/\\d/)[0]\n    .toLowerCase()\n    .replace(/[^a-z0-9\\-]+/g, '-')\n    .replace(/\\-+$/, '')\n    .replace(/^\\-+/, '');\n\n  if (formattedName === 'edge' && version) {\n    const majorVersion = version.split('.')[0];\n    const isLegacyEdge = majorVersion >= '12' && majorVersion <= '18';\n\n    if (isLegacyEdge) {\n      return 'legacy-edge';\n    }\n  }\n\n  return formattedName;\n}\n\nexport default generateClassname;\n","import styled from '@emotion/styled';\n\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Event} from 'sentry/types/event';\nimport {objectIsEmpty} from 'sentry/utils';\n\nimport {ContextSummaryDevice} from './contextSummaryDevice';\nimport {ContextSummaryGeneric} from './contextSummaryGeneric';\nimport {ContextSummaryGPU} from './contextSummaryGPU';\nimport {ContextSummaryOS} from './contextSummaryOS';\nimport {ContextSummaryUser} from './contextSummaryUser';\nimport filterContexts from './filterContexts';\n\nexport type Context = {\n  // TODO(ts): Refactor this component\n  Component: (props: any) => JSX.Element;\n  keys: string[];\n  omitUnknownVersion?: boolean;\n  unknownTitle?: string;\n};\n\nconst MIN_CONTEXTS = 3;\nconst MAX_CONTEXTS = 4;\nconst KNOWN_CONTEXTS: Context[] = [\n  {keys: ['user'], Component: ContextSummaryUser},\n  {\n    keys: ['browser'],\n    Component: ContextSummaryGeneric,\n    unknownTitle: t('Unknown Browser'),\n  },\n  {\n    keys: ['runtime'],\n    Component: ContextSummaryGeneric,\n    unknownTitle: t('Unknown Runtime'),\n    omitUnknownVersion: true,\n  },\n  {keys: ['client_os', 'os'], Component: ContextSummaryOS},\n  {keys: ['device'], Component: ContextSummaryDevice},\n  {keys: ['gpu'], Component: ContextSummaryGPU},\n];\n\ntype Props = {\n  event: Event;\n};\n\nfunction ContextSummary({event}: Props) {\n  let contextCount = 0;\n\n  // Add defined contexts in the declared order, until we reach the limit\n  // defined by MAX_CONTEXTS.\n  let contexts = KNOWN_CONTEXTS.filter(context => filterContexts(event, context)).map(\n    ({keys, Component, unknownTitle, omitUnknownVersion}) => {\n      if (contextCount >= MAX_CONTEXTS) {\n        return null;\n      }\n\n      const [key, data] = keys\n        .map(k => [k, event.contexts[k] || event[k]])\n        .find(([_k, d]) => !objectIsEmpty(d)) || [null, null];\n\n      if (!key) {\n        return null;\n      }\n\n      contextCount += 1;\n      return (\n        <Component\n          key={key}\n          data={data}\n          unknownTitle={unknownTitle}\n          omitUnknownVersion={omitUnknownVersion}\n          meta={event._meta?.contexts?.[key] ?? {}}\n        />\n      );\n    }\n  );\n\n  // Bail out if all contexts are empty or only the user context is set\n  if (contextCount === 0 || (contextCount === 1 && contexts[0])) {\n    return null;\n  }\n\n  if (contextCount < MIN_CONTEXTS) {\n    // Add contents in the declared order until we have at least MIN_CONTEXTS\n    // contexts in our list.\n    contexts = KNOWN_CONTEXTS.filter(context => filterContexts(event, context)).map(\n      ({keys, Component, unknownTitle}, index) => {\n        if (contexts[index]) {\n          return contexts[index];\n        }\n        if (contextCount >= MIN_CONTEXTS) {\n          return null;\n        }\n        contextCount += 1;\n        return (\n          <Component\n            key={keys[0]}\n            data={{}}\n            unknownTitle={unknownTitle}\n            meta={event._meta?.contexts?.[keys[0]] ?? {}}\n          />\n        );\n      }\n    );\n  }\n\n  return <Wrapper className=\"context-summary\">{contexts}</Wrapper>;\n}\n\nexport default ContextSummary;\n\nconst Wrapper = styled('div')`\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    display: flex;\n    gap: ${space(3)};\n    margin-bottom: ${space(2)};\n  }\n`;\n","import styled from '@emotion/styled';\nimport classNames from 'classnames';\n\nimport space from 'sentry/styles/space';\n\ntype Props = {\n  children: React.ReactNode;\n  icon: React.ReactElement;\n  className?: string;\n};\n\nconst Item = ({children, icon, className}: Props) => (\n  <Wrapper className={classNames('context-item', className)} data-test-id=\"context-item\">\n    {icon}\n    {children && <Details>{children}</Details>}\n  </Wrapper>\n);\n\nexport default Item;\n\nconst Details = styled('div')`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  max-width: 100%;\n  min-height: 48px;\n`;\n\nconst Wrapper = styled('div')`\n  border-top: 1px solid ${p => p.theme.innerBorder};\n  padding: ${space(0.5)} 0 ${space(0.5)} 40px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  min-width: 0;\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    :not(:last-child) {\n      margin-right: ${space(3)};\n    }\n    max-width: 25%;\n    border: 0;\n    padding: 0px 0px 0px 42px;\n  }\n`;\n","import {t} from 'sentry/locale';\nimport {Event} from 'sentry/types/event';\n\nimport {getRelativeTimeFromEventDateCreated} from '../utils';\n\nimport {AppData, AppKnownDataType} from './types';\n\ntype Output = {\n  subject: string;\n  value?: React.ReactNode;\n};\n\ntype Props = {\n  data: AppData;\n  event: Event;\n  type: AppKnownDataType;\n};\n\nexport function getAppKnownDataDetails({data, event, type}: Props): Output | undefined {\n  switch (type) {\n    case AppKnownDataType.ID:\n      return {\n        subject: t('ID'),\n        value: data.app_id,\n      };\n    case AppKnownDataType.START_TIME:\n      return {\n        subject: t('Start Time'),\n        value: getRelativeTimeFromEventDateCreated(\n          event.dateCreated ? event.dateCreated : event.dateReceived,\n          data.app_start_time\n        ),\n      };\n    case AppKnownDataType.DEVICE_HASH:\n      return {\n        subject: t('Device'),\n        value: data.device_app_hash,\n      };\n    case AppKnownDataType.TYPE:\n      return {\n        subject: t('Build Type'),\n        value: data.build_type,\n      };\n    case AppKnownDataType.IDENTIFIER:\n      return {\n        subject: t('Build ID'),\n        value: data.app_identifier,\n      };\n    case AppKnownDataType.NAME:\n      return {\n        subject: t('Build Name'),\n        value: data.app_name,\n      };\n    case AppKnownDataType.VERSION:\n      return {\n        subject: t('Version'),\n        value: data.app_version,\n      };\n    case AppKnownDataType.BUILD:\n      return {\n        subject: t('App Build'),\n        value: data.app_build,\n      };\n    default:\n      return undefined;\n  }\n}\n","import {Fragment} from 'react';\n\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\nimport {Event} from 'sentry/types/event';\n\nimport {geKnownData, getUnknownData} from '../utils';\n\nimport {getAppKnownDataDetails} from './getAppKnownDataDetails';\nimport {AppData, AppKnownDataType} from './types';\n\ntype Props = {\n  data: AppData;\n  event: Event;\n};\n\nexport const appKnownDataValues = [\n  AppKnownDataType.ID,\n  AppKnownDataType.START_TIME,\n  AppKnownDataType.DEVICE_HASH,\n  AppKnownDataType.IDENTIFIER,\n  AppKnownDataType.NAME,\n  AppKnownDataType.VERSION,\n  AppKnownDataType.BUILD,\n];\n\nconst appIgnoredDataValues = [];\n\nexport function AppEventContext({data, event}: Props) {\n  const meta = event._meta?.contexts?.app ?? {};\n  return (\n    <Fragment>\n      <ContextBlock\n        data={geKnownData<AppData, AppKnownDataType>({\n          data,\n          meta,\n          knownDataTypes: appKnownDataValues,\n          onGetKnownDataDetails: v => getAppKnownDataDetails({...v, event}),\n        })}\n      />\n      <ContextBlock\n        data={getUnknownData({\n          allData: data,\n          knownKeys: [...appKnownDataValues, ...appIgnoredDataValues],\n          meta,\n        })}\n      />\n    </Fragment>\n  );\n}\n","export enum AppKnownDataType {\n  ID = 'app_id',\n  START_TIME = 'app_start_time',\n  DEVICE_HASH = 'device_app_hash',\n  TYPE = 'build_type',\n  IDENTIFIER = 'app_identifier',\n  NAME = 'app_name',\n  VERSION = 'app_version',\n  BUILD = 'app_build',\n}\n\nexport type AppData = {\n  type: string;\n  app_build?: string;\n  app_id?: string;\n  app_identifier?: string;\n  app_name?: string;\n  app_start_time?: string;\n  app_version?: string;\n  build_type?: string;\n  device_app_hash?: string;\n};\n","import {t} from 'sentry/locale';\n\nimport {BrowserKnownData, BrowserKnownDataType} from './types';\n\ntype Output = {\n  subject: string;\n  value: React.ReactNode | null;\n};\n\ntype Props = {\n  data: BrowserKnownData;\n  type: BrowserKnownDataType;\n};\n\nexport function getBrowserKnownDataDetails({data, type}: Props): Output | undefined {\n  switch (type) {\n    case BrowserKnownDataType.NAME:\n      return {\n        subject: t('Name'),\n        value: data.name,\n      };\n    case BrowserKnownDataType.VERSION:\n      return {\n        subject: t('Version'),\n        value: `${data.version}`,\n      };\n    default:\n      return undefined;\n  }\n}\n","import {Fragment} from 'react';\n\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\nimport {Event} from 'sentry/types';\n\nimport {geKnownData, getUnknownData} from '../utils';\n\nimport {getBrowserKnownDataDetails} from './getBrowserKnownDataDetails';\nimport {BrowserKnownData, BrowserKnownDataType} from './types';\n\ntype Props = {\n  data: BrowserKnownData;\n  event: Event;\n};\n\nexport const browserKnownDataValues = [\n  BrowserKnownDataType.NAME,\n  BrowserKnownDataType.VERSION,\n];\n\nexport function BrowserEventContext({data, event}: Props) {\n  const meta = event._meta?.contexts?.browser ?? {};\n  return (\n    <Fragment>\n      <ContextBlock\n        data={geKnownData<BrowserKnownData, BrowserKnownDataType>({\n          data,\n          meta,\n          knownDataTypes: browserKnownDataValues,\n          onGetKnownDataDetails: v => getBrowserKnownDataDetails(v),\n        })}\n      />\n      <ContextBlock\n        data={getUnknownData({\n          allData: data,\n          knownKeys: [...browserKnownDataValues],\n          meta,\n        })}\n      />\n    </Fragment>\n  );\n}\n","export enum BrowserKnownDataType {\n  NAME = 'name',\n  VERSION = 'version',\n}\n\nexport type BrowserKnownData = {\n  name: string;\n  version: string;\n};\n","import {Component, Fragment} from 'react';\n\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport {t} from 'sentry/locale';\nimport plugins from 'sentry/plugins';\nimport {Group} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {defined, toTitleCase} from 'sentry/utils';\n\nimport {getContextComponent, getSourcePlugin} from './utils';\n\ntype Props = {\n  alias: string;\n  event: Event;\n  type: string;\n  group?: Group;\n  value?: Record<string, any>;\n};\n\ntype State = {\n  isLoading: boolean;\n  pluginLoading?: boolean;\n};\n\nclass Chunk extends Component<Props, State> {\n  state: State = {\n    isLoading: false,\n  };\n\n  UNSAFE_componentWillMount() {\n    this.syncPlugin();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.type !== this.props.type ||\n      prevProps.group?.id !== this.props.group?.id\n    ) {\n      this.syncPlugin();\n    }\n  }\n\n  syncPlugin() {\n    const {group, type, alias} = this.props;\n    // If we don't have a grouped event we can't sync with plugins.\n    if (!group) {\n      return;\n    }\n\n    // Search using `alias` first because old plugins rely on it and type is set to \"default\"\n    // e.g. sessionstack\n    const sourcePlugin =\n      type === 'default'\n        ? getSourcePlugin(group.pluginContexts, alias) ||\n          getSourcePlugin(group.pluginContexts, type)\n        : getSourcePlugin(group.pluginContexts, type);\n\n    if (!sourcePlugin) {\n      this.setState({pluginLoading: false});\n      return;\n    }\n\n    this.setState(\n      {\n        pluginLoading: true,\n      },\n      () => {\n        plugins.load(sourcePlugin, () => {\n          this.setState({pluginLoading: false});\n        });\n      }\n    );\n  }\n\n  getTitle() {\n    const {value = {}, alias, type} = this.props;\n\n    if (defined(value.title) && typeof value.title !== 'object') {\n      return value.title;\n    }\n\n    if (!defined(type)) {\n      return toTitleCase(alias);\n    }\n\n    switch (type) {\n      case 'app':\n        return t('App');\n      case 'device':\n        return t('Device');\n      case 'os':\n        return t('Operating System');\n      case 'user':\n        return t('User');\n      case 'gpu':\n        return t('Graphics Processing Unit');\n      case 'runtime':\n        return t('Runtime');\n      case 'trace':\n        return t('Trace Details');\n      case 'default':\n        if (alias === 'state') {\n          return t('Application State');\n        }\n        return toTitleCase(alias);\n      default:\n        return toTitleCase(type);\n    }\n  }\n\n  render() {\n    const {pluginLoading} = this.state;\n\n    // if we are currently loading the plugin, just render nothing for now.\n    if (pluginLoading) {\n      return null;\n    }\n\n    const {type, alias, value = {}, event} = this.props;\n\n    // we intentionally hide reprocessing context to not imply it was sent by the SDK.\n    if (alias === 'reprocessing') {\n      return null;\n    }\n\n    const ContextComponent =\n      type === 'default'\n        ? getContextComponent(alias) || getContextComponent(type)\n        : getContextComponent(type);\n\n    const isObjectValueEmpty = Object.values(value).filter(v => defined(v)).length === 0;\n\n    // this can happen if the component does not exist\n    if (!ContextComponent || isObjectValueEmpty) {\n      return null;\n    }\n\n    return (\n      <EventDataSection\n        key={`context-${alias}`}\n        type={`context-${alias}`}\n        title={\n          <Fragment>\n            {this.getTitle()}\n            {defined(type) && type !== 'default' && alias !== type && (\n              <small>({alias})</small>\n            )}\n          </Fragment>\n        }\n      >\n        <ContextComponent alias={alias} event={event} data={value} />\n      </EventDataSection>\n    );\n  }\n}\n\nexport default Chunk;\n","import ErrorBoundary from 'sentry/components/errorBoundary';\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport {KeyValueListData} from 'sentry/types';\n\ntype Props = {\n  data: KeyValueListData;\n  raw?: boolean;\n};\n\nconst ContextBlock = ({data, raw = false}: Props) => {\n  if (data.length === 0) {\n    return null;\n  }\n\n  return (\n    <ErrorBoundary mini>\n      <KeyValueList data={data} raw={raw} isContextData />\n    </ErrorBoundary>\n  );\n};\n\nexport default ContextBlock;\n","import startCase from 'lodash/startCase';\n\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\nimport {Event} from 'sentry/types/event';\n\ntype Props = {\n  alias: string;\n  data: Record<string, React.ReactNode | undefined>;\n  event: Event;\n};\n\nfunction getKnownData(data: Props['data']) {\n  return Object.entries(data)\n    .filter(([k]) => k !== 'type' && k !== 'title')\n    .map(([key, value]) => ({\n      key,\n      subject: startCase(key),\n      value,\n    }));\n}\n\nconst DefaultContextType = ({data}: Props) => <ContextBlock data={getKnownData(data)} />;\n\nexport default DefaultContextType;\n","import {DeviceName} from 'sentry/components/deviceName';\nimport FileSize from 'sentry/components/fileSize';\nimport {t} from 'sentry/locale';\nimport {Event} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\nimport {getFullLanguageDescription, getRelativeTimeFromEventDateCreated} from '../utils';\n\nimport {DeviceData, DeviceKnownDataType} from './types';\nimport {formatMemory, formatStorage} from './utils';\n\ntype Output = {\n  subject: string;\n  value?: React.ReactNode;\n};\n\ntype Props = {\n  data: DeviceData;\n  event: Event;\n  type: DeviceKnownDataType;\n};\n\nexport function getDeviceKnownDataDetails({\n  data,\n  event,\n  type,\n}: Props): Output | undefined {\n  switch (type) {\n    case DeviceKnownDataType.NAME:\n      return {\n        subject: t('Name'),\n        value: data.name,\n      };\n    case DeviceKnownDataType.FAMILY:\n      return {\n        subject: t('Family'),\n        value: data.family,\n      };\n    case DeviceKnownDataType.MODEL_ID:\n      return {\n        subject: t('Model Id'),\n        value: data.model_id,\n      };\n    case DeviceKnownDataType.MODEL:\n      return {\n        subject: t('Model'),\n        value:\n          typeof data.model === 'string' ? (\n            <DeviceName\n              value={`${data.model} ${data?.model_id ? `(${data.model_id})` : ''}`}\n            />\n          ) : undefined,\n      };\n    case DeviceKnownDataType.RENDERED_MODEL:\n      return {\n        subject: t('Rendered Model'),\n        value: data.renderedModel,\n      };\n    case DeviceKnownDataType.CPU_DESCRIPTION:\n      return {\n        subject: t('CPU Description'),\n        value: data.cpu_description,\n      };\n    case DeviceKnownDataType.ARCH:\n      return {\n        subject: t('Architecture'),\n        value: data.arch,\n      };\n    case DeviceKnownDataType.BATTERY_LEVEL:\n      return {\n        subject: t('Battery Level'),\n        value: defined(data.battery_level) ? `${data.battery_level}%` : undefined,\n      };\n    case DeviceKnownDataType.BATTERY_STATUS:\n      return {\n        subject: t('Battery Status'),\n        value: data.battery_status,\n      };\n    case DeviceKnownDataType.ORIENTATION:\n      return {\n        subject: t('Orientation'),\n        value: data.orientation,\n      };\n    case DeviceKnownDataType.MEMORY:\n      const {memory_size, free_memory, usable_memory} = data;\n      return {\n        subject: t('Memory'),\n        value:\n          memory_size && free_memory && usable_memory\n            ? formatMemory(memory_size, free_memory, usable_memory)\n            : undefined,\n      };\n    case DeviceKnownDataType.STORAGE:\n      const {storage_size, free_storage, external_storage_size, external_free_storage} =\n        data;\n      return {\n        subject: t('Capacity'),\n        value:\n          storage_size && free_storage && external_storage_size && external_free_storage\n            ? formatStorage(\n                storage_size,\n                free_storage,\n                external_storage_size,\n                external_free_storage\n              )\n            : undefined,\n      };\n    case DeviceKnownDataType.FREE_STORAGE: {\n      return {\n        subject: t('Free Storage'),\n        value: data.free_storage ? <FileSize bytes={data.free_storage} /> : undefined,\n      };\n    }\n    case DeviceKnownDataType.STORAGE_SIZE: {\n      return {\n        subject: t('Storage Size'),\n        value: data.storage_size ? <FileSize bytes={data.storage_size} /> : undefined,\n      };\n    }\n    case DeviceKnownDataType.EXTERNAL_STORAGE_SIZE: {\n      return {\n        subject: t('External Storage Size'),\n        value: data.external_storage_size ? (\n          <FileSize bytes={data.external_storage_size} />\n        ) : undefined,\n      };\n    }\n    case DeviceKnownDataType.EXTERNAL_FREE_STORAGE: {\n      return {\n        subject: t('External Free Storage'),\n        value: data.external_free_storage ? (\n          <FileSize bytes={data.external_free_storage} />\n        ) : undefined,\n      };\n    }\n    case DeviceKnownDataType.SIMULATOR:\n      return {\n        subject: t('Simulator'),\n        value: data.simulator,\n      };\n    case DeviceKnownDataType.BOOT_TIME:\n      return {\n        subject: t('Boot Time'),\n        value: getRelativeTimeFromEventDateCreated(\n          event.dateCreated ? event.dateCreated : event.dateReceived,\n          data.boot_time\n        ),\n      };\n    case DeviceKnownDataType.TIMEZONE:\n      return {\n        subject: t('Timezone'),\n        value: data.timezone,\n      };\n    case DeviceKnownDataType.DEVICE_TYPE:\n      return {\n        subject: t('Device Type'),\n        value: data.device_type,\n      };\n    case DeviceKnownDataType.ARCHS:\n      return {\n        subject: t('Architectures'),\n        value: data.archs,\n      };\n    case DeviceKnownDataType.BRAND:\n      return {\n        subject: t('Brand'),\n        value: data.brand,\n      };\n    case DeviceKnownDataType.CHARGING:\n      return {\n        subject: t('Charging'),\n        value: data.charging,\n      };\n    case DeviceKnownDataType.CONNECTION_TYPE:\n      return {\n        subject: t('Connection Type'),\n        value: data.connection_type,\n      };\n    case DeviceKnownDataType.ID:\n      return {\n        subject: t('Id'),\n        value: data.id,\n      };\n    case DeviceKnownDataType.LANGUAGE:\n      return {\n        subject: t('Language'),\n        value: defined(data.language)\n          ? getFullLanguageDescription(data.language)\n          : undefined,\n      };\n    case DeviceKnownDataType.LOW_MEMORY:\n      return {\n        subject: t('Low Memory'),\n        value: data.low_memory,\n      };\n    case DeviceKnownDataType.FREE_MEMORY:\n      return {\n        subject: t('Free Memory'),\n        value: data.free_memory ? <FileSize bytes={data.free_memory} /> : undefined,\n      };\n    case DeviceKnownDataType.MEMORY_SIZE:\n      return {\n        subject: t('Memory Size'),\n        value: data.memory_size ? <FileSize bytes={data.memory_size} /> : undefined,\n      };\n    case DeviceKnownDataType.USABLE_MEMORY:\n      return {\n        subject: t('Usable Memory'),\n        value: data.usable_memory ? <FileSize bytes={data.usable_memory} /> : undefined,\n      };\n    case DeviceKnownDataType.MANUFACTURER:\n      return {\n        subject: t('Manufacturer'),\n        value: data.manufacturer,\n      };\n    case DeviceKnownDataType.ONLINE:\n      return {\n        subject: t('Online'),\n        value: data.online,\n      };\n    case DeviceKnownDataType.SCREEN_DENSITY:\n      return {\n        subject: t('Screen Density'),\n        value: data.screen_density,\n      };\n    case DeviceKnownDataType.SCREEN_DPI:\n      return {\n        subject: t('Screen DPI'),\n        value: data.screen_dpi,\n      };\n    case DeviceKnownDataType.SCREEN_HEIGHT_PIXELS:\n      return {\n        subject: t('Screen Height Pixels'),\n        value: data.screen_height_pixels,\n      };\n    case DeviceKnownDataType.SCREEN_RESOLUTION:\n      return {\n        subject: t('Screen Resolution'),\n        value: data.screen_resolution,\n      };\n    case DeviceKnownDataType.SCREEN_WIDTH_PIXELS:\n      return {\n        subject: t('Screen Width Pixels'),\n        value: data.screen_width_pixels,\n      };\n    default:\n      return undefined;\n  }\n}\n","import {Fragment} from 'react';\n\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\nimport {Event} from 'sentry/types/event';\n\nimport {geKnownData, getUnknownData} from '../utils';\n\nimport {getDeviceKnownDataDetails} from './getDeviceKnownDataDetails';\nimport {DeviceData, DeviceKnownDataType} from './types';\nimport {getInferredData} from './utils';\n\ntype Props = {\n  data: DeviceData;\n  event: Event;\n};\n\nexport const deviceKnownDataValues = [\n  DeviceKnownDataType.NAME,\n  DeviceKnownDataType.FAMILY,\n  DeviceKnownDataType.CPU_DESCRIPTION,\n  DeviceKnownDataType.ARCH,\n  DeviceKnownDataType.BATTERY_LEVEL,\n  DeviceKnownDataType.BATTERY_STATUS,\n  DeviceKnownDataType.ORIENTATION,\n  DeviceKnownDataType.MEMORY,\n  DeviceKnownDataType.MEMORY_SIZE,\n  DeviceKnownDataType.FREE_MEMORY,\n  DeviceKnownDataType.USABLE_MEMORY,\n  DeviceKnownDataType.LOW_MEMORY,\n  DeviceKnownDataType.STORAGE_SIZE,\n  DeviceKnownDataType.EXTERNAL_STORAGE_SIZE,\n  DeviceKnownDataType.EXTERNAL_FREE_STORAGE,\n  DeviceKnownDataType.STORAGE,\n  DeviceKnownDataType.FREE_STORAGE,\n  DeviceKnownDataType.SIMULATOR,\n  DeviceKnownDataType.BOOT_TIME,\n  DeviceKnownDataType.TIMEZONE,\n  DeviceKnownDataType.DEVICE_TYPE,\n  DeviceKnownDataType.ARCHS,\n  DeviceKnownDataType.BRAND,\n  DeviceKnownDataType.CHARGING,\n  DeviceKnownDataType.CONNECTION_TYPE,\n  DeviceKnownDataType.ID,\n  DeviceKnownDataType.LANGUAGE,\n  DeviceKnownDataType.MANUFACTURER,\n  DeviceKnownDataType.ONLINE,\n  DeviceKnownDataType.SCREEN_DENSITY,\n  DeviceKnownDataType.SCREEN_DPI,\n  DeviceKnownDataType.SCREEN_RESOLUTION,\n  DeviceKnownDataType.SCREEN_HEIGHT_PIXELS,\n  DeviceKnownDataType.SCREEN_WIDTH_PIXELS,\n  DeviceKnownDataType.MODEL,\n  DeviceKnownDataType.MODEL_ID,\n  DeviceKnownDataType.RENDERED_MODEL,\n];\n\nconst deviceIgnoredDataValues = [];\n\nexport function DeviceEventContext({data, event}: Props) {\n  const inferredData = getInferredData(data);\n  const meta = event._meta?.contexts?.device ?? {};\n\n  return (\n    <Fragment>\n      <ContextBlock\n        data={geKnownData<DeviceData, DeviceKnownDataType>({\n          data: inferredData,\n          meta,\n          knownDataTypes: deviceKnownDataValues,\n          onGetKnownDataDetails: v => getDeviceKnownDataDetails({...v, event}),\n        }).map(v => ({\n          ...v,\n          subjectDataTestId: `device-context-${v.key.toLowerCase()}-value`,\n        }))}\n      />\n      <ContextBlock\n        data={getUnknownData({\n          allData: inferredData,\n          knownKeys: [...deviceKnownDataValues, ...deviceIgnoredDataValues],\n          meta,\n        })}\n      />\n    </Fragment>\n  );\n}\n","export enum DeviceKnownDataType {\n  ARCH = 'arch',\n  ARCHS = 'archs',\n  BATTERY_LEVEL = 'battery_level',\n  BATTERY_STATUS = 'battery_status',\n  BRAND = 'brand',\n  BOOT_TIME = 'boot_time',\n  CONNECTION_TYPE = 'connection_type',\n  CHARGING = 'charging',\n  CPU_DESCRIPTION = 'cpu_description',\n  DEVICE_TYPE = 'device_type',\n  EXTERNAL_STORAGE_SIZE = 'external_storage_size',\n  EXTERNAL_FREE_STORAGE = 'external_free_storage',\n  FAMILY = 'family',\n  FREE_STORAGE = 'free_storage',\n  FREE_MEMORY = 'free_memory',\n  ID = 'id',\n  LANGUAGE = 'language',\n  LOW_MEMORY = 'low_memory',\n  MANUFACTURER = 'manufacturer',\n  MODEL = 'model',\n  MODEL_ID = 'model_id',\n  MEMORY = 'memory',\n  MEMORY_SIZE = 'memory_size',\n  NAME = 'name',\n  ONLINE = 'online',\n  ORIENTATION = 'orientation',\n  RENDERED_MODEL = 'renderedModel',\n  SIMULATOR = 'simulator',\n  SCREEN_DENSITY = 'screen_density',\n  SCREEN_DPI = 'screen_dpi',\n  SCREEN_HEIGHT_PIXELS = 'screen_height_pixels',\n  SCREEN_RESOLUTION = 'screen_resolution',\n  SCREEN_WIDTH_PIXELS = 'screen_width_pixels',\n  STORAGE_SIZE = 'storage_size',\n  STORAGE = 'storage',\n  TIMEZONE = 'timezone',\n  USABLE_MEMORY = 'usable_memory',\n}\n\n// TODO(ts): add correct types\nexport type DeviceData = {\n  device_type: string;\n  name: string;\n  arch?: string;\n  archs?: Array<string>;\n  battery_level?: number;\n  battery_status?: string;\n  boot_time?: string;\n  brand?: string;\n  charging?: boolean;\n  connection_type?: any;\n  cpu_description?: string;\n  external_free_storage?: number;\n  external_storage_size?: number;\n  family?: string;\n  free_memory?: number;\n  free_storage?: number;\n  id?: any;\n  language?: any;\n  low_memory?: boolean;\n  manufacturer?: string;\n  memory?: any;\n  memory_size?: number;\n  model?: string;\n  model_id?: string;\n  online?: boolean;\n  orientation?: string;\n  renderedModel?: any;\n  screen_density?: number;\n  screen_dpi?: number;\n  screen_height_pixels?: number;\n  screen_resolution?: string;\n  screen_width_pixels?: number;\n  simulator?: boolean;\n  storage?: any;\n  storage_size?: number;\n  timezone?: string;\n  type?: string;\n  usable_memory?: number;\n};\n","import {defined, formatBytesBase2} from 'sentry/utils';\n\nimport {DeviceData, DeviceKnownDataType} from './types';\n\nexport function formatMemory(\n  memory_size: number,\n  free_memory: number,\n  usable_memory: number\n) {\n  if (\n    !Number.isInteger(memory_size) ||\n    memory_size <= 0 ||\n    !Number.isInteger(free_memory) ||\n    free_memory <= 0\n  ) {\n    return null;\n  }\n\n  let memory = `Total: ${formatBytesBase2(memory_size)} / Free: ${formatBytesBase2(\n    free_memory\n  )}`;\n  if (Number.isInteger(usable_memory) && usable_memory > 0) {\n    memory = `${memory} / Usable: ${formatBytesBase2(usable_memory)}`;\n  }\n\n  return memory;\n}\n\nexport function formatStorage(\n  storage_size: number,\n  free_storage: number,\n  external_storage_size: number,\n  external_free_storage: number\n) {\n  if (!Number.isInteger(storage_size) || storage_size <= 0) {\n    return null;\n  }\n\n  let storage = `Total: ${formatBytesBase2(storage_size)}`;\n  if (Number.isInteger(free_storage) && free_storage > 0) {\n    storage = `${storage} / Free: ${formatBytesBase2(free_storage)}`;\n  }\n\n  if (\n    Number.isInteger(external_storage_size) &&\n    external_storage_size > 0 &&\n    Number.isInteger(external_free_storage) &&\n    external_free_storage > 0\n  ) {\n    storage = `${storage} (External Total: ${formatBytesBase2(\n      external_storage_size\n    )} / Free: ${formatBytesBase2(external_free_storage)})`;\n  }\n\n  return storage;\n}\n\n// List of common display resolutions taken from the source: https://en.wikipedia.org/wiki/Display_resolution#Common_display_resolutions\nexport const commonDisplayResolutions = {\n  '640x360': 'nHD',\n  '800x600': 'SVGA',\n  '1024x768': 'XGA',\n  '1280x720': 'WXGA',\n  '1280x800': 'WXGA',\n  '1280x1024': 'SXGA',\n  '1360x768': 'HD',\n  '1366x768': 'HD',\n  '1440x900': 'WXGA+',\n  '1536x864': 'NA',\n  '1600x900': 'HD+',\n  '1680x1050': 'WSXGA+',\n  '1920x1080': 'FHD',\n  '1920x1200': 'WUXGA',\n  '2048x1152': 'QWXGA',\n  '2560x1080': 'N/A',\n  '2560x1440': 'QHD',\n  '3440x1440': 'N/A',\n  '3840x2160': '4K UHD',\n};\n\nexport function getInferredData(data: DeviceData) {\n  const screenResolution = data[DeviceKnownDataType.SCREEN_RESOLUTION];\n  const screenWidth = data[DeviceKnownDataType.SCREEN_WIDTH_PIXELS];\n  const screenHeight = data[DeviceKnownDataType.SCREEN_HEIGHT_PIXELS];\n\n  if (screenResolution) {\n    const displayResolutionDescription = commonDisplayResolutions[screenResolution];\n\n    const commonData = {\n      ...data,\n      [DeviceKnownDataType.SCREEN_RESOLUTION]: displayResolutionDescription\n        ? `${screenResolution} (${displayResolutionDescription})`\n        : screenResolution,\n    };\n\n    if (!defined(screenWidth) && !defined(screenHeight)) {\n      const [width, height] = screenResolution.split('x');\n\n      if (width && height) {\n        return {\n          ...commonData,\n          [DeviceKnownDataType.SCREEN_WIDTH_PIXELS]: Number(width),\n          [DeviceKnownDataType.SCREEN_HEIGHT_PIXELS]: Number(height),\n        };\n      }\n    }\n\n    return commonData;\n  }\n\n  if (defined(screenWidth) && defined(screenHeight)) {\n    const displayResolution = `${screenWidth}x${screenHeight}`;\n    const displayResolutionDescription = commonDisplayResolutions[displayResolution];\n\n    return {\n      ...data,\n      [DeviceKnownDataType.SCREEN_RESOLUTION]: displayResolutionDescription\n        ? `${displayResolution} (${displayResolutionDescription})`\n        : displayResolution,\n    };\n  }\n\n  return data;\n}\n","import {formatBytesBase2} from 'sentry/utils';\n\nconst MEGABYTE_IN_BYTES = 1048576;\n\nfunction formatMemory(memory_size: number) {\n  if (!Number.isInteger(memory_size) || memory_size <= 0) {\n    return null;\n  }\n\n  // 'usable_memory' is in defined in MB\n  return formatBytesBase2(memory_size * MEGABYTE_IN_BYTES);\n}\n\nexport default formatMemory;\n","import {t} from 'sentry/locale';\n\nimport formatMemory from './formatMemory';\nimport {GPUData, GPUKnownDataType} from './types';\n\ntype Output = {\n  subject: string;\n  value?: React.ReactNode;\n};\n\ntype Props = {\n  data: GPUData;\n  type: GPUKnownDataType;\n};\n\nexport function getGPUKnownDataDetails({data, type}: Props): Output | undefined {\n  switch (type) {\n    case GPUKnownDataType.NAME:\n      return {\n        subject: t('Name'),\n        value: data.name,\n      };\n    case GPUKnownDataType.VERSION:\n      return {\n        subject: t('Version'),\n        value: data.version,\n      };\n    case GPUKnownDataType.MEMORY:\n      return {\n        subject: t('Memory'),\n        value: data.memory_size ? formatMemory(data.memory_size) : undefined,\n      };\n    case GPUKnownDataType.NPOT_SUPPORT:\n      return {\n        subject: t('NPOT Support'),\n        value: data.npot_support,\n      };\n    case GPUKnownDataType.VENDOR_NAME:\n      return {\n        subject: t('Vendor Name'),\n        value: data.vendor_name,\n      };\n    case GPUKnownDataType.MULTI_THREAD_RENDERING:\n      return {\n        subject: t('Multi-Thread rendering'),\n        value: data.multi_threaded_rendering,\n      };\n    case GPUKnownDataType.API_TYPE:\n      return {\n        subject: t('API Type'),\n        value: data.api_type,\n      };\n    case GPUKnownDataType.VENDOR_ID:\n      return {\n        subject: t('Vendor ID'),\n        value: data.vendor_id,\n      };\n    case GPUKnownDataType.ID:\n      return {\n        subject: t('GPU ID'),\n        value: data.id,\n      };\n    default:\n      return undefined;\n  }\n}\n","import {Fragment} from 'react';\n\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\nimport {Event} from 'sentry/types/event';\n\nimport {geKnownData, getUnknownData} from '../utils';\n\nimport {getGPUKnownDataDetails} from './getGPUKnownDataDetails';\nimport {GPUData, GPUKnownDataType} from './types';\n\ntype Props = {\n  data: GPUData;\n  event: Event;\n};\n\nexport const gpuKnownDataValues = [\n  GPUKnownDataType.NAME,\n  GPUKnownDataType.VERSION,\n  GPUKnownDataType.VENDOR_NAME,\n  GPUKnownDataType.MEMORY,\n  GPUKnownDataType.NPOT_SUPPORT,\n  GPUKnownDataType.MULTI_THREAD_RENDERING,\n  GPUKnownDataType.API_TYPE,\n];\n\nconst gpuIgnoredDataValues = [];\n\nexport function GPUEventContext({event, data}: Props) {\n  const meta = event._meta?.contexts?.gpu ?? {};\n\n  if (data.vendor_id > 0) {\n    gpuKnownDataValues.unshift[GPUKnownDataType.VENDOR_ID];\n  }\n\n  if (data.id > 0) {\n    gpuKnownDataValues.unshift[GPUKnownDataType.ID];\n  }\n\n  return (\n    <Fragment>\n      <ContextBlock\n        data={geKnownData<GPUData, GPUKnownDataType>({\n          data,\n          meta,\n          knownDataTypes: gpuKnownDataValues,\n          onGetKnownDataDetails: v => getGPUKnownDataDetails(v),\n        })}\n      />\n      <ContextBlock\n        data={getUnknownData({\n          allData: data,\n          knownKeys: [...gpuKnownDataValues, ...gpuIgnoredDataValues],\n          meta,\n        })}\n      />\n    </Fragment>\n  );\n}\n","export enum GPUKnownDataType {\n  ID = 'id',\n  NAME = 'name',\n  VERSION = 'version',\n  VENDOR_NAME = 'vendor_name',\n  VENDOR_ID = 'vendor_id',\n  MEMORY = 'memory',\n  NPOT_SUPPORT = 'npot_support',\n  MULTI_THREAD_RENDERING = 'multi_threaded_rendering',\n  API_TYPE = 'api_type',\n}\n\nexport type GPUData = {\n  id: number;\n  vendor_id: number;\n  api_type?: string;\n  memory?: number;\n  memory_size?: number;\n  multi_threaded_rendering?: boolean;\n  name?: string;\n  npot_support?: string;\n  vendor_name?: string;\n  version?: string;\n};\n","import {Fragment} from 'react';\n\nimport {Group} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {objectIsEmpty} from 'sentry/utils';\n\nimport Chunk from './chunk';\n\ntype Props = {\n  event: Event;\n  group?: Group;\n};\n\nfunction Contexts({event, group}: Props) {\n  const {user, contexts} = event;\n\n  return (\n    <Fragment>\n      {user && !objectIsEmpty(user) && (\n        <Chunk\n          key=\"user\"\n          type=\"user\"\n          alias=\"user\"\n          group={group}\n          event={event}\n          value={user}\n        />\n      )}\n      {Object.entries(contexts).map(([key, value]) => (\n        <Chunk\n          key={key}\n          type={value?.type ?? ''}\n          alias={key}\n          group={group}\n          event={event}\n          value={value}\n        />\n      ))}\n    </Fragment>\n  );\n}\n\nexport default Contexts;\n","import {t} from 'sentry/locale';\nimport {defined} from 'sentry/utils';\n\nimport {OperatingSystemKnownData, OperatingSystemKnownDataType} from './types';\n\ntype Output = {\n  subject: string;\n  value: React.ReactNode | null;\n};\n\ntype Props = {\n  data: OperatingSystemKnownData;\n  type: OperatingSystemKnownDataType;\n};\n\nexport function getOperatingSystemKnownDataDetails({\n  data,\n  type,\n}: Props): Output | undefined {\n  switch (type) {\n    case OperatingSystemKnownDataType.NAME:\n      return {\n        subject: t('Name'),\n        value: data.name,\n      };\n    case OperatingSystemKnownDataType.VERSION:\n      return {\n        subject: t('Version'),\n        value: `${data.version}${data.build ? `(${data.build})` : ''}`,\n      };\n    case OperatingSystemKnownDataType.KERNEL_VERSION:\n      return {\n        subject: t('Kernel Version'),\n        value: data.kernel_version,\n      };\n    case OperatingSystemKnownDataType.ROOTED:\n      return {\n        subject: t('Rooted'),\n        value: defined(data.rooted) ? (data.rooted ? t('yes') : t('no')) : null,\n      };\n    default:\n      return undefined;\n  }\n}\n","import {Fragment} from 'react';\n\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\nimport {Event} from 'sentry/types';\n\nimport {geKnownData, getUnknownData} from '../utils';\n\nimport {getOperatingSystemKnownDataDetails} from './getOperatingSystemKnownDataDetails';\nimport {\n  OperatingSystemIgnoredDataType,\n  OperatingSystemKnownData,\n  OperatingSystemKnownDataType,\n} from './types';\n\ntype Props = {\n  data: OperatingSystemKnownData;\n  event: Event;\n};\n\nexport const operatingSystemKnownDataValues = [\n  OperatingSystemKnownDataType.NAME,\n  OperatingSystemKnownDataType.VERSION,\n  OperatingSystemKnownDataType.KERNEL_VERSION,\n  OperatingSystemKnownDataType.ROOTED,\n];\n\nconst operatingSystemIgnoredDataValues = [OperatingSystemIgnoredDataType.BUILD];\n\nexport function OperatingSystemEventContext({data, event}: Props) {\n  const meta = event._meta?.contexts?.os ?? {};\n  return (\n    <Fragment>\n      <ContextBlock\n        data={geKnownData<OperatingSystemKnownData, OperatingSystemKnownDataType>({\n          data,\n          meta,\n          knownDataTypes: operatingSystemKnownDataValues,\n          onGetKnownDataDetails: v => getOperatingSystemKnownDataDetails(v),\n        })}\n      />\n      <ContextBlock\n        data={getUnknownData({\n          allData: data,\n          knownKeys: [\n            ...operatingSystemKnownDataValues,\n            ...operatingSystemIgnoredDataValues,\n          ],\n          meta,\n        })}\n      />\n    </Fragment>\n  );\n}\n","export enum OperatingSystemKnownDataType {\n  NAME = 'name',\n  VERSION = 'version',\n  KERNEL_VERSION = 'kernel_version',\n  ROOTED = 'rooted',\n}\n\nexport enum OperatingSystemIgnoredDataType {\n  BUILD = 'build',\n}\n\nexport type OperatingSystemKnownData = {\n  build: string;\n  kernel_version: string;\n  name: string;\n  rooted?: boolean;\n  type?: string;\n  version?: string;\n};\n","import {Component} from 'react';\n\nimport ClippedBox from 'sentry/components/clippedBox';\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\n\ntype KeyValueListData = React.ComponentProps<typeof ContextBlock>['data'];\n\nimport {t} from 'sentry/locale';\n\ntype Props = {\n  alias: string;\n  data: Record<string, any>;\n};\n\nclass ReduxContextType extends Component<Props> {\n  getKnownData(): KeyValueListData {\n    return [\n      {\n        key: 'value',\n        subject: t('Latest State'),\n        value: this.props.data,\n      },\n    ];\n  }\n\n  render() {\n    return (\n      <ClippedBox clipHeight={250}>\n        <ContextBlock data={this.getKnownData()} />\n      </ClippedBox>\n    );\n  }\n}\n\nexport default ReduxContextType;\n","import {t} from 'sentry/locale';\n\nimport {RuntimeData, RuntimeKnownDataType} from './types';\n\ntype Output = {\n  subject: string;\n  value?: React.ReactNode;\n};\n\ntype Props = {\n  data: RuntimeData;\n  type: RuntimeKnownDataType;\n};\n\nexport function getRuntimeKnownDataDetails({type, data}: Props): Output | undefined {\n  switch (type) {\n    case RuntimeKnownDataType.NAME:\n      return {\n        subject: t('Name'),\n        value: data.name,\n      };\n    case RuntimeKnownDataType.VERSION:\n      return {\n        subject: t('Version'),\n        value: `${data.version}${data.build ? `(${data.build})` : ''}`,\n      };\n    default:\n      return undefined;\n  }\n}\n","import {Fragment} from 'react';\n\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\nimport {Event} from 'sentry/types/event';\n\nimport {geKnownData, getUnknownData} from '../utils';\n\nimport {getRuntimeKnownDataDetails} from './getRuntimeKnownDataDetails';\nimport {RuntimeData, RuntimeIgnoredDataType, RuntimeKnownDataType} from './types';\n\ntype Props = {\n  data: RuntimeData;\n  event: Event;\n};\n\nexport const runtimeKnownDataValues = [\n  RuntimeKnownDataType.NAME,\n  RuntimeKnownDataType.VERSION,\n];\n\nconst runtimeIgnoredDataValues = [RuntimeIgnoredDataType.BUILD];\n\nexport function RuntimeEventContext({data, event}: Props) {\n  const meta = event._meta?.contexts?.runtime ?? {};\n  return (\n    <Fragment>\n      <ContextBlock\n        data={geKnownData<RuntimeData, RuntimeKnownDataType>({\n          data,\n          meta,\n          knownDataTypes: runtimeKnownDataValues,\n          onGetKnownDataDetails: v => getRuntimeKnownDataDetails(v),\n        })}\n      />\n      <ContextBlock\n        data={getUnknownData({\n          allData: data,\n          knownKeys: [...runtimeKnownDataValues, ...runtimeIgnoredDataValues],\n          meta,\n        })}\n      />\n    </Fragment>\n  );\n}\n","export enum RuntimeKnownDataType {\n  NAME = 'name',\n  VERSION = 'version',\n}\n\nexport enum RuntimeIgnoredDataType {\n  BUILD = 'build',\n}\n\nexport type RuntimeData = {\n  name: string;\n  type: string;\n  build?: string;\n  version?: string;\n};\n","import upperFirst from 'lodash/upperFirst';\n\nimport ClippedBox from 'sentry/components/clippedBox';\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\nimport {t} from 'sentry/locale';\nimport {Event} from 'sentry/types';\n\ntype KeyValueListData = React.ComponentProps<typeof ContextBlock>['data'];\n\ntype StateDescription = {\n  value: Record<string, any> | null | string;\n  type?: string;\n};\n\ntype Props = {\n  data: {\n    [state: string]: StateDescription;\n    state: StateDescription;\n  };\n  event: Event;\n};\n\nexport function StateEventContext({data, event}: Props) {\n  const meta = event._meta?.contexts?.state ?? {};\n\n  function getStateTitle(name: string, type?: string) {\n    return `${name}${type ? ` (${upperFirst(type)})` : ''}`;\n  }\n\n  function getKnownData(): KeyValueListData {\n    if (!data.state) {\n      return [];\n    }\n\n    return [\n      {\n        key: 'state',\n        subject: getStateTitle(t('State'), data.state.type),\n        value: data.state.value,\n        meta: meta.state?.value?.[''],\n      },\n    ];\n  }\n\n  function getUnknownData(): KeyValueListData {\n    return Object.entries(data)\n      .filter(([key]) => !['type', 'title', 'state'].includes(key))\n      .map(([name, state]) => ({\n        key: name,\n        value: state.value,\n        subject: getStateTitle(name, state.type),\n        meta: meta[name]?.value?.[''],\n      }));\n  }\n\n  return (\n    <ClippedBox clipHeight={250}>\n      <ContextBlock data={getKnownData()} />\n      <ContextBlock data={getUnknownData()} />\n    </ClippedBox>\n  );\n}\n","import Button from 'sentry/components/button';\nimport {generateTraceTarget} from 'sentry/components/quickTrace/utils';\nimport {t} from 'sentry/locale';\nimport {Organization} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {transactionSummaryRouteWithQuery} from 'sentry/views/performance/transactionSummary/utils';\n\nimport {TraceKnownData, TraceKnownDataType} from './types';\n\ntype Output = {\n  subject: string;\n  value: React.ReactNode;\n  actionButton?: React.ReactNode;\n};\n\ntype Props = {\n  data: TraceKnownData;\n  event: Event;\n  organization: Organization;\n  type: TraceKnownDataType;\n};\n\nexport function getTraceKnownDataDetails({\n  data,\n  event,\n  organization,\n  type,\n}: Props): Output | undefined {\n  switch (type) {\n    case TraceKnownDataType.TRACE_ID: {\n      const traceId = data.trace_id || '';\n\n      if (!traceId) {\n        return undefined;\n      }\n\n      if (!organization.features.includes('discover-basic')) {\n        return {\n          subject: t('Trace ID'),\n          value: traceId,\n        };\n      }\n\n      return {\n        subject: t('Trace ID'),\n        value: traceId,\n        actionButton: (\n          <Button size=\"xs\" to={generateTraceTarget(event, organization)}>\n            {t('Search by Trace')}\n          </Button>\n        ),\n      };\n    }\n\n    case TraceKnownDataType.SPAN_ID: {\n      return {\n        subject: t('Span ID'),\n        value: data.span_id || '',\n      };\n    }\n\n    case TraceKnownDataType.PARENT_SPAN_ID: {\n      return {\n        subject: t('Parent Span ID'),\n        value: data.parent_span_id || '',\n      };\n    }\n\n    case TraceKnownDataType.OP_NAME: {\n      return {\n        subject: t('Operation Name'),\n        value: data.op || '',\n      };\n    }\n\n    case TraceKnownDataType.STATUS: {\n      return {\n        subject: t('Status'),\n        value: data.status || '',\n      };\n    }\n\n    case TraceKnownDataType.TRANSACTION_NAME: {\n      const eventTag = event?.tags.find(tag => {\n        return tag.key === 'transaction';\n      });\n\n      if (!eventTag || typeof eventTag.value !== 'string') {\n        return undefined;\n      }\n      const transactionName = eventTag.value;\n\n      const to = transactionSummaryRouteWithQuery({\n        orgSlug: organization.slug,\n        transaction: transactionName,\n        projectID: event.projectID,\n        query: {},\n      });\n\n      if (!organization.features.includes('performance-view')) {\n        return {\n          subject: t('Transaction'),\n          value: transactionName,\n        };\n      }\n\n      return {\n        subject: t('Transaction'),\n        value: transactionName,\n        actionButton: (\n          <Button size=\"xs\" to={to}>\n            {t('View Summary')}\n          </Button>\n        ),\n      };\n    }\n\n    default:\n      return undefined;\n  }\n}\n","import ErrorBoundary from 'sentry/components/errorBoundary';\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport {Event} from 'sentry/types/event';\nimport useOrganization from 'sentry/utils/useOrganization';\n\nimport {geKnownData, getUnknownData} from '../utils';\n\nimport {getTraceKnownDataDetails} from './getTraceKnownDataDetails';\nimport {TraceKnownData, TraceKnownDataType} from './types';\n\nexport const traceKnownDataValues = [\n  TraceKnownDataType.STATUS,\n  TraceKnownDataType.TRACE_ID,\n  TraceKnownDataType.SPAN_ID,\n  TraceKnownDataType.PARENT_SPAN_ID,\n  TraceKnownDataType.TRANSACTION_NAME,\n  TraceKnownDataType.OP_NAME,\n];\n\nconst traceIgnoredDataValues = [];\n\ntype Props = {\n  data: TraceKnownData & Record<string, any>;\n  event: Event;\n};\n\nexport function TraceEventContext({event, data}: Props) {\n  const organization = useOrganization();\n  const meta = event._meta?.contexts?.trace ?? {};\n\n  return (\n    <ErrorBoundary mini>\n      <KeyValueList\n        data={geKnownData<TraceKnownData, TraceKnownDataType>({\n          data,\n          meta,\n          knownDataTypes: traceKnownDataValues,\n          onGetKnownDataDetails: v =>\n            getTraceKnownDataDetails({...v, organization, event}),\n        }).map(v => ({\n          ...v,\n          subjectDataTestId: `trace-context-${v.key.toLowerCase()}-value`,\n        }))}\n        isSorted={false}\n        raw={false}\n        isContextData\n      />\n\n      <KeyValueList\n        data={getUnknownData({\n          allData: data,\n          knownKeys: [...traceKnownDataValues, ...traceIgnoredDataValues],\n          meta,\n        })}\n        isSorted={false}\n        raw={false}\n        isContextData\n      />\n    </ErrorBoundary>\n  );\n}\n","export enum TraceKnownDataType {\n  TRACE_ID = 'trace_id',\n  SPAN_ID = 'span_id',\n  PARENT_SPAN_ID = 'parent_span_id',\n  OP_NAME = 'op',\n  STATUS = 'status',\n  TRANSACTION_NAME = 'transaction_name',\n}\n\nexport type TraceKnownData = {\n  op?: string;\n  parent_span_id?: string;\n  span_id?: string;\n  status?: string;\n  trace_id?: string;\n};\n","import ExternalLink from 'sentry/components/links/externalLink';\nimport {IconMail} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {defined} from 'sentry/utils';\n\nimport {UserEventContextData, UserKnownDataType} from '.';\n\nconst EMAIL_REGEX = /[^@]+@[^\\.]+\\..+/;\n\ntype Output = {\n  subject: string;\n  value: string | null;\n  subjectIcon?: React.ReactNode;\n};\n\ntype Props = {\n  data: UserEventContextData;\n  type: UserKnownDataType;\n};\n\nexport function getUserKnownDataDetails({data, type}: Props): Output | undefined {\n  switch (type) {\n    case UserKnownDataType.NAME:\n      return {\n        subject: t('Name'),\n        value: data.name,\n      };\n    case UserKnownDataType.USERNAME:\n      return {\n        subject: t('Username'),\n        value: data.username,\n      };\n    case UserKnownDataType.ID:\n      return {\n        subject: t('ID'),\n        value: data.id,\n      };\n    case UserKnownDataType.IP_ADDRESS:\n      return {\n        subject: t('IP Address'),\n        value: data.ip_address,\n      };\n    case UserKnownDataType.EMAIL:\n      return {\n        subject: t('Email'),\n        value: data.email,\n        subjectIcon: defined(data.email) && EMAIL_REGEX.test(data.email) && (\n          <ExternalLink href={`mailto:${data.email}`} className=\"external-icon\">\n            <IconMail size=\"xs\" />\n          </ExternalLink>\n        ),\n      };\n    default:\n      return undefined;\n  }\n}\n","import UserAvatar from 'sentry/components/avatar/userAvatar';\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport {removeFilterMaskedEntries} from 'sentry/components/events/interfaces/utils';\nimport {AvatarUser} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\nimport {geKnownData, getUnknownData} from '../utils';\n\nimport {getUserKnownDataDetails} from './getUserKnownDataDetails';\n\nexport type UserEventContextData = {\n  data: Record<string, string>;\n} & AvatarUser;\n\ntype Props = {\n  data: UserEventContextData;\n  event: Event;\n};\n\nexport enum UserKnownDataType {\n  ID = 'id',\n  EMAIL = 'email',\n  USERNAME = 'username',\n  IP_ADDRESS = 'ip_address',\n  NAME = 'name',\n}\n\nexport enum UserIgnoredDataType {\n  DATA = 'data',\n}\n\nexport const userKnownDataValues = [\n  UserKnownDataType.ID,\n  UserKnownDataType.EMAIL,\n  UserKnownDataType.USERNAME,\n  UserKnownDataType.IP_ADDRESS,\n  UserKnownDataType.NAME,\n];\n\nconst userIgnoredDataValues = [UserIgnoredDataType.DATA];\n\nexport function UserEventContext({data, event}: Props) {\n  const meta = event._meta?.user ?? event._meta?.contexts?.user ?? {};\n\n  return (\n    <div className=\"user-widget\">\n      <div className=\"pull-left\">\n        <UserAvatar user={removeFilterMaskedEntries(data)} size={48} gravatar={false} />\n      </div>\n      <ContextBlock\n        data={geKnownData<UserEventContextData, UserKnownDataType>({\n          data,\n          meta,\n          knownDataTypes: userKnownDataValues,\n          onGetKnownDataDetails: v => getUserKnownDataDetails(v),\n        }).map(v => ({\n          ...v,\n          subjectDataTestId: `user-context-${v.key.toLowerCase()}-value`,\n        }))}\n      />\n      <ContextBlock\n        data={getUnknownData({\n          allData: data,\n          knownKeys: [...userKnownDataValues, ...userIgnoredDataValues],\n          meta,\n        })}\n      />\n      {defined(data?.data) && (\n        <ErrorBoundary mini>\n          <KeyValueList\n            data={Object.entries(data.data).map(([key, value]) => ({\n              key,\n              value,\n              subject: key,\n              meta: meta[key]?.[''],\n            }))}\n            isContextData\n          />\n        </ErrorBoundary>\n      )}\n    </div>\n  );\n}\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\nimport startCase from 'lodash/startCase';\nimport moment from 'moment-timezone';\n\nimport ContextData from 'sentry/components/contextData';\nimport {t} from 'sentry/locale';\nimport plugins from 'sentry/plugins';\nimport ConfigStore from 'sentry/stores/configStore';\nimport space from 'sentry/styles/space';\nimport {Event, KeyValueListData} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nconst CONTEXT_TYPES = {\n  default: require('sentry/components/events/contexts/default').default,\n  app: require('sentry/components/events/contexts/app').AppEventContext,\n  device: require('sentry/components/events/contexts/device').DeviceEventContext,\n  browser: require('sentry/components/events/contexts/browser').BrowserEventContext,\n  os: require('sentry/components/events/contexts/operatingSystem')\n    .OperatingSystemEventContext,\n  runtime: require('sentry/components/events/contexts/runtime').RuntimeEventContext,\n  user: require('sentry/components/events/contexts/user').UserEventContext,\n  gpu: require('sentry/components/events/contexts/gpu').GPUEventContext,\n  trace: require('sentry/components/events/contexts/trace').TraceEventContext,\n  // 'redux.state' will be replaced with more generic context called 'state'\n  'redux.state': require('sentry/components/events/contexts/redux').default,\n  state: require('sentry/components/events/contexts/state').StateEventContext,\n};\n\nexport function getContextComponent(type: string) {\n  return CONTEXT_TYPES[type] || plugins.contexts[type] || CONTEXT_TYPES.default;\n}\n\nexport function getSourcePlugin(pluginContexts: Array<any>, contextType: string) {\n  if (CONTEXT_TYPES[contextType]) {\n    return null;\n  }\n  for (const plugin of pluginContexts) {\n    if (plugin.contexts.indexOf(contextType) >= 0) {\n      return plugin;\n    }\n  }\n  return null;\n}\n\nexport function getRelativeTimeFromEventDateCreated(\n  eventDateCreated: string,\n  timestamp?: string,\n  showTimestamp = true\n) {\n  if (!defined(timestamp)) {\n    return timestamp;\n  }\n\n  const dateTime = moment(timestamp);\n\n  if (!dateTime.isValid()) {\n    return timestamp;\n  }\n\n  const relativeTime = `(${dateTime.from(eventDateCreated, true)} ${t(\n    'before this event'\n  )})`;\n\n  if (!showTimestamp) {\n    return <RelativeTime>{relativeTime}</RelativeTime>;\n  }\n\n  return (\n    <Fragment>\n      {timestamp}\n      <RelativeTime>{relativeTime}</RelativeTime>\n    </Fragment>\n  );\n}\n\n// Typescript doesn't have types for DisplayNames yet and that's why the type assertion \"any\" is needed below.\n// There is currently an open PR that intends to introduce the types https://github.com/microsoft/TypeScript/pull/44022\nexport function getFullLanguageDescription(locale: string) {\n  const sentryAppLanguageCode = ConfigStore.get('languageCode');\n\n  const [languageAbbreviation, countryAbbreviation] = locale.includes('_')\n    ? locale.split('_')\n    : locale.split('-');\n\n  try {\n    const languageNames = new (Intl as any).DisplayNames(sentryAppLanguageCode, {\n      type: 'language',\n    });\n\n    const languageName = languageNames.of(languageAbbreviation);\n\n    if (countryAbbreviation) {\n      const regionNames = new (Intl as any).DisplayNames(sentryAppLanguageCode, {\n        type: 'region',\n      });\n\n      const countryName = regionNames.of(countryAbbreviation.toUpperCase());\n\n      return `${languageName} (${countryName})`;\n    }\n\n    return languageName;\n  } catch {\n    return locale;\n  }\n}\n\nexport function geKnownData<Data, DataType>({\n  data,\n  knownDataTypes,\n  meta,\n  raw,\n  onGetKnownDataDetails,\n}: {\n  data: Data;\n  knownDataTypes: string[];\n  onGetKnownDataDetails: (props: {data: Data; type: DataType}) =>\n    | {\n        subject: string;\n        value?: React.ReactNode;\n      }\n    | undefined;\n  meta?: Record<any, any>;\n  raw?: boolean;\n}): KeyValueListData {\n  const filteredTypes = knownDataTypes.filter(knownDataType => {\n    if (\n      typeof data[knownDataType] !== 'number' &&\n      typeof data[knownDataType] !== 'boolean' &&\n      !data[knownDataType]\n    ) {\n      return !!meta?.[knownDataType];\n    }\n    return true;\n  });\n\n  return filteredTypes\n    .map(type => {\n      const knownDataDetails = onGetKnownDataDetails({\n        data,\n        type: type as unknown as DataType,\n      });\n\n      if (!knownDataDetails) {\n        return null;\n      }\n\n      return {\n        key: type,\n        ...knownDataDetails,\n        value: raw ? (\n          knownDataDetails.value\n        ) : (\n          <ContextData\n            data={knownDataDetails.value}\n            meta={meta?.[type]}\n            withAnnotatedText\n          />\n        ),\n      };\n    })\n    .filter(defined);\n}\n\nexport function getUnknownData({\n  allData,\n  knownKeys,\n  meta,\n}: {\n  allData: Record<string, any>;\n  knownKeys: string[];\n  meta?: NonNullable<Event['_meta']>[keyof Event['_meta']];\n}): KeyValueListData {\n  return Object.entries(allData)\n    .filter(\n      ([key]) =>\n        key !== 'type' &&\n        key !== 'title' &&\n        !knownKeys.includes(key) &&\n        (typeof allData[key] !== 'number' && !allData[key] ? !!meta?.[key]?.[''] : true)\n    )\n    .map(([key, value]) => ({\n      key,\n      value,\n      subject: startCase(key),\n      meta: meta?.[key]?.[''],\n    }));\n}\n\nconst RelativeTime = styled('span')`\n  color: ${p => p.theme.subText};\n  margin-left: ${space(0.5)};\n`;\n","import ContextData from 'sentry/components/contextData';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport {t} from 'sentry/locale';\nimport {Event} from 'sentry/types/event';\n\ntype Props = {\n  event: Event;\n};\n\nconst DeviceInterface = ({event}: Props) => {\n  const data = event.device || {};\n  const extras = Object.entries<any>(data.data || {}).map(([key, value]) => {\n    return (\n      <tr key={key}>\n        <td className=\"key\">{key}</td>\n        <td className=\"value\">\n          <ContextData data={value} />\n        </td>\n      </tr>\n    );\n  });\n\n  return (\n    <EventDataSection type=\"device\" title={t('Device')} wrapTitle>\n      <table className=\"table key-value\">\n        <tbody>\n          {data.name && (\n            <tr>\n              <td className=\"key\">Name</td>\n              <td className=\"value\">\n                <pre>{data.name}</pre>\n              </td>\n            </tr>\n          )}\n          {data.version && (\n            <tr>\n              <td className=\"key\">Version</td>\n              <td className=\"value\">\n                <pre>{data.version}</pre>\n              </td>\n            </tr>\n          )}\n          {data.build && (\n            <tr>\n              <td className=\"key\">Build</td>\n              <td className=\"value\">\n                <pre>{data.build}</pre>\n              </td>\n            </tr>\n          )}\n          {extras}\n        </tbody>\n      </table>\n    </EventDataSection>\n  );\n};\n\nexport default DeviceInterface;\n","import {Fragment, useMemo, useState} from 'react';\nimport styled from '@emotion/styled';\nimport startCase from 'lodash/startCase';\nimport moment from 'moment';\n\nimport Button from 'sentry/components/button';\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport ListItem from 'sentry/components/list/listItem';\nimport {JavascriptProcessingErrors} from 'sentry/constants/eventErrors';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\n\nimport ExternalLink from '../links/externalLink';\n\ntype Error = {\n  message: React.ReactNode;\n  type: string;\n  data?: {\n    image_name?: string;\n    image_path?: string;\n    message?: string;\n    name?: string;\n    sdk_time?: string;\n    server_time?: string;\n    url?: string;\n  } & Record<string, any>;\n};\n\nconst keyMapping = {\n  image_uuid: 'Debug ID',\n  image_name: 'File Name',\n  image_path: 'File Path',\n};\n\nexport type ErrorItemProps = {\n  error: Error;\n  meta?: Record<any, any>;\n};\n\nexport function ErrorItem({error, meta}: ErrorItemProps) {\n  const [expanded, setExpanded] = useState(false);\n\n  const cleanedData = useMemo(() => {\n    const data = {...(error.data ?? {})};\n    // The name is rendered as path in front of the message\n    if (typeof data.name === 'string') {\n      delete data.name;\n    }\n\n    if (data.message === 'None') {\n      // Python ensures a message string, but \"None\" doesn't make sense here\n      delete data.message;\n    }\n\n    if (typeof data.image_path === 'string') {\n      // Separate the image name for readability\n      const separator = /^([a-z]:\\\\|\\\\\\\\)/i.test(data.image_path) ? '\\\\' : '/';\n      const path = data.image_path.split(separator);\n      data.image_name = path.splice(-1, 1)[0];\n      data.image_path = path.length ? path.join(separator) + separator : '';\n    }\n\n    if (typeof data.server_time === 'string' && typeof data.sdk_time === 'string') {\n      data.message = t(\n        'Adjusted timestamps by %s',\n        moment\n          .duration(moment.utc(data.server_time).diff(moment.utc(data.sdk_time)))\n          .humanize()\n      );\n    }\n\n    return Object.entries(data)\n      .map(([key, value]) => ({\n        key,\n        value,\n        subject: keyMapping[key] || startCase(key),\n        meta: key === 'image_name' ? meta?.image_path?.[''] : meta?.[key]?.[''],\n      }))\n      .filter(d => {\n        if (!d.value && !!d.meta) {\n          return true;\n        }\n        return !!d.value;\n      });\n  }, [error.data, meta]);\n\n  return (\n    <StyledListItem data-test-id=\"event-error-item\">\n      <OverallInfo>\n        <div>\n          {meta?.data?.name?.[''] ? (\n            <AnnotatedText value={error.message} meta={meta?.data?.name?.['']} />\n          ) : !error.data?.name || typeof error.data?.name !== 'string' ? null : (\n            <Fragment>\n              <strong>{error.data?.name}</strong>\n              {': '}\n            </Fragment>\n          )}\n          {meta?.message?.[''] ? (\n            <AnnotatedText value={error.message} meta={meta?.message?.['']} />\n          ) : (\n            error.message\n          )}\n          {Object.values(JavascriptProcessingErrors).includes(\n            error.type as JavascriptProcessingErrors\n          ) && (\n            <Fragment>\n              {' '}\n              (\n              {tct('see [docsLink]', {\n                docsLink: (\n                  <StyledExternalLink href=\"https://docs.sentry.io/platforms/javascript/sourcemaps/troubleshooting_js/\">\n                    {t('Troubleshooting for JavaScript')}\n                  </StyledExternalLink>\n                ),\n              })}\n              )\n            </Fragment>\n          )}\n        </div>\n        {!!cleanedData.length && (\n          <ToggleButton\n            onClick={event => {\n              event.stopPropagation();\n              setExpanded(!expanded);\n            }}\n            priority=\"link\"\n            size=\"zero\"\n          >\n            {expanded ? t('Collapse') : t('Expand')}\n          </ToggleButton>\n        )}\n      </OverallInfo>\n      {expanded && <KeyValueList data={cleanedData} isContextData />}\n    </StyledListItem>\n  );\n}\n\nconst ToggleButton = styled(Button)`\n  margin-left: ${space(1.5)};\n  font-weight: 700;\n  color: ${p => p.theme.subText};\n  :hover,\n  :focus {\n    color: ${p => p.theme.textColor};\n  }\n`;\n\nconst StyledListItem = styled(ListItem)`\n  margin-bottom: ${space(0.75)};\n`;\n\nconst StyledExternalLink = styled(ExternalLink)`\n  /* && is here to increase specificity to override default styles*/\n  && {\n    font-weight: inherit;\n    color: inherit;\n    text-decoration: underline;\n  }\n`;\n\nconst OverallInfo = styled('div')`\n  display: grid;\n  grid-template-columns: repeat(2, minmax(auto, max-content));\n  word-break: break-all;\n`;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\nimport * as Sentry from '@sentry/react';\nimport isEqual from 'lodash/isEqual';\nimport uniqWith from 'lodash/uniqWith';\n\nimport {Client} from 'sentry/api';\nimport Alert from 'sentry/components/alert';\nimport {ErrorItem, ErrorItemProps} from 'sentry/components/events/errorItem';\nimport List from 'sentry/components/list';\nimport {JavascriptProcessingErrors} from 'sentry/constants/eventErrors';\nimport {t, tn} from 'sentry/locale';\nimport {Artifact, Organization, Project} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport withApi from 'sentry/utils/withApi';\n\nimport {DataSection} from './styles';\n\nconst MAX_ERRORS = 100;\n\nexport type Error = ErrorItemProps['error'];\n\ntype Props = {\n  api: Client;\n  event: Event;\n  orgSlug: Organization['slug'];\n  proGuardErrors: Array<Error>;\n  projectSlug: Project['slug'];\n};\n\ntype State = {\n  releaseArtifacts?: Array<Artifact>;\n};\n\nclass Errors extends Component<Props, State> {\n  state: State = {};\n\n  componentDidMount() {\n    this.checkSourceCodeErrors();\n  }\n\n  shouldComponentUpdate(nextProps: Props) {\n    return this.props.event.id !== nextProps.event.id;\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.event.id !== prevProps.event.id) {\n      this.checkSourceCodeErrors();\n    }\n  }\n\n  async fetchReleaseArtifacts(query: string) {\n    const {api, orgSlug, event, projectSlug} = this.props;\n    const {release} = event;\n    const releaseVersion = release?.version;\n\n    if (!releaseVersion || !query) {\n      return;\n    }\n\n    try {\n      const releaseArtifacts = await api.requestPromise(\n        `/projects/${orgSlug}/${projectSlug}/releases/${encodeURIComponent(\n          releaseVersion\n        )}/files/?query=${query}`,\n        {\n          method: 'GET',\n        }\n      );\n\n      this.setState({releaseArtifacts});\n    } catch (error) {\n      Sentry.captureException(error);\n      // do nothing, the UI will not display extra error details\n    }\n  }\n\n  checkSourceCodeErrors() {\n    const {event} = this.props;\n    const {errors} = event;\n\n    const sourceCodeErrors = (errors ?? []).filter(\n      error => error.type === 'js_no_source' && error.data.url\n    );\n\n    if (!sourceCodeErrors.length) {\n      return;\n    }\n\n    const pathNames: Array<string> = [];\n\n    for (const sourceCodeError of sourceCodeErrors) {\n      const url = sourceCodeError.data.url;\n      if (url) {\n        const pathName = this.getURLPathname(url);\n\n        if (pathName) {\n          pathNames.push(encodeURIComponent(pathName));\n        }\n      }\n    }\n\n    this.fetchReleaseArtifacts(pathNames.join('&query='));\n  }\n\n  getURLPathname(url: string) {\n    try {\n      return new URL(url).pathname;\n    } catch {\n      return undefined;\n    }\n  }\n\n  render() {\n    const {event, proGuardErrors} = this.props;\n    const {releaseArtifacts} = this.state;\n    const {dist: eventDistribution, errors: eventErrors = [], _meta} = event;\n\n    // XXX: uniqWith returns unique errors and is not performant with large datasets\n    const otherErrors: Array<Error> =\n      eventErrors.length > MAX_ERRORS ? eventErrors : uniqWith(eventErrors, isEqual);\n\n    const errors = [...otherErrors, ...proGuardErrors];\n\n    return (\n      <StyledDataSection>\n        <StyledAlert\n          type=\"error\"\n          showIcon\n          data-test-id=\"event-error-alert\"\n          expand={[\n            <ErrorList\n              key=\"event-error-details\"\n              data-test-id=\"event-error-details\"\n              symbol=\"bullet\"\n            >\n              {errors.map((error, errorIdx) => {\n                const data = error.data ?? {};\n                const meta = _meta?.errors?.[errorIdx];\n\n                if (\n                  error.type === JavascriptProcessingErrors.JS_MISSING_SOURCE &&\n                  data.url &&\n                  !!releaseArtifacts?.length\n                ) {\n                  const releaseArtifact = releaseArtifacts.find(releaseArt => {\n                    const pathname = data.url ? this.getURLPathname(data.url) : undefined;\n\n                    if (pathname) {\n                      return releaseArt.name.includes(pathname);\n                    }\n                    return false;\n                  });\n\n                  const releaseArtifactDistribution = releaseArtifact?.dist ?? null;\n\n                  // Neither event nor file have dist -> matching\n                  // Event has dist, file doesn’t -> not matching\n                  // File has dist, event doesn’t -> not matching\n                  // Both have dist, same value -> matching\n                  // Both have dist, different values -> not matching\n                  if (releaseArtifactDistribution !== eventDistribution) {\n                    error.message = t(\n                      'Source code was not found because the distribution did not match'\n                    );\n                    data['expected-distribution'] = eventDistribution;\n                    data['current-distribution'] = releaseArtifactDistribution;\n                  }\n                }\n\n                return <ErrorItem key={errorIdx} error={{...error, data}} meta={meta} />;\n              })}\n            </ErrorList>,\n          ]}\n        >\n          {tn(\n            'There was %s problem processing this event',\n            'There were %s problems processing this event',\n            errors.length\n          )}\n        </StyledAlert>\n      </StyledDataSection>\n    );\n  }\n}\n\nconst StyledDataSection = styled(DataSection)`\n  border-top: none;\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    padding-top: 0;\n  }\n`;\n\nconst StyledAlert = styled(Alert)`\n  margin-bottom: 0;\n`;\n\nconst ErrorList = styled(List)`\n  li:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nexport default withApi(Errors);\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {Client} from 'sentry/api';\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport Confirm from 'sentry/components/confirm';\nimport {IconDelete, IconDownload, IconShow} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport withApi from 'sentry/utils/withApi';\n\ntype Props = {\n  api: Client;\n  attachmentId: string;\n  onDelete: (attachmentId: string) => void;\n  url: string | null;\n  hasPreview?: boolean;\n  onPreview?: (attachmentId: string) => void;\n  previewIsOpen?: boolean;\n  withPreviewButton?: boolean;\n};\n\nclass EventAttachmentActions extends Component<Props> {\n  handlePreview() {\n    const {onPreview, attachmentId} = this.props;\n    if (onPreview) {\n      onPreview(attachmentId);\n    }\n  }\n\n  render() {\n    const {url, withPreviewButton, hasPreview, previewIsOpen, onDelete, attachmentId} =\n      this.props;\n\n    return (\n      <ButtonBar gap={1}>\n        <Confirm\n          confirmText={t('Delete')}\n          message={t('Are you sure you wish to delete this file?')}\n          priority=\"danger\"\n          onConfirm={() => onDelete(attachmentId)}\n          disabled={!url}\n        >\n          <Button\n            size=\"xs\"\n            icon={<IconDelete size=\"xs\" />}\n            aria-label={t('Delete')}\n            disabled={!url}\n            title={!url ? t('Insufficient permissions to delete attachments') : undefined}\n          />\n        </Confirm>\n\n        <DownloadButton\n          size=\"xs\"\n          icon={<IconDownload size=\"xs\" />}\n          href={url ? `${url}?download=1` : ''}\n          disabled={!url}\n          title={!url ? t('Insufficient permissions to download attachments') : undefined}\n          aria-label={t('Download')}\n        />\n\n        {withPreviewButton && (\n          <DownloadButton\n            size=\"xs\"\n            disabled={!url || !hasPreview}\n            priority={previewIsOpen ? 'primary' : 'default'}\n            icon={<IconShow size=\"xs\" />}\n            onClick={() => this.handlePreview()}\n            title={\n              !url\n                ? t('Insufficient permissions to preview attachments')\n                : !hasPreview\n                ? t('This attachment cannot be previewed')\n                : undefined\n            }\n          >\n            {t('Preview')}\n          </DownloadButton>\n        )}\n      </ButtonBar>\n    );\n  }\n}\n\nconst DownloadButton = styled(Button)`\n  margin-right: ${space(0.5)};\n`;\n\nexport default withApi(EventAttachmentActions);\n","import {Component, Fragment} from 'react';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\n\nimport {Client} from 'sentry/api';\nimport ImageViewer from 'sentry/components/events/attachmentViewers/imageViewer';\nimport JsonViewer from 'sentry/components/events/attachmentViewers/jsonViewer';\nimport LogFileViewer from 'sentry/components/events/attachmentViewers/logFileViewer';\nimport RRWebJsonViewer from 'sentry/components/events/attachmentViewers/rrwebJsonViewer';\nimport EventAttachmentActions from 'sentry/components/events/eventAttachmentActions';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport FileSize from 'sentry/components/fileSize';\nimport {PanelTable} from 'sentry/components/panels';\nimport {t} from 'sentry/locale';\nimport {IssueAttachment} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport AttachmentUrl from 'sentry/utils/attachmentUrl';\nimport withApi from 'sentry/utils/withApi';\n\nimport EventAttachmentsCrashReportsNotice from './eventAttachmentsCrashReportsNotice';\n\ntype Props = {\n  api: Client;\n  attachments: IssueAttachment[];\n  event: Event;\n  location: Location;\n  onDeleteAttachment: (attachmentId: IssueAttachment['id']) => void;\n  orgId: string;\n  projectId: string;\n};\n\ntype State = {\n  attachmentPreviews: Record<string, boolean>;\n  expanded: boolean;\n};\n\nclass EventAttachments extends Component<Props, State> {\n  state: State = {\n    expanded: false,\n    attachmentPreviews: {},\n  };\n\n  getInlineAttachmentRenderer(attachment: IssueAttachment) {\n    switch (attachment.mimetype) {\n      case 'text/plain':\n        return attachment.size > 0 ? LogFileViewer : undefined;\n      case 'text/json':\n      case 'text/x-json':\n      case 'application/json':\n        if (attachment.name === 'rrweb.json' || attachment.name.startsWith('rrweb-')) {\n          return RRWebJsonViewer;\n        }\n        return JsonViewer;\n      case 'image/jpeg':\n      case 'image/png':\n      case 'image/gif':\n        return ImageViewer;\n      default:\n        return undefined;\n    }\n  }\n\n  hasInlineAttachmentRenderer(attachment: IssueAttachment): boolean {\n    return !!this.getInlineAttachmentRenderer(attachment);\n  }\n\n  attachmentPreviewIsOpen = (attachment: IssueAttachment) => {\n    return !!this.state.attachmentPreviews[attachment.id];\n  };\n\n  renderInlineAttachment(attachment: IssueAttachment) {\n    const AttachmentComponent = this.getInlineAttachmentRenderer(attachment);\n    if (!AttachmentComponent || !this.attachmentPreviewIsOpen(attachment)) {\n      return null;\n    }\n    return (\n      <AttachmentPreviewWrapper>\n        <AttachmentComponent\n          orgId={this.props.orgId}\n          projectId={this.props.projectId}\n          event={this.props.event}\n          attachment={attachment}\n        />\n      </AttachmentPreviewWrapper>\n    );\n  }\n\n  togglePreview(attachment: IssueAttachment) {\n    this.setState(({attachmentPreviews}) => ({\n      attachmentPreviews: {\n        ...attachmentPreviews,\n        [attachment.id]: !attachmentPreviews[attachment.id],\n      },\n    }));\n  }\n\n  render() {\n    const {event, projectId, orgId, location, attachments, onDeleteAttachment} =\n      this.props;\n    const crashFileStripped = event.metadata.stripped_crash;\n\n    if (!attachments.length && !crashFileStripped) {\n      return null;\n    }\n\n    const title = t('Attachments (%s)', attachments.length);\n\n    const lastAttachmentPreviewed =\n      attachments.length > 0 &&\n      this.attachmentPreviewIsOpen(attachments[attachments.length - 1]);\n\n    return (\n      <EventDataSection type=\"attachments\" title={title}>\n        {crashFileStripped && (\n          <EventAttachmentsCrashReportsNotice\n            orgSlug={orgId}\n            projectSlug={projectId}\n            groupId={event.groupID!}\n            location={location}\n          />\n        )}\n\n        {attachments.length > 0 && (\n          <StyledPanelTable\n            headers={[\n              <Name key=\"name\">{t('File Name')}</Name>,\n              <Size key=\"size\">{t('Size')}</Size>,\n              t('Actions'),\n            ]}\n          >\n            {attachments.map(attachment => (\n              <Fragment key={attachment.id}>\n                <Name>{attachment.name}</Name>\n                <Size>\n                  <FileSize bytes={attachment.size} />\n                </Size>\n                <AttachmentUrl\n                  projectId={projectId}\n                  eventId={event.id}\n                  attachment={attachment}\n                >\n                  {url => (\n                    <div>\n                      <EventAttachmentActions\n                        url={url}\n                        onDelete={onDeleteAttachment}\n                        onPreview={_attachmentId => this.togglePreview(attachment)}\n                        withPreviewButton\n                        previewIsOpen={this.attachmentPreviewIsOpen(attachment)}\n                        hasPreview={this.hasInlineAttachmentRenderer(attachment)}\n                        attachmentId={attachment.id}\n                      />\n                    </div>\n                  )}\n                </AttachmentUrl>\n                {this.renderInlineAttachment(attachment)}\n                {/* XXX: hack to deal with table grid borders */}\n                {lastAttachmentPreviewed && (\n                  <Fragment>\n                    <div style={{display: 'none'}} />\n                    <div style={{display: 'none'}} />\n                  </Fragment>\n                )}\n              </Fragment>\n            ))}\n          </StyledPanelTable>\n        )}\n      </EventDataSection>\n    );\n  }\n}\n\nexport default withApi<Props>(EventAttachments);\n\nconst StyledPanelTable = styled(PanelTable)`\n  grid-template-columns: 1fr auto auto;\n`;\n\nconst Name = styled('div')`\n  ${p => p.theme.overflowEllipsis};\n`;\n\nconst Size = styled('div')`\n  text-align: right;\n`;\n\nconst AttachmentPreviewWrapper = styled('div')`\n  grid-column: auto / span 3;\n  border: none;\n  padding: 0;\n`;\n","import {Location} from 'history';\n\nimport {tct} from 'sentry/locale';\nimport {crashReportTypes} from 'sentry/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsFilter';\n\nimport Alert from '../alert';\nimport Link from '../links/link';\n\ntype Props = {\n  groupId: string;\n  location: Location;\n  orgSlug: string;\n  projectSlug: string;\n};\n\nconst EventAttachmentsCrashReportsNotice = ({\n  orgSlug,\n  projectSlug,\n  location,\n  groupId,\n}: Props) => {\n  const settingsUrl = `/settings/${orgSlug}/projects/${projectSlug}/security-and-privacy/`;\n  const attachmentsUrl = {\n    pathname: `/organizations/${orgSlug}/issues/${groupId}/attachments/`,\n    query: {...location.query, types: crashReportTypes},\n  };\n\n  return (\n    <Alert type=\"info\" showIcon>\n      {tct(\n        'Your limit of stored crash reports has been reached for this issue. [attachmentsLink: View crashes] or [settingsLink: configure limit].',\n        {\n          attachmentsLink: <Link to={attachmentsUrl} />,\n          settingsLink: <Link to={settingsUrl} />,\n        }\n      )}\n    </Alert>\n  );\n};\n\nexport default EventAttachmentsCrashReportsNotice;\n","import {Fragment, useState} from 'react';\nimport styled from '@emotion/styled';\nimport flatMap from 'lodash/flatMap';\nimport uniqBy from 'lodash/uniqBy';\n\nimport {CommitRow} from 'sentry/components/commitRow';\nimport {CauseHeader, DataSection} from 'sentry/components/events/styles';\nimport {Panel} from 'sentry/components/panels';\nimport {IconAdd, IconSubtract} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport type {AvatarProject, Group} from 'sentry/types';\nimport type {Event} from 'sentry/types/event';\nimport useCommitters from 'sentry/utils/useCommitters';\n\ninterface Props {\n  event: Event;\n  project: AvatarProject;\n  group?: Group;\n}\n\nfunction EventCause({group, event, project}: Props) {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const {committers} = useCommitters({\n    group,\n    eventId: event.id,\n    projectSlug: project.slug,\n  });\n\n  function getUniqueCommitsWithAuthors() {\n    // Get a list of commits with author information attached\n    const commitsWithAuthors = flatMap(committers, ({commits, author}) =>\n      commits.map(commit => ({\n        ...commit,\n        author,\n      }))\n    );\n\n    // Remove duplicate commits\n    return uniqBy(commitsWithAuthors, commit => commit.id);\n  }\n\n  if (!committers.length) {\n    return null;\n  }\n\n  const commits = getUniqueCommitsWithAuthors();\n\n  return (\n    <DataSection>\n      <CauseHeader>\n        <h3 data-test-id=\"event-cause\">\n          {t('Suspect Commits')} ({commits.length})\n        </h3>\n        {commits.length > 1 && (\n          <ExpandButton onClick={() => setIsExpanded(!isExpanded)}>\n            {isExpanded ? (\n              <Fragment>\n                {t('Show less')} <IconSubtract isCircled size=\"md\" />\n              </Fragment>\n            ) : (\n              <Fragment>\n                {t('Show more')} <IconAdd isCircled size=\"md\" />\n              </Fragment>\n            )}\n          </ExpandButton>\n        )}\n      </CauseHeader>\n      <Panel>\n        {commits.slice(0, isExpanded ? 100 : 1).map(commit => (\n          <CommitRow key={commit.id} commit={commit} />\n        ))}\n      </Panel>\n    </DataSection>\n  );\n}\n\nconst ExpandButton = styled('button')`\n  display: flex;\n  align-items: center;\n  & > svg {\n    margin-left: ${space(0.5)};\n  }\n`;\n\nexport default EventCause;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\nimport moment from 'moment';\n\nimport codesworth from 'sentry-images/spot/codesworth.svg';\n\nimport {promptsCheck, promptsUpdate} from 'sentry/actionCreators/prompts';\nimport {Client} from 'sentry/api';\nimport Button from 'sentry/components/button';\nimport {CommitRow} from 'sentry/components/commitRow';\nimport {DataSection} from 'sentry/components/events/styles';\nimport {Panel} from 'sentry/components/panels';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Commit, Organization, Project, RepositoryStatus} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {IssueEventKey} from 'sentry/utils/analytics/issueAnalyticsEvents';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport getDynamicText from 'sentry/utils/getDynamicText';\nimport {promptCanShow, promptIsDismissed} from 'sentry/utils/promptIsDismissed';\nimport withApi from 'sentry/utils/withApi';\n\nconst EXAMPLE_COMMITS = ['dec0de', 'de1e7e', '5ca1ed'];\n\nconst DUMMY_COMMIT: Commit = {\n  id: getDynamicText({\n    value: EXAMPLE_COMMITS[Math.floor(Math.random() * EXAMPLE_COMMITS.length)],\n    fixed: '5ca1ed',\n  }),\n  author: {\n    id: '',\n    name: 'codesworth',\n    username: '',\n    email: 'codesworth@example.com',\n    ip_address: '',\n    lastSeen: '',\n    lastLogin: '',\n    isSuperuser: false,\n    isAuthenticated: false,\n    emails: [],\n    isManaged: false,\n    lastActive: '',\n    isStaff: false,\n    identities: [],\n    isActive: true,\n    has2fa: false,\n    canReset2fa: false,\n    authenticators: [],\n    dateJoined: '',\n    options: {\n      theme: 'system',\n      timezone: '',\n      stacktraceOrder: 1,\n      language: '',\n      clock24Hours: false,\n      avatarType: 'letter_avatar',\n    },\n    flags: {newsletter_consent_prompt: false},\n    hasPasswordAuth: true,\n    permissions: new Set([]),\n    experiments: {},\n  },\n  dateCreated: moment().subtract(3, 'day').format(),\n  repository: {\n    id: '',\n    integrationId: '',\n    name: '',\n    externalSlug: '',\n    url: '',\n    provider: {\n      id: 'integrations:github',\n      name: 'GitHub',\n    },\n    dateCreated: '',\n    status: RepositoryStatus.ACTIVE,\n  },\n  releases: [],\n  message: t('This example commit broke something'),\n};\n\nconst SUSPECT_COMMITS_FEATURE = 'suspect_commits';\n\ntype ClickPayload = {\n  action: 'snoozed' | 'dismissed';\n  eventKey: IssueEventKey;\n};\n\ntype Props = {\n  api: Client;\n  event: Event;\n  organization: Organization;\n  project: Project;\n};\n\ntype State = {\n  shouldShow: boolean | undefined;\n};\n\nclass EventCauseEmpty extends Component<Props, State> {\n  state: State = {\n    shouldShow: undefined,\n  };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    const {shouldShow} = this.state;\n\n    if (!prevState.shouldShow && shouldShow) {\n      this.trackAnalytics('event_cause.viewed');\n    }\n  }\n\n  async fetchData() {\n    const {api, event, project, organization} = this.props;\n\n    if (!promptCanShow(SUSPECT_COMMITS_FEATURE, event.eventID)) {\n      this.setState({shouldShow: false});\n      return;\n    }\n\n    const data = await promptsCheck(api, {\n      projectId: project.id,\n      organizationId: organization.id,\n      feature: SUSPECT_COMMITS_FEATURE,\n    });\n\n    this.setState({shouldShow: !promptIsDismissed(data ?? {}, 7)});\n  }\n\n  handleClick({action, eventKey}: ClickPayload) {\n    const {api, project, organization} = this.props;\n\n    const data = {\n      projectId: project.id,\n      organizationId: organization.id,\n      feature: SUSPECT_COMMITS_FEATURE,\n      status: action,\n    };\n    promptsUpdate(api, data).then(() => this.setState({shouldShow: false}));\n    this.trackAnalytics(eventKey);\n  }\n\n  trackAnalytics(eventKey: IssueEventKey) {\n    const {project, organization} = this.props;\n\n    trackAdvancedAnalyticsEvent(eventKey, {\n      project_id: project.id,\n      platform: project.platform,\n      organization,\n    });\n  }\n\n  render() {\n    if (!this.state.shouldShow) {\n      return null;\n    }\n\n    return (\n      <DataSection data-test-id=\"loaded-event-cause-empty\">\n        <StyledPanel dashedBorder>\n          <BoxHeader>\n            <Description>\n              <h3>{t('Configure Suspect Commits')}</h3>\n              <p>{t('To identify which commit caused this issue')}</p>\n            </Description>\n            <ButtonList>\n              <DocsButton\n                size=\"sm\"\n                priority=\"primary\"\n                href=\"https://docs.sentry.io/product/releases/setup/\"\n                onClick={() => this.trackAnalytics('event_cause.docs_clicked')}\n              >\n                {t('Read the docs')}\n              </DocsButton>\n\n              <div>\n                <SnoozeButton\n                  title={t('Remind me next week')}\n                  size=\"sm\"\n                  onClick={() =>\n                    this.handleClick({\n                      action: 'snoozed',\n                      eventKey: 'event_cause.snoozed',\n                    })\n                  }\n                >\n                  {t('Snooze')}\n                </SnoozeButton>\n                <DismissButton\n                  title={t('Dismiss for this project')}\n                  size=\"sm\"\n                  onClick={() =>\n                    this.handleClick({\n                      action: 'dismissed',\n                      eventKey: 'event_cause.dismissed',\n                    })\n                  }\n                >\n                  {t('Dismiss')}\n                </DismissButton>\n              </div>\n            </ButtonList>\n          </BoxHeader>\n          <ExampleCommitPanel>\n            <CommitRow\n              key={DUMMY_COMMIT.id}\n              commit={DUMMY_COMMIT}\n              customAvatar={<CustomAvatar src={codesworth} />}\n            />\n          </ExampleCommitPanel>\n        </StyledPanel>\n      </DataSection>\n    );\n  }\n}\n\nconst StyledPanel = styled(Panel)`\n  padding: ${space(3)};\n  padding-bottom: 0;\n  background: none;\n`;\n\nconst Description = styled('div')`\n  h3 {\n    font-size: 14px;\n    text-transform: uppercase;\n    margin-bottom: ${space(0.25)};\n    color: ${p => p.theme.gray300};\n  }\n\n  p {\n    font-size: 13px;\n    font-weight: bold;\n    color: ${p => p.theme.textColor};\n    margin-bottom: ${space(1.5)};\n  }\n`;\n\nconst ButtonList = styled('div')`\n  display: inline-grid;\n  grid-auto-flow: column;\n  gap: ${space(1)};\n  align-items: center;\n  justify-self: end;\n  margin-bottom: 16px;\n`;\n\nconst DocsButton = styled(Button)`\n  &:focus {\n    color: ${p => p.theme.white};\n  }\n`;\n\nconst SnoozeButton = styled(Button)`\n  border-right: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n`;\n\nconst DismissButton = styled(Button)`\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n`;\n\nconst ExampleCommitPanel = styled(Panel)`\n  overflow: hidden;\n  pointer-events: none;\n  position: relative;\n  padding-right: ${space(3)};\n\n  &:after {\n    display: block;\n    content: 'Example';\n    position: absolute;\n    top: 16px;\n    right: -24px;\n    text-transform: uppercase;\n    background: #e46187;\n    padding: 4px 26px;\n    line-height: 11px;\n    font-size: 11px;\n    color: ${p => p.theme.white};\n    transform: rotate(45deg);\n  }\n`;\n\nconst CustomAvatar = styled('img')`\n  height: 48px;\n  padding-right: 12px;\n  margin: -6px 0px -6px -2px;\n`;\n\nconst BoxHeader = styled('div')`\n  display: grid;\n  align-items: start;\n  grid-template-columns: repeat(auto-fit, minmax(256px, 1fr));\n`;\n\nexport default withApi(EventCauseEmpty);\n","import {Fragment, useCallback, useEffect, useState} from 'react';\nimport styled from '@emotion/styled';\nimport * as Sentry from '@sentry/react';\nimport {Location} from 'history';\nimport uniq from 'lodash/uniq';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport {Client} from 'sentry/api';\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport EventContexts from 'sentry/components/events/contexts';\nimport EventContextSummary from 'sentry/components/events/contextSummary';\nimport EventDevice from 'sentry/components/events/device';\nimport EventErrors, {Error} from 'sentry/components/events/errors';\nimport EventAttachments from 'sentry/components/events/eventAttachments';\nimport EventCause from 'sentry/components/events/eventCause';\nimport EventCauseEmpty from 'sentry/components/events/eventCauseEmpty';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport EventExtraData from 'sentry/components/events/eventExtraData';\nimport {EventSdk} from 'sentry/components/events/eventSdk';\nimport {EventTags} from 'sentry/components/events/eventTags';\nimport EventGroupingInfo from 'sentry/components/events/groupingInfo';\nimport {EventPackageData} from 'sentry/components/events/packageData';\nimport RRWebIntegration from 'sentry/components/events/rrwebIntegration';\nimport EventSdkUpdates from 'sentry/components/events/sdkUpdates';\nimport {DataSection} from 'sentry/components/events/styles';\nimport EventUserFeedback from 'sentry/components/events/userFeedback';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {\n  Entry,\n  EntryType,\n  Event,\n  ExceptionValue,\n  Group,\n  IssueAttachment,\n  Organization,\n  Project,\n  SharedViewOrganization,\n  Thread,\n} from 'sentry/types';\nimport {DebugFile} from 'sentry/types/debugFiles';\nimport {Image} from 'sentry/types/debugImage';\nimport {isNotSharedOrganization} from 'sentry/types/utils';\nimport {defined, objectIsEmpty} from 'sentry/utils';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport withApi from 'sentry/utils/withApi';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport {projectProcessingIssuesMessages} from 'sentry/views/settings/project/projectProcessingIssues';\n\nimport findBestThread from './interfaces/threads/threadSelector/findBestThread';\nimport getThreadException from './interfaces/threads/threadSelector/getThreadException';\nimport EventEntry from './eventEntry';\nimport EventReplay from './eventReplay';\nimport EventTagsAndScreenshot from './eventTagsAndScreenshot';\n\nconst MINIFIED_DATA_JAVA_EVENT_REGEX_MATCH =\n  /^(([\\w\\$]\\.[\\w\\$]{1,2})|([\\w\\$]{2}\\.[\\w\\$]\\.[\\w\\$]))(\\.|$)/g;\n\nfunction isDataMinified(str: string | null) {\n  if (!str) {\n    return false;\n  }\n\n  return !![...str.matchAll(MINIFIED_DATA_JAVA_EVENT_REGEX_MATCH)].length;\n}\n\nfunction hasThreadOrExceptionMinifiedFrameData(definedEvent: Event, bestThread?: Thread) {\n  if (!bestThread) {\n    const exceptionValues: Array<ExceptionValue> =\n      definedEvent.entries?.find(e => e.type === EntryType.EXCEPTION)?.data?.values ?? [];\n\n    return !!exceptionValues.find(exceptionValue =>\n      exceptionValue.stacktrace?.frames?.find(frame => isDataMinified(frame.module))\n    );\n  }\n\n  const threadExceptionValues = getThreadException(definedEvent, bestThread)?.values;\n\n  return !!(threadExceptionValues\n    ? threadExceptionValues.find(threadExceptionValue =>\n        threadExceptionValue.stacktrace?.frames?.find(frame =>\n          isDataMinified(frame.module)\n        )\n      )\n    : bestThread?.stacktrace?.frames?.find(frame => isDataMinified(frame.module)));\n}\n\ntype ProGuardErrors = Array<Error>;\n\ntype Props = Pick<React.ComponentProps<typeof EventEntry>, 'route' | 'router'> & {\n  api: Client;\n  location: Location;\n  /**\n   * The organization can be the shared view on a public issue view.\n   */\n  organization: Organization | SharedViewOrganization;\n  project: Project;\n  className?: string;\n  event?: Event;\n  group?: Group;\n  isShare?: boolean;\n  showExampleCommit?: boolean;\n  showTagSummary?: boolean;\n};\n\nconst EventEntries = ({\n  organization,\n  project,\n  location,\n  api,\n  event,\n  group,\n  className,\n  router,\n  route,\n  isShare = false,\n  showExampleCommit = false,\n  showTagSummary = true,\n}: Props) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [proGuardErrors, setProGuardErrors] = useState<ProGuardErrors>([]);\n  const [attachments, setAttachments] = useState<IssueAttachment[]>([]);\n\n  const orgSlug = organization.slug;\n  const projectSlug = project.slug;\n  const orgFeatures = organization?.features ?? [];\n\n  const hasEventAttachmentsFeature = orgFeatures.includes('event-attachments');\n  const replayId = event?.tags?.find(({key}) => key === 'replayId')?.value;\n\n  const recordIssueError = useCallback(() => {\n    if (!event || !event.errors || !(event.errors.length > 0)) {\n      return;\n    }\n\n    const errors = event.errors;\n    const errorTypes = errors.map(errorEntries => errorEntries.type);\n    const errorMessages = errors.map(errorEntries => errorEntries.message);\n\n    const platform = project.platform;\n\n    // uniquify the array types\n    trackAdvancedAnalyticsEvent('issue_error_banner.viewed', {\n      organization: organization as Organization,\n      group: event?.groupID,\n      error_type: uniq(errorTypes),\n      error_message: uniq(errorMessages),\n      ...(platform && {platform}),\n    });\n  }, [event, organization, project.platform]);\n\n  const fetchProguardMappingFiles = useCallback(\n    async (query: string): Promise<Array<DebugFile>> => {\n      try {\n        const proguardMappingFiles = await api.requestPromise(\n          `/projects/${orgSlug}/${projectSlug}/files/dsyms/`,\n          {\n            method: 'GET',\n            query: {\n              query,\n              file_formats: 'proguard',\n            },\n          }\n        );\n        return proguardMappingFiles;\n      } catch (error) {\n        Sentry.captureException(error);\n        // do nothing, the UI will not display extra error details\n        return [];\n      }\n    },\n    [api, orgSlug, projectSlug]\n  );\n\n  const checkProGuardError = useCallback(async () => {\n    if (!event || event.platform !== 'java') {\n      setIsLoading(false);\n      return;\n    }\n\n    const hasEventErrorsProGuardMissingMapping = event.errors?.find(\n      error => error.type === 'proguard_missing_mapping'\n    );\n\n    if (hasEventErrorsProGuardMissingMapping) {\n      setIsLoading(false);\n      return;\n    }\n\n    const newProGuardErrors: ProGuardErrors = [];\n\n    const debugImages = event.entries?.find(e => e.type === EntryType.DEBUGMETA)?.data\n      .images as undefined | Array<Image>;\n\n    // When debugImages contains a 'proguard' entry, it must always be only one entry\n    const proGuardImage = debugImages?.find(\n      debugImage => debugImage?.type === 'proguard'\n    );\n\n    const proGuardImageUuid = proGuardImage?.uuid;\n\n    // If an entry is of type 'proguard' and has 'uuid',\n    // it means that the Sentry Gradle plugin has been executed,\n    // otherwise the proguard id wouldn't be in the event.\n    // But maybe it failed to upload the mappings file\n    if (defined(proGuardImageUuid)) {\n      if (isShare) {\n        setIsLoading(false);\n        return;\n      }\n\n      const proguardMappingFiles = await fetchProguardMappingFiles(proGuardImageUuid);\n\n      if (!proguardMappingFiles.length) {\n        newProGuardErrors.push({\n          type: 'proguard_missing_mapping',\n          message: projectProcessingIssuesMessages.proguard_missing_mapping,\n          data: {mapping_uuid: proGuardImageUuid},\n        });\n      }\n\n      setProGuardErrors(newProGuardErrors);\n      setIsLoading(false);\n      return;\n    }\n\n    if (proGuardImage) {\n      Sentry.withScope(function (s) {\n        s.setLevel('warning');\n        if (event.sdk) {\n          s.setTag('offending.event.sdk.name', event.sdk.name);\n          s.setTag('offending.event.sdk.version', event.sdk.version);\n        }\n        Sentry.captureMessage('Event contains proguard image but not uuid');\n      });\n    }\n\n    const threads: Array<Thread> =\n      event.entries?.find(e => e.type === EntryType.THREADS)?.data?.values ?? [];\n\n    const bestThread = findBestThread(threads);\n    const hasThreadOrExceptionMinifiedData = hasThreadOrExceptionMinifiedFrameData(\n      event,\n      bestThread\n    );\n\n    if (hasThreadOrExceptionMinifiedData) {\n      newProGuardErrors.push({\n        type: 'proguard_potentially_misconfigured_plugin',\n        message: tct(\n          'Some frames appear to be minified. Did you configure the [plugin]?',\n          {\n            plugin: (\n              <ExternalLink href=\"https://docs.sentry.io/platforms/android/proguard/#gradle\">\n                Sentry Gradle Plugin\n              </ExternalLink>\n            ),\n          }\n        ),\n      });\n    }\n\n    setProGuardErrors(newProGuardErrors);\n    setIsLoading(false);\n  }, [event, fetchProguardMappingFiles, isShare]);\n\n  const fetchAttachments = useCallback(async () => {\n    if (!event || isShare || !hasEventAttachmentsFeature) {\n      return;\n    }\n\n    try {\n      const response = await api.requestPromise(\n        `/projects/${orgSlug}/${projectSlug}/events/${event.id}/attachments/`\n      );\n      setAttachments(response);\n    } catch (error) {\n      Sentry.captureException(error);\n      addErrorMessage('An error occurred while fetching attachments');\n    }\n  }, [api, event, hasEventAttachmentsFeature, isShare, orgSlug, projectSlug]);\n\n  const handleDeleteAttachment = useCallback(\n    async (attachmentId: IssueAttachment['id']) => {\n      if (!event) {\n        return;\n      }\n\n      try {\n        await api.requestPromise(\n          `/projects/${orgSlug}/${projectSlug}/events/${event.id}/attachments/${attachmentId}/`,\n          {\n            method: 'DELETE',\n          }\n        );\n\n        setAttachments(attachments.filter(attachment => attachment.id !== attachmentId));\n      } catch (error) {\n        Sentry.captureException(error);\n        addErrorMessage('An error occurred while deleting the attachment');\n      }\n    },\n    [api, attachments, event, orgSlug, projectSlug]\n  );\n\n  useEffect(() => {\n    checkProGuardError();\n  }, [checkProGuardError]);\n\n  useEffect(() => {\n    recordIssueError();\n  }, [recordIssueError]);\n\n  useEffect(() => {\n    fetchAttachments();\n  }, [fetchAttachments]);\n\n  if (!event) {\n    return (\n      <LatestEventNotAvailable>\n        <h3>{t('Latest Event Not Available')}</h3>\n      </LatestEventNotAvailable>\n    );\n  }\n\n  const hasMobileScreenshotsFeature = orgFeatures.includes('mobile-screenshots');\n  const hasContext = !objectIsEmpty(event.user ?? {}) || !objectIsEmpty(event.contexts);\n  const hasErrors = !objectIsEmpty(event.errors) || !!proGuardErrors.length;\n\n  return (\n    <div className={className} data-test-id={`event-entries-loading-${isLoading}`}>\n      {hasErrors && !isLoading && (\n        <EventErrors\n          event={event}\n          orgSlug={orgSlug}\n          projectSlug={projectSlug}\n          proGuardErrors={proGuardErrors}\n        />\n      )}\n      {!isShare &&\n        isNotSharedOrganization(organization) &&\n        (showExampleCommit ? (\n          <EventCauseEmpty event={event} organization={organization} project={project} />\n        ) : (\n          <EventCause project={project} event={event} group={group} />\n        ))}\n      {event.userReport && group && (\n        <StyledEventUserFeedback\n          report={event.userReport}\n          orgId={orgSlug}\n          issueId={group.id}\n          includeBorder={!hasErrors}\n        />\n      )}\n      {showTagSummary &&\n        (hasMobileScreenshotsFeature ? (\n          <EventTagsAndScreenshot\n            event={event}\n            organization={organization as Organization}\n            projectId={projectSlug}\n            location={location}\n            isShare={isShare}\n            hasContext={hasContext}\n            attachments={attachments}\n            onDeleteScreenshot={handleDeleteAttachment}\n          />\n        ) : (\n          (!!(event.tags ?? []).length || hasContext) && (\n            <StyledEventDataSection title={t('Tags')} type=\"tags\">\n              {hasContext && <EventContextSummary event={event} />}\n              <EventTags\n                event={event}\n                organization={organization as Organization}\n                projectId={projectSlug}\n                location={location}\n              />\n            </StyledEventDataSection>\n          )\n        ))}\n      <Entries\n        definedEvent={event}\n        projectSlug={projectSlug}\n        group={group}\n        organization={organization}\n        route={route}\n        router={router}\n      />\n      {hasContext && <EventContexts group={group} event={event} />}\n      {event && !objectIsEmpty(event.context) && <EventExtraData event={event} />}\n      {event && !objectIsEmpty(event.packages) && <EventPackageData event={event} />}\n      {event && !objectIsEmpty(event.device) && <EventDevice event={event} />}\n      {!isShare && hasEventAttachmentsFeature && (\n        <EventAttachments\n          event={event}\n          orgId={orgSlug}\n          projectId={projectSlug}\n          location={location}\n          attachments={attachments}\n          onDeleteAttachment={handleDeleteAttachment}\n        />\n      )}\n      {event.sdk && !objectIsEmpty(event.sdk) && (\n        <EventSdk sdk={event.sdk} meta={event._meta?.sdk} />\n      )}\n      {!isShare && event?.sdkUpdates && event.sdkUpdates.length > 0 && (\n        <EventSdkUpdates event={{sdkUpdates: event.sdkUpdates, ...event}} />\n      )}\n      {!isShare && event.groupID && (\n        <EventGroupingInfo\n          projectId={projectSlug}\n          event={event}\n          showGroupingConfig={orgFeatures.includes('set-grouping-config')}\n        />\n      )}\n      {!isShare && (\n        <MiniReplayView\n          event={event}\n          orgFeatures={orgFeatures}\n          orgSlug={orgSlug}\n          projectSlug={projectSlug}\n          replayId={replayId}\n        />\n      )}\n    </div>\n  );\n};\n\nfunction Entries({\n  definedEvent,\n  projectSlug,\n  group,\n  organization,\n  route,\n  router,\n}: {\n  definedEvent: Event;\n  projectSlug: string;\n} & Pick<Props, 'group' | 'organization' | 'route' | 'router'>) {\n  const entries = definedEvent.entries;\n\n  if (!Array.isArray(entries)) {\n    return null;\n  }\n\n  return (\n    <Fragment>\n      {(entries as Array<Entry>).map((entry, entryIdx) => (\n        <ErrorBoundary\n          key={`entry-${entryIdx}`}\n          customComponent={\n            <EventDataSection type={entry.type} title={entry.type}>\n              <p>{t('There was an error rendering this data.')}</p>\n            </EventDataSection>\n          }\n        >\n          <EventEntry\n            projectSlug={projectSlug}\n            group={group}\n            organization={organization}\n            event={definedEvent}\n            entry={entry}\n            route={route}\n            router={router}\n          />\n        </ErrorBoundary>\n      ))}\n    </Fragment>\n  );\n}\n\ntype MiniReplayViewProps = {\n  event: Event;\n  orgFeatures: string[];\n  orgSlug: string;\n  projectSlug: string;\n  replayId: undefined | string;\n};\n\nfunction MiniReplayView({\n  event,\n  orgFeatures,\n  orgSlug,\n  projectSlug,\n  replayId,\n}: MiniReplayViewProps) {\n  const hasEventAttachmentsFeature = orgFeatures.includes('event-attachments');\n  const hasSessionReplayFeature = orgFeatures.includes('session-replay-ui');\n\n  if (replayId && hasSessionReplayFeature) {\n    return (\n      <EventReplay replayId={replayId} orgSlug={orgSlug} projectSlug={projectSlug} />\n    );\n  }\n  if (hasEventAttachmentsFeature) {\n    return (\n      <RRWebIntegration\n        event={event}\n        orgId={orgSlug}\n        projectId={projectSlug}\n        renderer={children => (\n          <StyledReplayEventDataSection type=\"context-replay\" title={t('Replay')}>\n            {children}\n          </StyledReplayEventDataSection>\n        )}\n      />\n    );\n  }\n  return null;\n}\n\nconst StyledEventDataSection = styled(EventDataSection)`\n  /* Hiding the top border because of the event section appears at this breakpoint */\n  @media (max-width: 767px) {\n    &:first-of-type {\n      border-top: none;\n    }\n  }\n`;\n\nconst LatestEventNotAvailable = styled('div')`\n  padding: ${space(2)} ${space(4)};\n`;\n\nconst ErrorContainer = styled('div')`\n  /*\n  Remove border on adjacent context summary box.\n  Once that component uses emotion this will be harder.\n  */\n  & + .context-summary {\n    border-top: none;\n  }\n`;\n\nconst BorderlessEventEntries = styled(EventEntries)`\n  & ${/* sc-selector */ DataSection} {\n    margin-left: 0 !important;\n    margin-right: 0 !important;\n    padding: ${space(3)} 0 0 0;\n  }\n  & ${/* sc-selector */ DataSection}:first-child {\n    padding-top: 0;\n    border-top: 0;\n  }\n  & ${/* sc-selector */ ErrorContainer} {\n    margin-bottom: ${space(2)};\n  }\n`;\n\ntype StyledEventUserFeedbackProps = {\n  includeBorder: boolean;\n};\n\nconst StyledEventUserFeedback = styled(EventUserFeedback)<StyledEventUserFeedbackProps>`\n  border-radius: 0;\n  box-shadow: none;\n  padding: ${space(3)} ${space(4)} 0 40px;\n  border: 0;\n  ${p => (p.includeBorder ? `border-top: 1px solid ${p.theme.innerBorder};` : '')}\n  margin: 0;\n`;\n\nconst StyledReplayEventDataSection = styled(EventDataSection)`\n  overflow: hidden;\n  margin-bottom: ${space(3)};\n`;\n\n// TODO(ts): any required due to our use of SharedViewOrganization\nexport default withOrganization<any>(withApi(EventEntries));\nexport {BorderlessEventEntries};\n","import Breadcrumbs from 'sentry/components/events/interfaces/breadcrumbs';\nimport {Csp} from 'sentry/components/events/interfaces/csp';\nimport DebugMeta from 'sentry/components/events/interfaces/debugMeta';\nimport Exception from 'sentry/components/events/interfaces/exception';\nimport ExceptionV2 from 'sentry/components/events/interfaces/exceptionV2';\nimport {Generic} from 'sentry/components/events/interfaces/generic';\nimport {Message} from 'sentry/components/events/interfaces/message';\nimport {PerformanceIssueSection} from 'sentry/components/events/interfaces/performance';\nimport {Request} from 'sentry/components/events/interfaces/request';\nimport Spans from 'sentry/components/events/interfaces/spans';\nimport StackTrace from 'sentry/components/events/interfaces/stackTrace';\nimport StackTraceV2 from 'sentry/components/events/interfaces/stackTraceV2';\nimport {Template} from 'sentry/components/events/interfaces/template';\nimport Threads from 'sentry/components/events/interfaces/threads';\nimport ThreadsV2 from 'sentry/components/events/interfaces/threadsV2';\nimport {Group, Organization, Project, SharedViewOrganization} from 'sentry/types';\nimport {Entry, EntryType, Event, EventError, EventTransaction} from 'sentry/types/event';\n\nimport {EmbeddedSpanTree} from './interfaces/spans/embeddedSpanTree';\nimport {FocusedSpanIDMap} from './interfaces/spans/types';\n\ntype Props = Pick<React.ComponentProps<typeof Breadcrumbs>, 'route' | 'router'> & {\n  entry: Entry;\n  event: Event;\n  organization: SharedViewOrganization | Organization;\n  projectSlug: Project['slug'];\n  group?: Group;\n};\n\nfunction EventEntry({\n  entry,\n  projectSlug,\n  event,\n  organization,\n  group,\n  route,\n  router,\n}: Props) {\n  const hasHierarchicalGrouping =\n    !!organization.features?.includes('grouping-stacktrace-ui') &&\n    !!(event.metadata.current_tree_label || event.metadata.finest_tree_label);\n\n  const hasNativeStackTraceV2 = !!organization.features?.includes(\n    'native-stack-trace-v2'\n  );\n\n  const groupingCurrentLevel = group?.metadata?.current_level;\n\n  switch (entry.type) {\n    case EntryType.EXCEPTION: {\n      return hasNativeStackTraceV2 ? (\n        <ExceptionV2\n          event={event}\n          data={entry.data}\n          projectId={projectSlug}\n          groupingCurrentLevel={groupingCurrentLevel}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n        />\n      ) : (\n        <Exception\n          event={event}\n          data={entry.data}\n          projectId={projectSlug}\n          groupingCurrentLevel={groupingCurrentLevel}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n        />\n      );\n    }\n    case EntryType.MESSAGE: {\n      return <Message event={event} data={entry.data} />;\n    }\n    case EntryType.REQUEST: {\n      return <Request event={event} data={entry.data} />;\n    }\n    case EntryType.STACKTRACE: {\n      return hasNativeStackTraceV2 ? (\n        <StackTraceV2\n          event={event}\n          data={entry.data}\n          projectId={projectSlug}\n          groupingCurrentLevel={groupingCurrentLevel}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n        />\n      ) : (\n        <StackTrace\n          event={event}\n          data={entry.data}\n          projectId={projectSlug}\n          groupingCurrentLevel={groupingCurrentLevel}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n        />\n      );\n    }\n    case EntryType.TEMPLATE: {\n      return <Template event={event} data={entry.data} />;\n    }\n    case EntryType.CSP: {\n      return <Csp event={event} data={entry.data} />;\n    }\n    case EntryType.EXPECTCT:\n    case EntryType.EXPECTSTAPLE: {\n      const {data, type} = entry;\n      return <Generic type={type} data={data} />;\n    }\n    case EntryType.HPKP:\n      return (\n        <Generic type={entry.type} data={entry.data} meta={event._meta?.hpkp ?? {}} />\n      );\n\n    case EntryType.BREADCRUMBS: {\n      return (\n        <Breadcrumbs\n          data={entry.data}\n          organization={organization as Organization}\n          event={event}\n          router={router}\n          route={route}\n        />\n      );\n    }\n    case EntryType.THREADS: {\n      return hasNativeStackTraceV2 ? (\n        <ThreadsV2\n          event={event}\n          data={entry.data}\n          projectId={projectSlug}\n          groupingCurrentLevel={groupingCurrentLevel}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n        />\n      ) : (\n        <Threads\n          event={event}\n          data={entry.data}\n          projectId={projectSlug}\n          groupingCurrentLevel={groupingCurrentLevel}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n        />\n      );\n    }\n    case EntryType.DEBUGMETA:\n      return (\n        <DebugMeta\n          event={event}\n          projectId={projectSlug}\n          groupId={group?.id}\n          organization={organization as Organization}\n          data={entry.data}\n        />\n      );\n    case EntryType.SPANS:\n      return (\n        <Spans\n          event={event as EventTransaction}\n          organization={organization as Organization}\n        />\n      );\n    case EntryType.SPANTREE:\n      if (!organization.features?.includes('performance-extraneous-spans-poc')) {\n        return null;\n      }\n\n      const {focusedSpanIds: _focusedSpanIds} = entry.data;\n\n      const focusedSpanIds: FocusedSpanIDMap = {};\n      _focusedSpanIds.forEach(spanId => (focusedSpanIds[spanId] = new Set()));\n\n      // TODO: Need to dynamically determine the project slug for this issue\n      const INTERNAL_PROJECT = 'sentry';\n\n      return (\n        <EmbeddedSpanTree\n          event={event}\n          organization={organization as Organization}\n          projectSlug={INTERNAL_PROJECT}\n          focusedSpanIds={focusedSpanIds}\n        />\n      );\n    case EntryType.PERFORMANCE:\n      if (!organization.features?.includes('performance-extraneous-spans-poc')) {\n        return null;\n      }\n\n      return (\n        <PerformanceIssueSection\n          issue={group as Group}\n          event={event as EventError}\n          organization={organization as Organization}\n        />\n      );\n    default:\n      // this should not happen\n      /* eslint no-console:0 */\n      window.console &&\n        console.error &&\n        console.error('Unregistered interface: ' + (entry as any).type);\n      return null;\n  }\n}\n\nexport default EventEntry;\n","import {t} from 'sentry/locale';\n\nimport {EventExtraData, EventExtraDataType} from './types';\n\ntype Output = {\n  subject: string;\n  value?: React.ReactNode;\n};\n\nexport function getEventExtraDataKnownDataDetails({\n  data,\n  type,\n}: {\n  data: EventExtraData;\n  type: EventExtraDataType;\n}): Output {\n  switch (type) {\n    case EventExtraDataType.CRASHED_PROCESS:\n      return {\n        subject: t('Crashed Process'),\n        value: data[type],\n      };\n    default:\n      return {\n        subject: type,\n        value: data[type],\n      };\n  }\n}\n","import {memo, useState} from 'react';\n\nimport ContextBlock from 'sentry/components/events/contexts/contextBlock';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport {t} from 'sentry/locale';\nimport {Event} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\nimport {geKnownData} from '../contexts/utils';\n\nimport {getEventExtraDataKnownDataDetails} from './getEventExtraDataKnownDataDetails';\nimport {EventExtraData, EventExtraDataType} from './types';\n\ntype Props = {\n  event: Event;\n};\n\nconst EventExtraDataContext = memo(\n  ({event}: Props) => {\n    const [raw, setRaw] = useState(false);\n    return (\n      <EventDataSection\n        type=\"extra\"\n        title={t('Additional Data')}\n        toggleRaw={() => setRaw(!raw)}\n        raw={raw}\n      >\n        {!defined(event.context) ? null : (\n          <ContextBlock\n            data={geKnownData<EventExtraData, EventExtraDataType>({\n              data: event.context,\n              knownDataTypes: Object.keys(event.context),\n              meta: event._meta?.context,\n              raw,\n              onGetKnownDataDetails: v => getEventExtraDataKnownDataDetails(v),\n            })}\n            raw={raw}\n          />\n        )}\n      </EventDataSection>\n    );\n  },\n  (prevProps: Props, nextProps: Props) => prevProps.event.id !== nextProps.event.id\n);\n\nexport default EventExtraDataContext;\n","export enum EventExtraDataType {\n  CRASHED_PROCESS = 'crashed_process',\n}\n\nexport type EventExtraData = {\n  [key: string]: any;\n};\n","import Button from 'sentry/components/button';\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport LazyLoad from 'sentry/components/lazyLoad';\nimport {t} from 'sentry/locale';\n\ntype Props = {\n  orgSlug: string;\n  projectSlug: string;\n  replayId: string;\n};\n\nexport default function EventReplay({replayId, orgSlug, projectSlug}: Props) {\n  return (\n    <EventDataSection\n      type=\"replay\"\n      title={t('Replay')}\n      actions={\n        <Button\n          size=\"sm\"\n          priority=\"primary\"\n          to={`/organizations/${orgSlug}/replays/${projectSlug}:${replayId}`}\n        >\n          View Details\n        </Button>\n      }\n    >\n      <ErrorBoundary mini>\n        <LazyLoad\n          component={() => import('./replayContent')}\n          replaySlug={`${projectSlug}:${replayId}`}\n          orgSlug={orgSlug}\n        />\n      </ErrorBoundary>\n    </EventDataSection>\n  );\n}\n","import EventDataSection from 'sentry/components/events/eventDataSection';\nimport {t} from 'sentry/locale';\nimport {Event} from 'sentry/types/event';\n\nimport AnnotatedText from './meta/annotatedText';\n\ntype Props = {\n  sdk: NonNullable<Event['sdk']>;\n  meta?: Record<any, any>;\n};\n\nexport function EventSdk({sdk, meta}: Props) {\n  return (\n    <EventDataSection type=\"sdk\" title={t('SDK')}>\n      <table className=\"table key-value\">\n        <tbody>\n          <tr key=\"name\">\n            <td className=\"key\">{t('Name')}</td>\n            <td className=\"value\">\n              <pre className=\"val-string\">\n                {meta?.name?.[''] ? (\n                  <AnnotatedText value={sdk.name} meta={meta?.name?.['']} />\n                ) : (\n                  sdk.name\n                )}\n              </pre>\n            </td>\n          </tr>\n          <tr key=\"version\">\n            <td className=\"key\">{t('Version')}</td>\n            <td className=\"value\">\n              <pre className=\"val-string\">\n                {meta?.version?.[''] ? (\n                  <AnnotatedText value={sdk.version} meta={meta?.version?.['']} />\n                ) : (\n                  sdk.version\n                )}\n              </pre>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </EventDataSection>\n  );\n}\n","import {Location} from 'history';\n\nimport Pills from 'sentry/components/pills';\nimport {Organization} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {defined, generateQueryWithTag} from 'sentry/utils';\n\nimport AnnotatedText from '../meta/annotatedText';\n\nimport EventTagsPill from './eventTagsPill';\n\ntype Props = {\n  event: Event;\n  location: Location;\n  organization: Organization;\n  projectId: string;\n};\n\nexport function EventTags({event, organization, projectId, location}: Props) {\n  const meta = event._meta?.tags;\n\n  if (!!meta?.[''] && !event.tags) {\n    return <AnnotatedText value={event.tags} meta={meta?.['']} />;\n  }\n\n  if (!(event.tags ?? []).length) {\n    return null;\n  }\n\n  const orgSlug = organization.slug;\n  const streamPath = `/organizations/${orgSlug}/issues/`;\n\n  return (\n    <Pills>\n      {event.tags.map((tag, index) => (\n        <EventTagsPill\n          key={!defined(tag.key) ? `tag-pill-${index}` : tag.key}\n          tag={tag}\n          projectId={projectId}\n          organization={organization}\n          query={generateQueryWithTag(location.query, tag)}\n          streamPath={streamPath}\n          meta={meta?.[index]}\n        />\n      ))}\n    </Pills>\n  );\n}\n","import styled from '@emotion/styled';\nimport kebabCase from 'lodash/kebabCase';\n\nimport GuideAnchor from 'sentry/components/assistant/guideAnchor';\nimport EventDataSection, {\n  SectionContents,\n} from 'sentry/components/events/eventDataSection';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport space from 'sentry/styles/space';\n\ntype Props = {\n  children: React.ReactNode;\n  description: string;\n  title: string;\n  className?: string;\n};\n\nfunction DataSection({title, description, children, className, ...props}: Props) {\n  const type = kebabCase(title);\n  return (\n    <StyledEventDataSection\n      {...props}\n      className={className}\n      type={type}\n      title={\n        <TitleWrapper>\n          <GuideAnchor target={type} position=\"bottom\">\n            <Title>{title}</Title>\n          </GuideAnchor>\n          <QuestionTooltip size=\"xs\" position=\"top\" title={description} />\n        </TitleWrapper>\n      }\n      wrapTitle={false}\n      showPermalink={false}\n    >\n      {children}\n    </StyledEventDataSection>\n  );\n}\n\nexport default DataSection;\n\nconst TitleWrapper = styled('div')`\n  display: grid;\n  grid-template-columns: repeat(2, max-content);\n  gap: ${space(0.5)};\n  align-items: center;\n  padding: ${space(0.75)} 0;\n`;\n\nconst Title = styled('h3')`\n  margin-bottom: 0;\n  padding: 0 !important;\n  height: 14px;\n`;\n\nconst StyledEventDataSection = styled(EventDataSection)`\n  ${SectionContents} {\n    flex: 1;\n  }\n`;\n","import styled from '@emotion/styled';\n\nimport {DataSection} from 'sentry/components/events/styles';\nimport space from 'sentry/styles/space';\nimport {objectIsEmpty} from 'sentry/utils';\n\nimport Screenshot from './screenshot';\nimport Tags from './tags';\nimport TagsHighlight from './tagsHighlight';\n\ntype ScreenshotProps = React.ComponentProps<typeof Screenshot>;\n\ntype Props = Omit<\n  React.ComponentProps<typeof Tags>,\n  'projectSlug' | 'hasEventContext'\n> & {\n  attachments: ScreenshotProps['screenshot'][];\n  onDeleteScreenshot: ScreenshotProps['onDelete'];\n  projectId: string;\n  hasContext?: boolean;\n  isShare?: boolean;\n};\n\nfunction EventTagsAndScreenshots({\n  projectId: projectSlug,\n  location,\n  event,\n  attachments,\n  onDeleteScreenshot,\n  organization,\n  isShare = false,\n  hasContext = false,\n}: Props) {\n  const {tags = []} = event;\n\n  const screenshot = attachments.find(\n    ({name}) => name === 'screenshot.jpg' || name === 'screenshot.png'\n  );\n\n  if (!tags.length && !hasContext && (isShare || !screenshot)) {\n    return null;\n  }\n\n  const showScreenshot = !isShare && !!screenshot;\n  // Check for context bailout condition. No context is rendered if only user is provided\n  const hasEventContext = hasContext && !objectIsEmpty(event.contexts);\n  const showTags = !!tags.length || hasContext;\n\n  return (\n    <Wrapper showScreenshot={showScreenshot} showTags={showTags}>\n      {showScreenshot && (\n        <ScreenshotWrapper>\n          <Screenshot\n            organization={organization}\n            event={event}\n            projectSlug={projectSlug}\n            screenshot={screenshot}\n            onDelete={onDeleteScreenshot}\n          />\n        </ScreenshotWrapper>\n      )}\n      {showScreenshot && (showTags || hasEventContext) && <VerticalDivider />}\n      <TagWrapper hasEventContext={hasEventContext}>\n        {hasEventContext && (\n          <TagsHighlightWrapper>\n            <TagsHighlight event={event} />\n          </TagsHighlightWrapper>\n        )}\n        {hasEventContext && showTags && <HorizontalDivider />}\n        {showTags && (\n          <Tags\n            organization={organization}\n            event={event}\n            projectSlug={projectSlug}\n            location={location}\n          />\n        )}\n      </TagWrapper>\n    </Wrapper>\n  );\n}\n\nexport default EventTagsAndScreenshots;\n\n/**\n * Used to adjust padding based on which 3 elements are shown\n * - screenshot\n * - context\n * - tags\n */\nconst Wrapper = styled(DataSection)<{\n  showScreenshot: boolean;\n  showTags: boolean;\n}>`\n  padding: 0;\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    padding: 0;\n    display: grid;\n    grid-template-columns: ${p =>\n      p.showScreenshot && p.showTags ? 'max-content auto 1fr' : '1fr'};\n  }\n`;\n\nconst VerticalDivider = styled('div')`\n  background: ${p => p.theme.innerBorder};\n  height: 1px;\n  width: 100%;\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    height: 100%;\n    width: 1px;\n  }\n`;\n\nconst ScreenshotWrapper = styled('div')`\n  & > div {\n    border: 0;\n    height: 100%;\n  }\n`;\n\nconst TagWrapper = styled('div')<{hasEventContext: boolean}>`\n  padding: ${p => (p.hasEventContext ? `${space(2)} 0` : '0')};\n  overflow: hidden;\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    padding: ${p => (p.hasEventContext ? `${space(2)} 0` : '0')};\n  }\n`;\n\nconst TagsHighlightWrapper = styled('div')`\n  overflow: hidden;\n  padding: 0 ${space(2)};\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    padding: 0 ${space(4)};\n  }\n`;\n\nconst HorizontalDivider = styled('div')`\n  height: 1px;\n  width: 100%;\n  background: ${p => p.theme.innerBorder};\n`;\n","import styled from '@emotion/styled';\n\nimport ImageViewer from 'sentry/components/events/attachmentViewers/imageViewer';\n\nconst ImageVisualization = styled(ImageViewer)`\n  padding: 0;\n  height: 100%;\n  img {\n    width: auto;\n    height: 100%;\n    flex: 1;\n  }\n`;\n\nexport default ImageVisualization;\n","import {Fragment, useState} from 'react';\nimport styled from '@emotion/styled';\n\nimport {openModal} from 'sentry/actionCreators/modal';\nimport {Role} from 'sentry/components/acl/role';\nimport MenuItemActionLink from 'sentry/components/actions/menuItemActionLink';\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport DropdownLink from 'sentry/components/dropdownLink';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {Panel, PanelBody, PanelFooter} from 'sentry/components/panels';\nimport {IconEllipsis} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {EventAttachment, Organization, Project} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\n\nimport DataSection from '../dataSection';\n\nimport ImageVisualization from './imageVisualization';\nimport Modal, {modalCss} from './modal';\n\ntype Props = {\n  event: Event;\n  onDelete: (attachmentId: EventAttachment['id']) => void;\n  organization: Organization;\n  projectSlug: Project['slug'];\n  screenshot: EventAttachment;\n};\n\nfunction Screenshot({event, organization, screenshot, projectSlug, onDelete}: Props) {\n  const orgSlug = organization.slug;\n  const [loadingImage, setLoadingImage] = useState(true);\n\n  function handleOpenVisualizationModal(\n    eventAttachment: EventAttachment,\n    downloadUrl: string\n  ) {\n    openModal(\n      modalProps => (\n        <Modal\n          {...modalProps}\n          event={event}\n          orgSlug={orgSlug}\n          projectSlug={projectSlug}\n          eventAttachment={eventAttachment}\n          downloadUrl={downloadUrl}\n          onDelete={() => onDelete(eventAttachment.id)}\n        />\n      ),\n      {modalCss}\n    );\n  }\n\n  function renderContent(screenshotAttachment: EventAttachment) {\n    const downloadUrl = `/api/0/projects/${organization.slug}/${projectSlug}/events/${event.id}/attachments/${screenshotAttachment.id}/`;\n\n    return (\n      <Fragment>\n        <StyledPanelBody\n          onClick={() =>\n            handleOpenVisualizationModal(\n              screenshotAttachment,\n              `${downloadUrl}?download=1`\n            )\n          }\n        >\n          <StyledImageVisualization\n            attachment={screenshotAttachment}\n            orgId={orgSlug}\n            projectId={projectSlug}\n            event={event}\n            onLoad={() => setLoadingImage(false)}\n            onError={() => setLoadingImage(false)}\n          />\n          {loadingImage && (\n            <StyledLoadingIndicator>\n              <LoadingIndicator mini />\n            </StyledLoadingIndicator>\n          )}\n        </StyledPanelBody>\n        <StyledPanelFooter>\n          <StyledButtonbar gap={1}>\n            <Button\n              size=\"xs\"\n              onClick={() =>\n                handleOpenVisualizationModal(\n                  screenshotAttachment,\n                  `${downloadUrl}?download=1`\n                )\n              }\n            >\n              {t('View screenshot')}\n            </Button>\n            <DropdownLink\n              caret={false}\n              customTitle={\n                <Button\n                  aria-label={t('Actions')}\n                  size=\"xs\"\n                  icon={<IconEllipsis size=\"xs\" />}\n                />\n              }\n              anchorRight\n            >\n              <MenuItemActionLink\n                shouldConfirm={false}\n                title={t('Download')}\n                href={`${downloadUrl}?download=1`}\n              >\n                {t('Download')}\n              </MenuItemActionLink>\n              <MenuItemActionLink\n                shouldConfirm\n                title={t('Delete')}\n                onAction={() => onDelete(screenshotAttachment.id)}\n                header={t(\n                  'This image was captured around the time that the event occurred.'\n                )}\n                message={t('Are you sure you wish to delete this image?')}\n              >\n                {t('Delete')}\n              </MenuItemActionLink>\n            </DropdownLink>\n          </StyledButtonbar>\n        </StyledPanelFooter>\n      </Fragment>\n    );\n  }\n\n  return (\n    <Role organization={organization} role={organization.attachmentsRole}>\n      {({hasRole}) => {\n        if (!hasRole) {\n          return null;\n        }\n\n        return (\n          <DataSection\n            title={t('Screenshot')}\n            description={t(\n              'This image was captured around the time that the event occurred.'\n            )}\n          >\n            <StyledPanel>{renderContent(screenshot)}</StyledPanel>\n          </DataSection>\n        );\n      }}\n    </Role>\n  );\n}\n\nexport default Screenshot;\n\nconst StyledPanel = styled(Panel)`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 0;\n  max-width: 100%;\n  height: 100%;\n  border: 0;\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    max-width: 175px;\n  }\n`;\n\nconst StyledPanelBody = styled(PanelBody)`\n  border: 1px solid ${p => p.theme.border};\n  border-top-left-radius: ${p => p.theme.borderRadius};\n  border-top-right-radius: ${p => p.theme.borderRadius};\n  width: 100%;\n  min-height: 48px;\n  overflow: hidden;\n  cursor: pointer;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n`;\n\nconst StyledPanelFooter = styled(PanelFooter)`\n  padding: ${space(1)};\n  width: 100%;\n  border: 1px solid ${p => p.theme.border};\n  border-top: 0;\n  border-bottom-left-radius: ${p => p.theme.borderRadius};\n  border-bottom-right-radius: ${p => p.theme.borderRadius};\n`;\n\nconst StyledLoadingIndicator = styled('div')`\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n`;\n\nconst StyledImageVisualization = styled(ImageVisualization)`\n  width: 100%;\n  z-index: 1;\n  border: 0;\n`;\n\nconst StyledButtonbar = styled(ButtonBar)`\n  justify-content: space-between;\n  .dropdown {\n    height: 24px;\n  }\n`;\n","import {Fragment} from 'react';\nimport {css} from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport {ModalRenderProps} from 'sentry/actionCreators/modal';\nimport Button from 'sentry/components/button';\nimport Buttonbar from 'sentry/components/buttonBar';\nimport Confirm from 'sentry/components/confirm';\nimport DateTime from 'sentry/components/dateTime';\nimport {getRelativeTimeFromEventDateCreated} from 'sentry/components/events/contexts/utils';\nimport NotAvailable from 'sentry/components/notAvailable';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {EventAttachment, Organization, Project} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {defined, formatBytesBase2} from 'sentry/utils';\nimport getDynamicText from 'sentry/utils/getDynamicText';\n\nimport ImageVisualization from './imageVisualization';\n\ntype Props = ModalRenderProps & {\n  downloadUrl: string;\n  event: Event;\n  eventAttachment: EventAttachment;\n  onDelete: () => void;\n  orgSlug: Organization['slug'];\n  projectSlug: Project['slug'];\n};\n\nfunction Modal({\n  eventAttachment,\n  orgSlug,\n  projectSlug,\n  Header,\n  Body,\n  Footer,\n  event,\n  onDelete,\n  downloadUrl,\n}: Props) {\n  const {dateCreated, size, mimetype} = eventAttachment;\n  return (\n    <Fragment>\n      <Header closeButton>{t('Screenshot')}</Header>\n      <Body>\n        <GeralInfo>\n          <Label coloredBg>{t('Date Created')}</Label>\n          <Value coloredBg>\n            {dateCreated ? (\n              <Fragment>\n                <DateTime\n                  date={getDynamicText({\n                    value: dateCreated,\n                    fixed: new Date(1508208080000),\n                  })}\n                />\n                {getRelativeTimeFromEventDateCreated(\n                  event.dateCreated ? event.dateCreated : event.dateReceived,\n                  dateCreated,\n                  false\n                )}\n              </Fragment>\n            ) : (\n              <NotAvailable />\n            )}\n          </Value>\n\n          <Label>{t('Size')}</Label>\n          <Value>{defined(size) ? formatBytesBase2(size) : <NotAvailable />}</Value>\n\n          <Label coloredBg>{t('MIME Type')}</Label>\n          <Value coloredBg>{mimetype ?? <NotAvailable />}</Value>\n        </GeralInfo>\n\n        <StyledImageVisualization\n          attachment={eventAttachment}\n          orgId={orgSlug}\n          projectId={projectSlug}\n          event={event}\n        />\n      </Body>\n      <Footer>\n        <Buttonbar gap={1}>\n          <Confirm\n            confirmText={t('Delete')}\n            header={t(\n              'Screenshots help identify what the user saw when the event happened'\n            )}\n            message={t('Are you sure you wish to delete this screenshot?')}\n            priority=\"danger\"\n            onConfirm={onDelete}\n          >\n            <Button priority=\"danger\">{t('Delete')}</Button>\n          </Confirm>\n          <Button href={downloadUrl}>{t('Download')}</Button>\n        </Buttonbar>\n      </Footer>\n    </Fragment>\n  );\n}\n\nexport default Modal;\n\nconst GeralInfo = styled('div')`\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  margin-bottom: ${space(3)};\n`;\n\nconst Label = styled('div')<{coloredBg?: boolean}>`\n  color: ${p => p.theme.textColor};\n  padding: ${space(1)} ${space(1.5)} ${space(1)} ${space(1)};\n  ${p => p.coloredBg && `background-color: ${p.theme.backgroundSecondary};`}\n`;\n\nconst Value = styled(Label)`\n  white-space: pre-wrap;\n  word-break: break-all;\n  color: ${p => p.theme.subText};\n  padding: ${space(1)};\n  font-family: ${p => p.theme.text.familyMono};\n  ${p => p.coloredBg && `background-color: ${p.theme.backgroundSecondary};`}\n`;\n\nconst StyledImageVisualization = styled(ImageVisualization)`\n  img {\n    border-radius: ${p => p.theme.borderRadius};\n  }\n`;\n\nexport const modalCss = css`\n  width: auto;\n  height: 100%;\n  max-width: 100%;\n`;\n","import styled from '@emotion/styled';\nimport type {Location} from 'history';\n\nimport {SectionContents} from 'sentry/components/events/eventDataSection';\nimport {t} from 'sentry/locale';\nimport type {Organization, Project} from 'sentry/types';\nimport type {Event} from 'sentry/types/event';\n\nimport {EventTags} from '../eventTags';\n\nimport DataSection from './dataSection';\n\ntype Props = {\n  event: Event;\n  location: Location;\n  organization: Organization;\n  projectSlug: Project['slug'];\n};\n\nfunction Tags({event, organization, projectSlug, location}: Props) {\n  return (\n    <StyledDataSection\n      title={t('Tags')}\n      description={t(\n        'Tags help you quickly both access related events and view the tag distribution for a set of events'\n      )}\n      data-test-id=\"event-tags\"\n    >\n      <EventTags\n        event={event}\n        organization={organization}\n        projectId={projectSlug}\n        location={location}\n      />\n    </StyledDataSection>\n  );\n}\n\nexport default Tags;\n\nconst StyledDataSection = styled(DataSection)`\n  border-top: 0;\n  overflow: hidden;\n  ${SectionContents} {\n    overflow: hidden;\n  }\n`;\n","import {Event} from 'sentry/types/event';\n\nimport ContextSummary from '../contextSummary';\n\ntype Props = {\n  event: Event;\n};\n\nfunction TagsHighlight({event}: Props) {\n  return <ContextSummary event={event} />;\n}\n\nexport default TagsHighlight;\n","import {memo} from 'react';\nimport styled from '@emotion/styled';\n\nimport Highlight from 'sentry/components/highlight';\nimport {t} from 'sentry/locale';\nimport {defined} from 'sentry/utils';\n\ntype Props = {\n  searchTerm: string;\n  category?: string | null;\n};\n\nconst Category = memo(function Category({category, searchTerm}: Props) {\n  const title = !defined(category) ? t('generic') : category;\n  return (\n    <Wrapper title={title}>\n      <Highlight text={searchTerm}>{title}</Highlight>\n    </Wrapper>\n  );\n});\n\nexport default Category;\n\nconst Wrapper = styled('div')`\n  color: ${p => p.theme.textColor};\n  font-size: ${p => p.theme.fontSizeSmall};\n  font-weight: 700;\n`;\n","import AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport Highlight from 'sentry/components/highlight';\nimport Link from 'sentry/components/links/link';\nimport {Organization, Project} from 'sentry/types';\nimport {BreadcrumbTypeDefault, BreadcrumbTypeNavigation} from 'sentry/types/breadcrumbs';\nimport {Event} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\nimport {generateEventSlug} from 'sentry/utils/discover/urls';\nimport {getTransactionDetailsUrl} from 'sentry/utils/performance/urls';\nimport withProjects from 'sentry/utils/withProjects';\n\nimport Summary from './summary';\n\ntype Props = {\n  breadcrumb: BreadcrumbTypeDefault | BreadcrumbTypeNavigation;\n  orgSlug: Organization['slug'];\n  searchTerm: string;\n  event?: Event;\n  linkedEvent?: React.ReactElement;\n  meta?: Record<any, any>;\n};\n\nexport function Default({\n  meta,\n  breadcrumb,\n  event,\n  orgSlug,\n  searchTerm,\n  linkedEvent,\n}: Props) {\n  const {message, data} = breadcrumb;\n  return (\n    <Summary kvData={data} meta={meta}>\n      {linkedEvent}\n      {meta?.message?.[''] ? (\n        <AnnotatedText value={message} meta={meta?.message?.['']} />\n      ) : (\n        defined(message) && (\n          <FormatMessage\n            searchTerm={searchTerm}\n            event={event}\n            orgSlug={orgSlug}\n            breadcrumb={breadcrumb}\n            message={message}\n          />\n        )\n      )}\n    </Summary>\n  );\n}\n\nfunction isEventId(maybeEventId: string): boolean {\n  // maybeEventId is an event id if it's a hex string of 32 characters long\n  return /^[a-fA-F0-9]{32}$/.test(maybeEventId);\n}\n\nconst FormatMessage = withProjects(function FormatMessageInner({\n  searchTerm,\n  event,\n  message,\n  breadcrumb,\n  projects,\n  loadingProjects,\n  orgSlug,\n}: {\n  breadcrumb: BreadcrumbTypeDefault | BreadcrumbTypeNavigation;\n  loadingProjects: boolean;\n  message: string;\n  orgSlug: Organization['slug'];\n  projects: Project[];\n  searchTerm: string;\n  event?: Event;\n}) {\n  const content = <Highlight text={searchTerm}>{message}</Highlight>;\n  if (\n    !loadingProjects &&\n    breadcrumb.category === 'sentry.transaction' &&\n    isEventId(message)\n  ) {\n    const maybeProject = projects.find(project => {\n      return event && project.id === event.projectID;\n    });\n\n    if (!maybeProject) {\n      return content;\n    }\n\n    const projectSlug = maybeProject.slug;\n    const eventSlug = generateEventSlug({project: projectSlug, id: message});\n\n    return <Link to={getTransactionDetailsUrl(orgSlug, eventSlug)}>{content}</Link>;\n  }\n\n  return content;\n});\n","import omit from 'lodash/omit';\n\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport Highlight from 'sentry/components/highlight';\nimport {BreadcrumbTypeDefault} from 'sentry/types/breadcrumbs';\nimport {defined} from 'sentry/utils';\n\nimport Summary from './summary';\n\ntype Props = {\n  breadcrumb: BreadcrumbTypeDefault;\n  searchTerm: string;\n  linkedEvent?: React.ReactElement;\n  meta?: Record<any, any>;\n};\n\nexport function Exception({breadcrumb, searchTerm, meta, linkedEvent}: Props) {\n  const {data, message} = breadcrumb;\n\n  return (\n    <Summary kvData={!data ? data : omit(data, ['type', 'value'])} meta={meta}>\n      {linkedEvent}\n      {meta?.type?.[''] ? (\n        <AnnotatedText value={data?.type} meta={meta?.type?.['']} />\n      ) : (\n        defined(data?.type) && (\n          <strong>\n            <Highlight text={searchTerm}>{`${data?.type}: `}</Highlight>\n          </strong>\n        )\n      )}\n      {meta?.data?.value?.[''] ? (\n        <AnnotatedText value={data?.value} meta={meta?.data?.value?.['']} />\n      ) : (\n        defined(data?.value) && (\n          <Highlight text={searchTerm}>\n            {breadcrumb?.message ? `${data?.value}. ` : data?.value}\n          </Highlight>\n        )\n      )}\n      {meta?.message?.[''] ? (\n        <AnnotatedText value={message} meta={meta?.message?.['']} />\n      ) : (\n        defined(message) && <Highlight text={searchTerm}>{message}</Highlight>\n      )}\n    </Summary>\n  );\n}\n","import omit from 'lodash/omit';\n\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport Highlight from 'sentry/components/highlight';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport {t} from 'sentry/locale';\nimport {BreadcrumbTypeHTTP} from 'sentry/types/breadcrumbs';\nimport {defined} from 'sentry/utils';\n\nimport Summary from './summary';\n\ntype Props = {\n  breadcrumb: BreadcrumbTypeHTTP;\n  searchTerm: string;\n  linkedEvent?: React.ReactElement;\n  meta?: Record<any, any>;\n};\n\nexport function Http({breadcrumb, searchTerm, meta, linkedEvent}: Props) {\n  const {data} = breadcrumb;\n\n  const renderUrl = (url: any) => {\n    if (typeof url === 'string') {\n      const content = <Highlight text={searchTerm}>{url}</Highlight>;\n      return url.match(/^https?:\\/\\//) ? (\n        <ExternalLink data-test-id=\"http-renderer-external-link\" href={url}>\n          {content}\n        </ExternalLink>\n      ) : (\n        <span>{content}</span>\n      );\n    }\n\n    try {\n      return <Highlight text={searchTerm}>{JSON.stringify(url)}</Highlight>;\n    } catch {\n      return t('Invalid URL');\n    }\n  };\n\n  return (\n    <Summary\n      kvData={!data ? data : omit(data, ['method', 'url', 'status_code'])}\n      meta={meta}\n    >\n      {linkedEvent}\n      {meta?.data?.method?.[''] ? (\n        <AnnotatedText value={data?.method} meta={meta?.data?.method?.['']} />\n      ) : (\n        defined(data?.method) && (\n          <strong>\n            <Highlight text={searchTerm}>{`${data?.method} `}</Highlight>\n          </strong>\n        )\n      )}\n      {meta?.data?.url?.[''] ? (\n        <AnnotatedText value={data?.url} meta={meta?.data?.url?.['']} />\n      ) : (\n        defined(data?.url) && renderUrl(data?.url)\n      )}\n      {meta?.data?.status_code?.[''] ? (\n        <AnnotatedText value={data?.status_code} meta={meta?.data?.status_code?.['']} />\n      ) : (\n        defined(data?.status_code) && (\n          <Highlight\n            data-test-id=\"http-renderer-status-code\"\n            text={searchTerm}\n          >{` [${data?.status_code}]`}</Highlight>\n        )\n      )}\n    </Summary>\n  );\n}\n","import {Organization} from 'sentry/types';\nimport {BreadcrumbType, RawCrumb} from 'sentry/types/breadcrumbs';\nimport {Event} from 'sentry/types/event';\n\nimport {Default} from './default';\nimport {Exception} from './exception';\nimport {Http} from './http';\nimport {LinkedEvent} from './linkedEvent';\n\ntype Props = Pick<React.ComponentProps<typeof LinkedEvent>, 'route' | 'router'> & {\n  breadcrumb: RawCrumb;\n  event: Event;\n  organization: Organization;\n  searchTerm: string;\n  meta?: Record<any, any>;\n};\n\nexport function Data({\n  breadcrumb,\n  event,\n  organization,\n  searchTerm,\n  meta,\n  route,\n  router,\n}: Props) {\n  const orgSlug = organization.slug;\n\n  const linkedEvent =\n    !!organization.features?.includes('breadcrumb-linked-event') &&\n    breadcrumb.event_id ? (\n      <LinkedEvent\n        orgSlug={orgSlug}\n        eventId={breadcrumb.event_id}\n        route={route}\n        router={router}\n      />\n    ) : undefined;\n\n  if (breadcrumb.type === BreadcrumbType.HTTP) {\n    return (\n      <Http\n        breadcrumb={breadcrumb}\n        searchTerm={searchTerm}\n        linkedEvent={linkedEvent}\n        meta={meta}\n      />\n    );\n  }\n\n  if (\n    breadcrumb.type === BreadcrumbType.WARNING ||\n    breadcrumb.type === BreadcrumbType.ERROR\n  ) {\n    return (\n      <Exception\n        breadcrumb={breadcrumb}\n        searchTerm={searchTerm}\n        linkedEvent={linkedEvent}\n        meta={meta}\n      />\n    );\n  }\n\n  return (\n    <Default\n      event={event}\n      orgSlug={orgSlug}\n      breadcrumb={breadcrumb}\n      searchTerm={searchTerm}\n      linkedEvent={linkedEvent}\n      meta={meta}\n    />\n  );\n}\n","import {useEffect, useState} from 'react';\nimport {InjectedRouter, PlainRoute} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport ProjectBadge from 'sentry/components/idBadge/projectBadge';\nimport Placeholder from 'sentry/components/placeholder';\nimport ShortId from 'sentry/components/shortId';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {EventIdResponse, Group, Organization, Project} from 'sentry/types';\nimport handleXhrErrorResponse from 'sentry/utils/handleXhrErrorResponse';\nimport useApi from 'sentry/utils/useApi';\nimport useSessionStorage from 'sentry/utils/useSessionStorage';\n\ntype StoredLinkedEvent = {\n  groupId: string;\n  orgSlug: Organization['slug'];\n  project: Project;\n  shortId: string;\n};\n\ntype Props = {\n  eventId: string;\n  orgSlug: Organization['slug'];\n  route: PlainRoute;\n  router: InjectedRouter;\n};\n\nconst errorMessage = t(\n  'An error occurred while fetching the data of the breadcrumb event link'\n);\n\nexport function LinkedEvent({orgSlug, eventId, route, router}: Props) {\n  const [storedLinkedEvent, setStoredLinkedEvent, removeStoredLinkedEvent] =\n    useSessionStorage<undefined | StoredLinkedEvent>(eventId);\n\n  const [eventIdLookup, setEventIdLookup] = useState<undefined | EventIdResponse>();\n  const [hasError, setHasError] = useState(false);\n\n  const api = useApi();\n\n  useEffect(() => {\n    fetchEventById();\n    router.setRouteLeaveHook(route, onRouteLeave);\n  }, []);\n\n  useEffect(() => {\n    fetchIssueByGroupId();\n  }, [eventIdLookup]);\n\n  function onRouteLeave() {\n    removeStoredLinkedEvent();\n  }\n\n  async function fetchEventById() {\n    if (!!storedLinkedEvent) {\n      return;\n    }\n\n    try {\n      const response = await api.requestPromise(\n        `/organizations/${orgSlug}/eventids/${eventId}/`\n      );\n\n      setEventIdLookup(response);\n    } catch (error) {\n      setHasError(true);\n\n      if (error.status === 404) {\n        return;\n      }\n\n      addErrorMessage(errorMessage);\n      handleXhrErrorResponse(errorMessage)(error);\n\n      // do nothing. The link won't be displayed\n    }\n  }\n\n  async function fetchIssueByGroupId() {\n    if (!!storedLinkedEvent || !eventIdLookup) {\n      return;\n    }\n\n    try {\n      const response = await api.requestPromise(\n        `/organizations/${orgSlug}/issues/${eventIdLookup.groupId}/`\n      );\n\n      const {project, shortId} = response as Group;\n      const {groupId} = eventIdLookup;\n      setStoredLinkedEvent({shortId, project, groupId, orgSlug});\n    } catch (error) {\n      setHasError(true);\n\n      if (error.status === 404) {\n        return;\n      }\n\n      addErrorMessage(errorMessage);\n      handleXhrErrorResponse('An error occurred while fetching an issue')(error);\n\n      // do nothing. The link won't be displayed\n    }\n  }\n\n  if (hasError) {\n    return null;\n  }\n\n  if (!storedLinkedEvent) {\n    return <StyledPlaceholder height=\"16px\" width=\"109px\" />;\n  }\n\n  const {shortId, project, groupId} = storedLinkedEvent;\n\n  return (\n    <StyledShortId\n      shortId={shortId}\n      avatar={<ProjectBadge project={project} avatarSize={16} hideName />}\n      to={`/${orgSlug}/${project.slug}/issues/${groupId}/events/${eventId}/`}\n    />\n  );\n}\n\nconst StyledShortId = styled(ShortId)`\n  font-weight: 700;\n  display: inline-grid;\n  margin-right: ${space(1)};\n`;\n\nconst StyledPlaceholder = styled(Placeholder)`\n  display: inline-flex;\n  margin-right: ${space(1)};\n`;\n","import styled from '@emotion/styled';\n\nimport ContextData from 'sentry/components/contextData';\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport space from 'sentry/styles/space';\nimport {defined} from 'sentry/utils';\n\ntype Props = {\n  children: React.ReactNode;\n  kvData?: Record<string, any> | null;\n  meta?: Record<any, any>;\n};\n\nfunction Summary({kvData, children, meta}: Props) {\n  if (meta?.data?.[''] && !defined(kvData)) {\n    return (\n      <Wrapper>\n        {children && <StyledCode>{children}</StyledCode>}\n        <ContextDataWrapper>\n          <AnnotatedText value={kvData} meta={meta?.data?.['']} />\n        </ContextDataWrapper>\n      </Wrapper>\n    );\n  }\n\n  if (!kvData || !Object.keys(kvData).length) {\n    if (!children) {\n      return <div />;\n    }\n\n    return (\n      <Wrapper>\n        <StyledCode>{children}</StyledCode>\n      </Wrapper>\n    );\n  }\n\n  return (\n    <Wrapper>\n      {children && <StyledCode>{children}</StyledCode>}\n      <ContextDataWrapper>\n        <ContextData data={kvData} withAnnotatedText />\n      </ContextDataWrapper>\n    </Wrapper>\n  );\n}\n\nexport default Summary;\n\nconst Wrapper = styled('div')`\n  word-break: break-all;\n  font-size: ${p => p.theme.fontSizeSmall};\n  font-family: ${p => p.theme.text.familyMono};\n  display: grid;\n  gap: ${space(0.5)};\n  overflow: hidden;\n`;\n\nconst ContextDataWrapper = styled('div')`\n  padding: ${space(1)};\n  background: ${p => p.theme.backgroundSecondary};\n  border-radius: ${p => p.theme.borderRadius};\n  overflow: hidden;\n\n  pre {\n    background: ${p => p.theme.backgroundSecondary};\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    overflow-y: auto;\n    max-height: 100%;\n  }\n`;\n\nconst StyledCode = styled('code')`\n  font-size: inherit;\n  white-space: pre-wrap;\n  background: none;\n  padding: 0;\n  > * {\n    vertical-align: middle;\n  }\n`;\n","import {memo} from 'react';\nimport {css} from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport space from 'sentry/styles/space';\nimport {Organization} from 'sentry/types';\nimport {BreadcrumbType, Crumb} from 'sentry/types/breadcrumbs';\nimport {Event} from 'sentry/types/event';\n\nimport Category from './category';\nimport {Data} from './data';\nimport Level from './level';\nimport Time from './time';\nimport Type from './type';\n\ntype Props = Pick<React.ComponentProps<typeof Data>, 'route' | 'router'> & {\n  breadcrumb: Crumb;\n  ['data-test-id']: string;\n  displayRelativeTime: boolean;\n  event: Event;\n  onLoad: () => void;\n  organization: Organization;\n  relativeTime: string;\n  scrollbarSize: number;\n  searchTerm: string;\n  style: React.CSSProperties;\n  height?: string;\n  meta?: Record<any, any>;\n};\n\nexport const Breadcrumb = memo(function Breadcrumb({\n  organization,\n  event,\n  breadcrumb,\n  relativeTime,\n  displayRelativeTime,\n  searchTerm,\n  onLoad,\n  scrollbarSize,\n  style,\n  route,\n  router,\n  meta,\n  ['data-test-id']: dataTestId,\n}: Props) {\n  const {type, description, color, level, category, timestamp} = breadcrumb;\n  const error = breadcrumb.type === BreadcrumbType.ERROR;\n\n  return (\n    <Wrapper\n      style={style}\n      error={error}\n      onLoad={onLoad}\n      data-test-id={dataTestId}\n      scrollbarSize={scrollbarSize}\n    >\n      <Type type={type} color={color} description={description} error={error} />\n      <Category category={category} searchTerm={searchTerm} />\n      <Data\n        event={event}\n        organization={organization}\n        breadcrumb={breadcrumb}\n        searchTerm={searchTerm}\n        route={route}\n        router={router}\n        meta={meta}\n      />\n      <div>\n        <Level level={level} searchTerm={searchTerm} />\n      </div>\n      <Time\n        timestamp={timestamp}\n        relativeTime={relativeTime}\n        displayRelativeTime={displayRelativeTime}\n        searchTerm={searchTerm}\n      />\n    </Wrapper>\n  );\n});\n\nconst Wrapper = styled('div')<{error: boolean; scrollbarSize: number}>`\n  display: grid;\n  grid-template-columns: 64px 140px 1fr 106px 100px ${p => p.scrollbarSize}px;\n\n  > * {\n    padding: ${space(1)} ${space(2)};\n  }\n\n  @media (max-width: ${props => props.theme.breakpoints.small}) {\n    grid-template-rows: repeat(2, auto);\n    grid-template-columns: max-content 1fr 74px 82px ${p => p.scrollbarSize}px;\n\n    > * {\n      padding: ${space(1)};\n\n      /* Type */\n      :nth-child(5n-4) {\n        grid-row: 1/-1;\n        padding-right: 0;\n        padding-left: 0;\n        margin-left: ${space(2)};\n        margin-right: ${space(1)};\n      }\n\n      /* Data */\n      :nth-child(5n-2) {\n        grid-row: 2/2;\n        grid-column: 2/-1;\n        padding-top: 0;\n        padding-right: ${space(2)};\n      }\n\n      /* Level */\n      :nth-child(5n-1) {\n        padding-right: 0;\n        display: flex;\n        justify-content: flex-end;\n        align-items: flex-start;\n      }\n\n      /* Time */\n      :nth-child(5n) {\n        padding: ${space(1)} ${space(2)};\n      }\n    }\n  }\n\n  word-break: break-all;\n  white-space: pre-wrap;\n  :not(:last-child) {\n    border-bottom: 1px solid ${p => (p.error ? p.theme.red300 : p.theme.innerBorder)};\n  }\n\n  ${p =>\n    p.error &&\n    css`\n      :after {\n        content: '';\n        position: absolute;\n        top: -1px;\n        left: 0;\n        height: 1px;\n        width: 100%;\n        background: ${p.theme.red300};\n      }\n    `}\n`;\n","import {memo} from 'react';\nimport styled from '@emotion/styled';\n\nimport Highlight from 'sentry/components/highlight';\nimport Tag, {Background} from 'sentry/components/tag';\nimport {t} from 'sentry/locale';\nimport {BreadcrumbLevelType} from 'sentry/types/breadcrumbs';\n\ntype Props = {\n  level: BreadcrumbLevelType;\n  searchTerm?: string;\n};\n\nconst Level = memo(function Level({level, searchTerm = ''}: Props) {\n  switch (level) {\n    case BreadcrumbLevelType.FATAL:\n      return (\n        <LevelTag type=\"error\">\n          <Highlight text={searchTerm}>{t('Fatal')}</Highlight>\n        </LevelTag>\n      );\n    case BreadcrumbLevelType.ERROR:\n      return (\n        <LevelTag type=\"error\">\n          <Highlight text={searchTerm}>{t('Error')}</Highlight>\n        </LevelTag>\n      );\n    case BreadcrumbLevelType.INFO:\n      return (\n        <LevelTag type=\"info\">\n          <Highlight text={searchTerm}>{t('Info')}</Highlight>\n        </LevelTag>\n      );\n    case BreadcrumbLevelType.WARNING:\n      return (\n        <LevelTag type=\"warning\">\n          <Highlight text={searchTerm}>{t('Warning')}</Highlight>\n        </LevelTag>\n      );\n    default:\n      return (\n        <LevelTag>\n          <Highlight text={searchTerm}>{level || t('Undefined')}</Highlight>\n        </LevelTag>\n      );\n  }\n});\n\nexport default Level;\n\nconst LevelTag = styled(Tag)`\n  display: flex;\n  align-items: center;\n  ${Background} {\n    /** Same height as menu item labels, to prevent vertical cropping */\n    height: calc(${p => p.theme.fontSizeMedium} * 1.4);\n    overflow: hidden;\n  }\n`;\n","import {memo} from 'react';\nimport styled from '@emotion/styled';\n\nimport Highlight from 'sentry/components/highlight';\nimport Tooltip from 'sentry/components/tooltip';\nimport {defined} from 'sentry/utils';\nimport getDynamicText from 'sentry/utils/getDynamicText';\n\nimport {getFormattedTimestamp} from './utils';\n\ntype Props = {\n  searchTerm: string;\n  displayRelativeTime?: boolean;\n  relativeTime?: string;\n  timestamp?: string;\n};\n\nconst Time = memo(function Time({\n  timestamp,\n  relativeTime,\n  displayRelativeTime,\n  searchTerm,\n}: Props) {\n  if (!(defined(timestamp) && defined(relativeTime))) {\n    return <div />;\n  }\n\n  const {date, time, displayTime} = getFormattedTimestamp(\n    timestamp,\n    relativeTime,\n    displayRelativeTime\n  );\n\n  return (\n    <Wrapper>\n      <Tooltip\n        title={\n          <div>\n            <div>{date}</div>\n            {time !== '\\u2014' && <div>{time}</div>}\n          </div>\n        }\n        containerDisplayMode=\"inline-flex\"\n        disableForVisualTest\n      >\n        {getDynamicText({\n          value: <Highlight text={searchTerm}>{displayTime}</Highlight>,\n          fixed: '00:00:00',\n        })}\n      </Tooltip>\n    </Wrapper>\n  );\n});\n\nexport default Time;\n\nconst Wrapper = styled('div')`\n  font-size: ${p => p.theme.fontSizeSmall};\n  color: ${p => p.theme.textColor};\n`;\n","import moment from 'moment';\n\nimport {t} from 'sentry/locale';\nimport {defined} from 'sentry/utils';\nimport {shouldUse24Hours} from 'sentry/utils/dates';\nimport {getDuration} from 'sentry/utils/formatters';\n\nconst timeFormat = 'HH:mm:ss';\nconst timeDateFormat = `ll ${timeFormat}`;\n\nconst getRelativeTime = (\n  parsedTime: ReturnType<typeof moment>,\n  parsedTimeToCompareWith: ReturnType<typeof moment>,\n  displayRelativeTime?: boolean\n) => {\n  // ll is necessary here, otherwise moment(x).from will throw an error\n  const formattedTime = moment(parsedTime.format(timeDateFormat));\n  const formattedTimeToCompareWith = parsedTimeToCompareWith.format(timeDateFormat);\n  const timeDiff = Math.abs(formattedTime.diff(formattedTimeToCompareWith));\n\n  const shortRelativeTime = getDuration(Math.round(timeDiff / 1000), 0, true).replace(\n    /\\s/g,\n    ''\n  );\n\n  if (timeDiff !== 0) {\n    return displayRelativeTime\n      ? `-${shortRelativeTime}`\n      : t('%s before', shortRelativeTime);\n  }\n\n  return `\\xA0${shortRelativeTime}`;\n};\n\nconst getAbsoluteTimeFormat = (format: string) => {\n  if (shouldUse24Hours()) {\n    return format;\n  }\n  return `${format} A`;\n};\n\nconst getFormattedTimestamp = (\n  timestamp: string,\n  relativeTimestamp: string,\n  displayRelativeTime?: boolean\n) => {\n  const parsedTimestamp = moment(timestamp);\n  const date = parsedTimestamp.format('ll');\n\n  const displayMilliSeconds = defined(parsedTimestamp.milliseconds());\n\n  const relativeTime = getRelativeTime(\n    parsedTimestamp,\n    moment(relativeTimestamp),\n    displayRelativeTime\n  );\n\n  if (!displayRelativeTime) {\n    return {\n      date: `${date} ${parsedTimestamp.format(getAbsoluteTimeFormat('HH:mm'))}`,\n      time: relativeTime,\n      displayTime: parsedTimestamp.format(timeFormat),\n    };\n  }\n\n  return {\n    date,\n    time: parsedTimestamp.format(\n      getAbsoluteTimeFormat(displayMilliSeconds ? `${timeFormat}.SSS` : timeFormat)\n    ),\n    displayTime: relativeTime,\n  };\n};\n\nexport {getFormattedTimestamp};\n","import {\n  IconFire,\n  IconFix,\n  IconInfo,\n  IconLocation,\n  IconMobile,\n  IconRefresh,\n  IconSort,\n  IconSpan,\n  IconStack,\n  IconTerminal,\n  IconUser,\n  IconWarning,\n} from 'sentry/icons';\nimport {BreadcrumbType} from 'sentry/types/breadcrumbs';\n\ntype Props = {\n  type: BreadcrumbType;\n};\n\nfunction Icon({type}: Props) {\n  switch (type) {\n    case BreadcrumbType.USER:\n    case BreadcrumbType.UI:\n      return <IconUser size=\"xs\" />;\n    case BreadcrumbType.NAVIGATION:\n      return <IconLocation size=\"xs\" />;\n    case BreadcrumbType.DEBUG:\n      return <IconFix size=\"xs\" />;\n    case BreadcrumbType.INFO:\n      return <IconInfo size=\"xs\" />;\n    case BreadcrumbType.ERROR:\n      return <IconFire size=\"xs\" />;\n    case BreadcrumbType.HTTP:\n      return <IconSort size=\"xs\" rotated />;\n    case BreadcrumbType.WARNING:\n      return <IconWarning size=\"xs\" />;\n    case BreadcrumbType.QUERY:\n      return <IconStack size=\"xs\" />;\n    case BreadcrumbType.SYSTEM:\n      return <IconMobile size=\"xs\" />;\n    case BreadcrumbType.SESSION:\n      return <IconRefresh size=\"xs\" />;\n    case BreadcrumbType.TRANSACTION:\n      return <IconSpan size=\"xs\" />;\n    default:\n      return <IconTerminal size=\"xs\" />;\n  }\n}\n\nexport default Icon;\n","import styled from '@emotion/styled';\n\nimport Tooltip from 'sentry/components/tooltip';\nimport {SVGIconProps} from 'sentry/icons/svgIcon';\n\nimport Icon from './icon';\n\ntype Props = Required<Pick<SVGIconProps, 'color'>> &\n  React.ComponentProps<typeof Icon> & {\n    description?: string;\n    error?: boolean;\n  };\n\nfunction Type({type, color, description, error}: Props) {\n  return (\n    <Wrapper error={error}>\n      <Tooltip\n        title={description}\n        disabled={!description}\n        skipWrapper\n        disableForVisualTest\n      >\n        <IconWrapper color={color}>\n          <Icon type={type} />\n        </IconWrapper>\n      </Tooltip>\n    </Wrapper>\n  );\n}\n\nexport default Type;\n\nconst Wrapper = styled('div')<Pick<Props, 'error'>>`\n  display: flex;\n  justify-content: center;\n  position: relative;\n  :before {\n    content: '';\n    display: block;\n    width: 1px;\n    top: 0;\n    bottom: 0;\n    left: 50%;\n    transform: translate(-50%);\n    position: absolute;\n    background: ${p => (p.error ? p.theme.red300 : p.theme.innerBorder)};\n  }\n`;\n\nconst IconWrapper = styled('div')<Pick<Props, 'color'>>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  color: ${p => p.theme.white};\n  background: ${p => p.theme[p.color] ?? p.color};\n  box-shadow: ${p => p.theme.dropShadowLightest};\n  position: relative;\n`;\n","import {useEffect, useRef, useState} from 'react';\nimport {\n  AutoSizer,\n  CellMeasurer,\n  CellMeasurerCache,\n  List,\n  ListRowProps,\n} from 'react-virtualized';\nimport styled from '@emotion/styled';\n\nimport {PanelTable} from 'sentry/components/panels';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconSort} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {EntryType} from 'sentry/types';\nimport {Crumb} from 'sentry/types/breadcrumbs';\n\nimport {Breadcrumb} from './breadcrumb';\n\nconst PANEL_MAX_HEIGHT = 400;\n\nconst cache = new CellMeasurerCache({\n  fixedWidth: true,\n  minHeight: 42,\n});\n\ntype Props = Pick<\n  React.ComponentProps<typeof Breadcrumb>,\n  | 'event'\n  | 'organization'\n  | 'searchTerm'\n  | 'relativeTime'\n  | 'displayRelativeTime'\n  | 'router'\n  | 'route'\n> & {\n  breadcrumbs: Crumb[];\n  emptyMessage: Pick<\n    React.ComponentProps<typeof PanelTable>,\n    'emptyMessage' | 'emptyAction'\n  >;\n  onSwitchTimeFormat: () => void;\n};\n\nfunction Breadcrumbs({\n  breadcrumbs,\n  displayRelativeTime,\n  onSwitchTimeFormat,\n  organization,\n  searchTerm,\n  event,\n  relativeTime,\n  emptyMessage,\n  route,\n  router,\n}: Props) {\n  const [scrollToIndex, setScrollToIndex] = useState<number | undefined>(undefined);\n  const [scrollbarSize, setScrollbarSize] = useState(0);\n  const entryIndex = event.entries.findIndex(\n    entry => entry.type === EntryType.BREADCRUMBS\n  );\n\n  let listRef: List | null = null;\n  const contentRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    updateGrid();\n  }, []);\n\n  useEffect(() => {\n    if (!!breadcrumbs.length && !scrollToIndex) {\n      setScrollToIndex(breadcrumbs.length - 1);\n      return;\n    }\n\n    updateGrid();\n  }, [breadcrumbs]);\n\n  useEffect(() => {\n    if (scrollToIndex !== undefined) {\n      updateGrid();\n    }\n  }, [scrollToIndex]);\n\n  function updateGrid() {\n    if (listRef) {\n      cache.clearAll();\n      listRef.forceUpdateGrid();\n    }\n  }\n\n  function renderRow({index, key, parent, style}: ListRowProps) {\n    const breadcrumb = breadcrumbs[index];\n    const isLastItem = breadcrumbs[breadcrumbs.length - 1].id === breadcrumb.id;\n    const {height} = style;\n    return (\n      <CellMeasurer\n        cache={cache}\n        columnIndex={0}\n        key={key}\n        parent={parent}\n        rowIndex={index}\n      >\n        {({measure}) => (\n          <Breadcrumb\n            data-test-id={isLastItem ? 'last-crumb' : 'crumb'}\n            style={style}\n            onLoad={measure}\n            organization={organization}\n            searchTerm={searchTerm}\n            breadcrumb={breadcrumb}\n            meta={event._meta?.entries?.[entryIndex]?.data?.values?.[index]}\n            event={event}\n            relativeTime={relativeTime}\n            displayRelativeTime={displayRelativeTime}\n            height={height ? String(height) : undefined}\n            scrollbarSize={\n              (contentRef?.current?.offsetHeight ?? 0) < PANEL_MAX_HEIGHT\n                ? scrollbarSize\n                : 0\n            }\n            router={router}\n            route={route}\n          />\n        )}\n      </CellMeasurer>\n    );\n  }\n\n  return (\n    <StyledPanelTable\n      scrollbarSize={scrollbarSize}\n      headers={[\n        t('Type'),\n        t('Category'),\n        t('Description'),\n        t('Level'),\n        <Time key=\"time\" onClick={onSwitchTimeFormat}>\n          <Tooltip\n            containerDisplayMode=\"inline-flex\"\n            title={\n              displayRelativeTime ? t('Switch to absolute') : t('Switch to relative')\n            }\n          >\n            <StyledIconSort size=\"xs\" rotated />\n          </Tooltip>\n\n          {t('Time')}\n        </Time>,\n        '',\n      ]}\n      isEmpty={!breadcrumbs.length}\n      {...emptyMessage}\n    >\n      <Content ref={contentRef}>\n        <AutoSizer disableHeight onResize={updateGrid}>\n          {({width}) => (\n            <StyledList\n              ref={(el: List | null) => {\n                listRef = el;\n              }}\n              deferredMeasurementCache={cache}\n              height={PANEL_MAX_HEIGHT}\n              overscanRowCount={5}\n              rowCount={breadcrumbs.length}\n              rowHeight={cache.rowHeight}\n              rowRenderer={renderRow}\n              width={width}\n              onScrollbarPresenceChange={({size}) => setScrollbarSize(size)}\n              // when the component mounts, it scrolls to the last item\n              scrollToIndex={scrollToIndex}\n              scrollToAlignment={scrollToIndex ? 'end' : undefined}\n            />\n          )}\n        </AutoSizer>\n      </Content>\n    </StyledPanelTable>\n  );\n}\n\nexport default Breadcrumbs;\n\nconst StyledPanelTable = styled(PanelTable)<{scrollbarSize: number}>`\n  display: grid;\n  grid-template-columns: 64px 140px 1fr 106px 100px ${p => `${p.scrollbarSize}px`};\n\n  > * {\n    :nth-child(-n + 6) {\n      border-bottom: 1px solid ${p => p.theme.border};\n      border-radius: 0;\n      /* This is to fix a small issue with the border not being fully visible on smaller devices */\n      margin-bottom: 1px;\n\n      /* Type */\n      :nth-child(6n-5) {\n        text-align: center;\n      }\n    }\n\n    /* Content */\n    :nth-child(n + 7) {\n      grid-column: 1/-1;\n      ${p =>\n        !p.isEmpty &&\n        `\n          padding: 0;\n        `}\n    }\n  }\n\n  @media (max-width: ${props => props.theme.breakpoints.small}) {\n    grid-template-columns: 48px 1fr 74px 82px ${p => `${p.scrollbarSize}px`};\n    > * {\n      :nth-child(-n + 6) {\n        /* Type, Category & Level */\n        :nth-child(6n-5),\n        :nth-child(6n-4),\n        :nth-child(6n-2) {\n          color: transparent;\n        }\n\n        /* Description & Scrollbar */\n        :nth-child(6n-3) {\n          display: none;\n        }\n      }\n    }\n  }\n\n  overflow: hidden;\n`;\n\nconst Time = styled('div')`\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  gap: ${space(1)};\n  cursor: pointer;\n`;\n\nconst StyledIconSort = styled(IconSort)`\n  transition: 0.15s color;\n  :hover {\n    color: ${p => p.theme.gray300};\n  }\n`;\n\nconst Content = styled('div')`\n  max-height: ${PANEL_MAX_HEIGHT}px;\n  overflow: hidden;\n`;\n\n// XXX(ts): Emotion11 has some trouble with List's defaultProps\n//\n// It gives the list have a dynamic height; otherwise, in the case of filtered\n// options, a list will be displayed with an empty space\nconst StyledList = styled(List as any)<React.ComponentProps<typeof List>>`\n  height: auto !important;\n  max-height: ${p => p.height}px;\n  outline: none;\n`;\n","import {useEffect, useState} from 'react';\nimport styled from '@emotion/styled';\nimport omit from 'lodash/omit';\nimport pick from 'lodash/pick';\n\nimport GuideAnchor from 'sentry/components/assistant/guideAnchor';\nimport Button from 'sentry/components/button';\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport {t} from 'sentry/locale';\nimport {Organization} from 'sentry/types';\nimport {BreadcrumbLevelType, Crumb, RawCrumb} from 'sentry/types/breadcrumbs';\nimport {EntryType, Event} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\nimport SearchBarAction from '../searchBarAction';\n\nimport Level from './breadcrumb/level';\nimport Type from './breadcrumb/type';\nimport Breadcrumbs from './breadcrumbs';\nimport {getVirtualCrumb, transformCrumbs} from './utils';\n\ntype FilterOptions = NonNullable<\n  React.ComponentProps<typeof SearchBarAction>['filterOptions']\n>;\n\ntype FilterOptionWithLevels = FilterOptions[0] & {levels?: BreadcrumbLevelType[]};\n\ntype Props = Pick<React.ComponentProps<typeof Breadcrumbs>, 'route' | 'router'> & {\n  data: {\n    values: Array<RawCrumb>;\n  };\n  event: Event;\n  organization: Organization;\n};\n\ntype State = {\n  breadcrumbs: Crumb[];\n  displayRelativeTime: boolean;\n  filterOptions: FilterOptions;\n  filterSelections: FilterOptions;\n  filteredByFilter: Crumb[];\n  filteredBySearch: Crumb[];\n  searchTerm: string;\n  relativeTime?: string;\n};\n\nfunction BreadcrumbsContainer({data, event, organization, route, router}: Props) {\n  const [state, setState] = useState<State>({\n    searchTerm: '',\n    breadcrumbs: [],\n    filteredByFilter: [],\n    filteredBySearch: [],\n    filterOptions: [],\n    filterSelections: [],\n    displayRelativeTime: false,\n  });\n\n  const {\n    filterOptions,\n    breadcrumbs,\n    searchTerm,\n    filteredBySearch,\n    displayRelativeTime,\n    relativeTime,\n    filteredByFilter,\n  } = state;\n\n  useEffect(() => {\n    loadBreadcrumbs();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  function loadBreadcrumbs() {\n    let crumbs = data.values;\n\n    // Add the (virtual) breadcrumb based on the error or message event if possible.\n    const virtualCrumb = getVirtualCrumb(event);\n\n    if (virtualCrumb) {\n      crumbs = [...crumbs, virtualCrumb];\n    }\n\n    const transformedCrumbs = transformCrumbs(crumbs);\n\n    setState({\n      ...state,\n      relativeTime: transformedCrumbs[transformedCrumbs.length - 1]?.timestamp,\n      breadcrumbs: transformedCrumbs,\n      filteredByFilter: transformedCrumbs,\n      filteredBySearch: transformedCrumbs,\n      filterOptions: getFilterOptions(transformedCrumbs),\n    });\n  }\n\n  function getFilterOptions(crumbs: ReturnType<typeof transformCrumbs>) {\n    const typeOptions = getFilterTypes(crumbs);\n    const levels = getFilterLevels(typeOptions);\n\n    const options: FilterOptions = [];\n\n    if (!!typeOptions.length) {\n      options.push({\n        value: 'types',\n        label: t('Types'),\n        options: typeOptions.map(typeOption => omit(typeOption, 'levels')),\n      });\n    }\n\n    if (!!levels.length) {\n      options.push({\n        value: 'levels',\n        label: t('Levels'),\n        options: levels,\n      });\n    }\n\n    return options;\n  }\n\n  function getFilterTypes(crumbs: ReturnType<typeof transformCrumbs>) {\n    const filterTypes: FilterOptionWithLevels[] = [];\n\n    for (const index in crumbs) {\n      const breadcrumb = crumbs[index];\n      const foundFilterType = filterTypes.findIndex(\n        f => f.value === `type-${breadcrumb.type}`\n      );\n\n      if (foundFilterType === -1) {\n        filterTypes.push({\n          value: `type-${breadcrumb.type}`,\n          leadingItems: <Type type={breadcrumb.type} color={breadcrumb.color} />,\n          label: breadcrumb.description,\n          levels: breadcrumb?.level ? [breadcrumb.level] : [],\n        });\n        continue;\n      }\n\n      if (\n        breadcrumb?.level &&\n        !filterTypes[foundFilterType].levels?.includes(breadcrumb.level)\n      ) {\n        filterTypes[foundFilterType].levels?.push(breadcrumb.level);\n      }\n    }\n\n    return filterTypes;\n  }\n\n  function getFilterLevels(types: FilterOptionWithLevels[]) {\n    const filterLevels: FilterOptions = [];\n\n    for (const indexType in types) {\n      for (const indexLevel in types[indexType].levels) {\n        const level = types[indexType].levels?.[indexLevel];\n\n        if (filterLevels.some(f => f.value === `level-${level}`)) {\n          continue;\n        }\n\n        filterLevels.push({\n          value: `level-${level}`,\n          label: (\n            <LevelWrap>\n              <Level level={level} />\n            </LevelWrap>\n          ),\n        });\n      }\n    }\n\n    return filterLevels;\n  }\n\n  function filterBySearch(newSearchTerm: string, crumbs: Crumb[]) {\n    if (!newSearchTerm.trim()) {\n      return crumbs;\n    }\n\n    // Slightly hacky, but it works\n    // the string is being `stringify`d here in order to match exactly the same `stringify`d string of the loop\n    const searchFor = JSON.stringify(newSearchTerm)\n      // it replaces double backslash generate by JSON.stringify with single backslash\n      .replace(/((^\")|(\"$))/g, '')\n      .toLocaleLowerCase();\n\n    return crumbs.filter(obj =>\n      Object.keys(\n        pick(obj, ['type', 'category', 'message', 'level', 'timestamp', 'data'])\n      ).some(key => {\n        const info = obj[key];\n\n        if (!defined(info) || !String(info).trim()) {\n          return false;\n        }\n\n        return JSON.stringify(info)\n          .replace(/((^\")|(\"$))/g, '')\n          .toLocaleLowerCase()\n          .trim()\n          .includes(searchFor);\n      })\n    );\n  }\n\n  function getFilteredCrumbsByFilter(selectedFilterOptions: FilterOptions) {\n    const checkedTypeOptions = new Set(\n      selectedFilterOptions\n        .filter(option => option.value.startsWith('type-'))\n        .map(option => option.value.split('-')[1])\n    );\n\n    const checkedLevelOptions = new Set(\n      selectedFilterOptions\n        .filter(option => option.value.startsWith('level-'))\n        .map(option => option.value.split('-')[1])\n    );\n\n    if (!![...checkedTypeOptions].length && !![...checkedLevelOptions].length) {\n      return breadcrumbs.filter(\n        filteredCrumb =>\n          checkedTypeOptions.has(filteredCrumb.type) &&\n          checkedLevelOptions.has(filteredCrumb.level)\n      );\n    }\n\n    if (!![...checkedTypeOptions].length) {\n      return breadcrumbs.filter(filteredCrumb =>\n        checkedTypeOptions.has(filteredCrumb.type)\n      );\n    }\n\n    if (!![...checkedLevelOptions].length) {\n      return breadcrumbs.filter(filteredCrumb =>\n        checkedLevelOptions.has(filteredCrumb.level)\n      );\n    }\n\n    return breadcrumbs;\n  }\n\n  function handleSearch(value: string) {\n    setState({\n      ...state,\n      searchTerm: value,\n      filteredBySearch: filterBySearch(value, filteredByFilter),\n    });\n  }\n\n  function handleFilter(newfilterOptions: FilterOptions) {\n    const newfilteredByFilter = getFilteredCrumbsByFilter(newfilterOptions);\n    setState({\n      ...state,\n      filterSelections: newfilterOptions,\n      filteredByFilter: newfilteredByFilter,\n      filteredBySearch: filterBySearch(searchTerm, newfilteredByFilter),\n    });\n  }\n\n  function handleSwitchTimeFormat() {\n    setState({\n      ...state,\n      displayRelativeTime: !displayRelativeTime,\n    });\n  }\n\n  function handleResetFilter() {\n    setState({\n      ...state,\n      filterSelections: [],\n      filteredByFilter: breadcrumbs,\n      filteredBySearch: filterBySearch(searchTerm, breadcrumbs),\n    });\n  }\n\n  function handleResetSearchBar() {\n    setState({\n      ...state,\n      searchTerm: '',\n      filteredBySearch: breadcrumbs,\n    });\n  }\n\n  function getEmptyMessage() {\n    if (!!filteredBySearch.length) {\n      return {};\n    }\n\n    if (searchTerm && !filteredBySearch.length) {\n      const hasActiveFilter = state.filterSelections.length > 0;\n\n      return {\n        emptyMessage: t('Sorry, no breadcrumbs match your search query'),\n        emptyAction: hasActiveFilter ? (\n          <Button onClick={handleResetFilter} priority=\"primary\">\n            {t('Reset filter')}\n          </Button>\n        ) : (\n          <Button onClick={handleResetSearchBar} priority=\"primary\">\n            {t('Clear search bar')}\n          </Button>\n        ),\n      };\n    }\n\n    return {\n      emptyMessage: t('There are no breadcrumbs to be displayed'),\n    };\n  }\n\n  return (\n    <EventDataSection\n      type={EntryType.BREADCRUMBS}\n      title={\n        <GuideAnchor target=\"breadcrumbs\" position=\"right\">\n          <h3>{t('Breadcrumbs')}</h3>\n        </GuideAnchor>\n      }\n      actions={\n        <StyledSearchBarAction\n          placeholder={t('Search breadcrumbs')}\n          onChange={handleSearch}\n          query={searchTerm}\n          filterOptions={filterOptions}\n          filterSelections={state.filterSelections}\n          onFilterChange={handleFilter}\n        />\n      }\n      wrapTitle={false}\n      isCentered\n    >\n      <ErrorBoundary>\n        <Breadcrumbs\n          router={router}\n          route={route}\n          emptyMessage={getEmptyMessage()}\n          breadcrumbs={filteredBySearch}\n          event={event}\n          organization={organization}\n          onSwitchTimeFormat={handleSwitchTimeFormat}\n          displayRelativeTime={displayRelativeTime}\n          searchTerm={searchTerm}\n          relativeTime={relativeTime!} // relativeTime has to be always available, as the last item timestamp is the event created time\n        />\n      </ErrorBoundary>\n    </EventDataSection>\n  );\n}\n\nexport default BreadcrumbsContainer;\n\nconst StyledSearchBarAction = styled(SearchBarAction)`\n  z-index: 2;\n`;\n\nconst LevelWrap = styled('span')`\n  height: ${p => p.theme.text.lineHeightBody}em;\n  display: flex;\n  align-items: center;\n`;\n","import {t} from 'sentry/locale';\nimport {\n  BreadcrumbLevelType,\n  BreadcrumbType,\n  Crumb,\n  RawCrumb,\n} from 'sentry/types/breadcrumbs';\nimport {EntryType, Event} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\nexport function convertCrumbType(breadcrumb: RawCrumb): RawCrumb {\n  if (breadcrumb.type === BreadcrumbType.EXCEPTION) {\n    return {\n      ...breadcrumb,\n      type: BreadcrumbType.ERROR,\n    };\n  }\n  // special case for 'ui.' and `sentry.` category breadcrumbs\n  // TODO: find a better way to customize UI around non-schema data\n  if (breadcrumb.type === BreadcrumbType.DEFAULT && defined(breadcrumb?.category)) {\n    const [category, subcategory] = breadcrumb.category.split('.');\n    if (category === 'ui') {\n      return {\n        ...breadcrumb,\n        type: BreadcrumbType.UI,\n      };\n    }\n\n    if (category === 'console') {\n      return {\n        ...breadcrumb,\n        type: BreadcrumbType.DEBUG,\n      };\n    }\n\n    if (category === 'navigation') {\n      return {\n        ...breadcrumb,\n        type: BreadcrumbType.NAVIGATION,\n      };\n    }\n\n    if (\n      category === 'sentry' &&\n      (subcategory === 'transaction' || subcategory === 'event')\n    ) {\n      return {\n        ...breadcrumb,\n        type: BreadcrumbType.TRANSACTION,\n      };\n    }\n  }\n\n  if (!Object.values(BreadcrumbType).includes(breadcrumb.type)) {\n    return {\n      ...breadcrumb,\n      type: BreadcrumbType.DEFAULT,\n    };\n  }\n\n  return breadcrumb;\n}\n\nfunction getCrumbDescriptionAndColor(\n  type: BreadcrumbType\n): Pick<Crumb, 'color' | 'description'> {\n  switch (type) {\n    case BreadcrumbType.USER:\n    case BreadcrumbType.UI:\n      return {\n        color: 'purple300',\n        description: t('User Action'),\n      };\n\n    case BreadcrumbType.NAVIGATION:\n      return {\n        color: 'green300',\n        description: t('Navigation'),\n      };\n\n    case BreadcrumbType.DEBUG:\n      return {\n        color: 'purple300',\n        description: t('Debug'),\n      };\n\n    case BreadcrumbType.INFO:\n      return {\n        color: 'blue300',\n        description: t('Info'),\n      };\n\n    case BreadcrumbType.ERROR:\n      return {\n        color: 'red300',\n        description: t('Error'),\n      };\n\n    case BreadcrumbType.HTTP:\n      return {\n        color: 'green300',\n        description: t('HTTP request'),\n      };\n\n    case BreadcrumbType.WARNING:\n      return {\n        color: 'yellow300',\n        description: t('Warning'),\n      };\n    case BreadcrumbType.QUERY:\n      return {\n        color: 'blue300',\n        description: t('Query'),\n      };\n    case BreadcrumbType.SYSTEM:\n      return {\n        color: 'pink300',\n        description: t('System'),\n      };\n    case BreadcrumbType.SESSION:\n      return {\n        color: 'pink300',\n        description: t('Session'),\n      };\n    case BreadcrumbType.TRANSACTION:\n      return {\n        color: 'pink300',\n        description: t('Transaction'),\n      };\n    default:\n      return {\n        color: 'gray300',\n        description: t('Default'),\n      };\n  }\n}\n\nexport function transformCrumbs(breadcrumbs: Array<RawCrumb>): Crumb[] {\n  return breadcrumbs.map((breadcrumb, index) => {\n    const convertedCrumbType = convertCrumbType(breadcrumb);\n    const {color, description} = getCrumbDescriptionAndColor(convertedCrumbType.type);\n    return {\n      ...convertedCrumbType,\n      id: index,\n      color,\n      description,\n      level: convertedCrumbType.level ?? BreadcrumbLevelType.UNDEFINED,\n    };\n  });\n}\n\nfunction moduleToCategory(module: string | null | undefined) {\n  if (!module) {\n    return undefined;\n  }\n  const match = module.match(/^.*\\/(.*?)(:\\d+)/);\n  if (!match) {\n    return module.split(/./)[0];\n  }\n  return match[1];\n}\n\nexport function getVirtualCrumb(event: Event): RawCrumb | undefined {\n  const exception = event.entries.find(entry => entry.type === EntryType.EXCEPTION);\n\n  if (!exception && !event.message) {\n    return undefined;\n  }\n\n  const timestamp = event.dateCreated;\n\n  if (exception) {\n    const {type, value, module: mdl} = exception.data.values[0];\n    return {\n      type: BreadcrumbType.ERROR,\n      level: BreadcrumbLevelType.ERROR,\n      category: moduleToCategory(mdl) || 'exception',\n      data: {\n        type,\n        value,\n      },\n      timestamp,\n    };\n  }\n\n  const levelTag = (event.tags || []).find(tag => tag.key === 'level');\n\n  return {\n    type: BreadcrumbType.INFO,\n    level: (levelTag?.value as BreadcrumbLevelType) || BreadcrumbLevelType.UNDEFINED,\n    category: 'message',\n    message: event.message,\n    timestamp,\n  };\n}\n","import styled from '@emotion/styled';\n\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport Tooltip from 'sentry/components/tooltip';\nimport {tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {ExceptionType} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {STACK_TYPE} from 'sentry/types/stacktrace';\nimport {defined} from 'sentry/utils';\n\nimport {Mechanism} from './mechanism';\nimport StackTrace from './stackTrace';\n\ntype StackTraceProps = React.ComponentProps<typeof StackTrace>;\n\ntype Props = {\n  event: Event;\n  platform: StackTraceProps['platform'];\n  type: STACK_TYPE;\n  meta?: Record<any, any>;\n  newestFirst?: boolean;\n  stackView?: StackTraceProps['stackView'];\n} & Pick<ExceptionType, 'values'> &\n  Pick<\n    React.ComponentProps<typeof StackTrace>,\n    'groupingCurrentLevel' | 'hasHierarchicalGrouping'\n  >;\n\nexport function Content({\n  newestFirst,\n  event,\n  stackView,\n  groupingCurrentLevel,\n  hasHierarchicalGrouping,\n  platform,\n  values,\n  type,\n  meta,\n}: Props) {\n  if (!values) {\n    return null;\n  }\n\n  const children = values.map((exc, excIdx) => {\n    return (\n      <div key={excIdx} className=\"exception\">\n        {defined(exc?.module) ? (\n          <Tooltip title={tct('from [exceptionModule]', {exceptionModule: exc?.module})}>\n            <Title>{exc.type}</Title>\n          </Tooltip>\n        ) : (\n          <Title>{exc.type}</Title>\n        )}\n        <StyledPre className=\"exc-message\">\n          {meta?.[excIdx]?.value?.[''] && !exc.value ? (\n            <AnnotatedText value={exc.value} meta={meta?.[excIdx]?.value?.['']} />\n          ) : (\n            exc.value\n          )}\n        </StyledPre>\n        {exc.mechanism && (\n          <Mechanism data={exc.mechanism} meta={meta?.[excIdx]?.mechanism} />\n        )}\n        <StackTrace\n          data={\n            type === STACK_TYPE.ORIGINAL\n              ? exc.stacktrace\n              : exc.rawStacktrace || exc.stacktrace\n          }\n          stackView={stackView}\n          stacktrace={exc.stacktrace}\n          expandFirstFrame={excIdx === values.length - 1}\n          platform={platform}\n          newestFirst={newestFirst}\n          event={event}\n          chainedException={values.length > 1}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n          groupingCurrentLevel={groupingCurrentLevel}\n          meta={meta?.[excIdx]?.stacktrace}\n        />\n      </div>\n    );\n  });\n\n  if (newestFirst) {\n    children.reverse();\n  }\n\n  return <div>{children}</div>;\n}\n\nconst StyledPre = styled('pre')`\n  margin-bottom: ${space(1)};\n  margin-top: 0;\n`;\n\nconst Title = styled('h5')`\n  margin-bottom: ${space(0.5)};\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n`;\n","import ErrorBoundary from 'sentry/components/errorBoundary';\nimport {ExceptionType, Group, PlatformType, Project} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {STACK_TYPE, STACK_VIEW} from 'sentry/types/stacktrace';\n\nimport {Content} from './content';\nimport RawContent from './rawContent';\n\ntype Props = {\n  event: Event;\n  hasHierarchicalGrouping: boolean;\n  newestFirst: boolean;\n  platform: PlatformType;\n  projectId: Project['id'];\n  stackType: STACK_TYPE;\n  groupingCurrentLevel?: Group['metadata']['current_level'];\n  meta?: Record<any, any>;\n  stackView?: STACK_VIEW;\n} & Pick<ExceptionType, 'values'>;\n\nfunction Exception({\n  stackView,\n  stackType,\n  projectId,\n  values,\n  event,\n  newestFirst,\n  hasHierarchicalGrouping,\n  groupingCurrentLevel,\n  platform = 'other',\n  meta,\n}: Props) {\n  return (\n    <ErrorBoundary mini>\n      {stackView === STACK_VIEW.RAW ? (\n        <RawContent\n          eventId={event.id}\n          projectId={projectId}\n          type={stackType}\n          values={values}\n          platform={platform}\n        />\n      ) : (\n        <Content\n          type={stackType}\n          stackView={stackView}\n          values={values}\n          platform={platform}\n          newestFirst={newestFirst}\n          event={event}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n          groupingCurrentLevel={groupingCurrentLevel}\n          meta={meta}\n        />\n      )}\n    </ErrorBoundary>\n  );\n}\n\nexport default Exception;\n","import {css} from '@emotion/react';\nimport styled from '@emotion/styled';\nimport forOwn from 'lodash/forOwn';\nimport isNil from 'lodash/isNil';\nimport isObject from 'lodash/isObject';\n\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport {Hovercard} from 'sentry/components/hovercard';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport Pill from 'sentry/components/pill';\nimport Pills from 'sentry/components/pills';\nimport {IconInfo, IconOpen} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {StackTraceMechanism} from 'sentry/types/stacktrace';\nimport {isUrl} from 'sentry/utils';\nimport {Theme} from 'sentry/utils/theme';\n\ntype Props = {\n  data: StackTraceMechanism;\n  meta?: Record<any, any>;\n};\n\nexport function Mechanism({data: mechanism, meta: mechanismMeta}: Props) {\n  const {type, description, help_link, handled, meta = {}, data = {}} = mechanism;\n  const {errno, signal, mach_exception} = meta;\n\n  const linkElement = help_link && isUrl(help_link) && (\n    <StyledExternalLink href={help_link}>\n      <IconOpen size=\"xs\" />\n    </StyledExternalLink>\n  );\n\n  const descriptionElement = description && (\n    <Hovercard\n      header={\n        <span>\n          <Details>{t('Details')}</Details> {linkElement}\n        </span>\n      }\n      body={description}\n    >\n      <StyledIconInfo size=\"14px\" />\n    </Hovercard>\n  );\n\n  const pills = [\n    <Pill key=\"mechanism\" name=\"mechanism\" value={type || 'unknown'}>\n      {descriptionElement || linkElement}\n    </Pill>,\n  ];\n\n  if (!isNil(handled)) {\n    pills.push(<Pill key=\"handled\" name=\"handled\" value={handled} />);\n  }\n\n  if (errno) {\n    const value = errno.name || errno.number;\n    pills.push(<Pill key=\"errno\" name=\"errno\" value={value} />);\n  }\n\n  if (mach_exception) {\n    const value = mach_exception.name || mach_exception.exception;\n    pills.push(<Pill key=\"mach\" name=\"mach exception\" value={value} />);\n  }\n\n  if (signal) {\n    const code = signal.code_name || `${t('code')} ${signal.code}`;\n    const name = signal.name || signal.number;\n    const value = isNil(signal.code) ? name : `${name} (${code})`;\n    pills.push(<Pill key=\"signal\" name=\"signal\" value={value} />);\n  }\n\n  forOwn(data, (value, key) => {\n    if (!isObject(value)) {\n      pills.push(\n        <Pill key={`data:${key}`} name={key}>\n          {mechanismMeta?.data?.[key]?.[''] && !value ? (\n            <AnnotatedText value={value} meta={mechanismMeta?.data?.[key]?.['']} />\n          ) : (\n            value\n          )}\n        </Pill>\n      );\n    }\n  });\n\n  return (\n    <Wrapper>\n      <StyledPills>{pills}</StyledPills>\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled('div')`\n  margin: ${space(2)} 0;\n`;\n\nconst iconStyle = (p: {theme: Theme}) => css`\n  transition: 0.1s linear color;\n  color: ${p.theme.gray300};\n  :hover {\n    color: ${p.theme.gray500};\n  }\n`;\n\nconst StyledExternalLink = styled(ExternalLink)`\n  display: inline-flex !important;\n  ${iconStyle};\n`;\n\nconst Details = styled('span')`\n  margin-right: ${space(1)};\n`;\n\nconst StyledPills = styled(Pills)`\n  span:nth-of-type(2) {\n    display: inline;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n\nconst StyledIconInfo = styled(IconInfo)`\n  display: flex;\n  ${iconStyle};\n`;\n","import {Component, Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport {Client} from 'sentry/api';\nimport Button from 'sentry/components/button';\nimport ClippedBox from 'sentry/components/clippedBox';\nimport LoadingError from 'sentry/components/loadingError';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {t} from 'sentry/locale';\nimport {ExceptionType, Organization, PlatformType, Project} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport withApi from 'sentry/utils/withApi';\nimport withOrganization from 'sentry/utils/withOrganization';\n\nimport rawStacktraceContent from '../stackTrace/rawContent';\n\ntype Props = {\n  api: Client;\n  eventId: Event['id'];\n  platform: PlatformType;\n  projectId: Project['id'];\n  type: 'original' | 'minified';\n  // XXX: Organization is NOT available for Shared Issues!\n  organization?: Organization;\n} & Pick<ExceptionType, 'values'>;\n\ntype State = {\n  crashReport: string;\n  error: boolean;\n  loading: boolean;\n};\n\nclass RawContent extends Component<Props, State> {\n  state: State = {\n    loading: false,\n    error: false,\n    crashReport: '',\n  };\n\n  componentDidMount() {\n    if (this.isNative()) {\n      this.fetchAppleCrashReport();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.isNative() && this.props.type !== prevProps.type) {\n      this.fetchAppleCrashReport();\n    }\n  }\n\n  isNative() {\n    const {platform} = this.props;\n    return platform === 'cocoa' || platform === 'native';\n  }\n\n  getAppleCrashReportEndpoint(organization: Organization) {\n    const {type, projectId, eventId} = this.props;\n\n    const minified = type === 'minified';\n    return `/projects/${organization.slug}/${projectId}/events/${eventId}/apple-crash-report?minified=${minified}`;\n  }\n\n  getContent(isNative: boolean, exc: any) {\n    const {type} = this.props;\n\n    const output = {\n      downloadButton: null,\n      content: exc.stacktrace\n        ? rawStacktraceContent(\n            type === 'original' ? exc.stacktrace : exc.rawStacktrace,\n            this.props.platform,\n            exc\n          )\n        : null,\n    };\n\n    if (!isNative) {\n      return output;\n    }\n\n    const {loading, error, crashReport} = this.state;\n\n    if (loading) {\n      return {\n        ...output,\n        content: <LoadingIndicator />,\n      };\n    }\n\n    if (error) {\n      return {\n        ...output,\n        content: <LoadingError />,\n      };\n    }\n\n    if (!loading && !!crashReport) {\n      const {api, organization} = this.props;\n      let downloadButton: React.ReactElement | null = null;\n\n      if (organization) {\n        const appleCrashReportEndpoint = this.getAppleCrashReportEndpoint(organization);\n\n        downloadButton = (\n          <DownloadBtnWrapper>\n            <Button\n              size=\"xs\"\n              href={`${api.baseUrl}${appleCrashReportEndpoint}&download=1`}\n            >\n              {t('Download')}\n            </Button>\n          </DownloadBtnWrapper>\n        );\n      }\n\n      return {\n        downloadButton,\n        content: <ClippedBox clipHeight={250}>{crashReport}</ClippedBox>,\n      };\n    }\n\n    return output;\n  }\n\n  async fetchAppleCrashReport() {\n    const {api, organization} = this.props;\n\n    // Shared issues do not have access to organization\n    if (!organization) {\n      return;\n    }\n\n    this.setState({\n      loading: true,\n      error: false,\n      crashReport: '',\n    });\n\n    try {\n      const data = await api.requestPromise(\n        this.getAppleCrashReportEndpoint(organization)\n      );\n      this.setState({\n        error: false,\n        loading: false,\n        crashReport: data,\n      });\n    } catch {\n      this.setState({error: true, loading: false});\n    }\n  }\n\n  render() {\n    const {values, organization} = this.props;\n    const isNative = this.isNative();\n\n    if (!values) {\n      return null;\n    }\n\n    const hasNativeStackTraceV2 = !!organization?.features?.includes(\n      'native-stack-trace-v2'\n    );\n\n    return (\n      <Fragment>\n        {values.map((exc, excIdx) => {\n          const {downloadButton, content} = this.getContent(isNative, exc);\n          if (!downloadButton && !content) {\n            return null;\n          }\n          return (\n            <div key={excIdx} data-test-id=\"raw-stack-trace\">\n              {!hasNativeStackTraceV2 ? downloadButton : null}\n              <pre className=\"traceback plain\">{content}</pre>\n            </div>\n          );\n        })}\n      </Fragment>\n    );\n  }\n}\n\nexport default withApi(withOrganization(RawContent));\n\nconst DownloadBtnWrapper = styled('div')`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\n","import {useContext} from 'react';\n\nimport {Panel} from 'sentry/components/panels';\nimport {IconWarning} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {ExceptionValue, Group, PlatformType} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {STACK_VIEW} from 'sentry/types/stacktrace';\nimport {defined} from 'sentry/utils';\nimport {isNativePlatform} from 'sentry/utils/platform';\nimport {OrganizationContext} from 'sentry/views/organizationContext';\nimport EmptyMessage from 'sentry/views/settings/components/emptyMessage';\n\nimport StackTraceContent from '../stackTrace/content';\nimport StacktraceContentV2 from '../stackTrace/contentV2';\nimport StacktraceContentV3 from '../stackTrace/contentV3';\n\ntype Props = {\n  chainedException: boolean;\n  data: ExceptionValue['stacktrace'];\n  event: Event;\n  hasHierarchicalGrouping: boolean;\n  platform: PlatformType;\n  stacktrace: ExceptionValue['stacktrace'];\n  expandFirstFrame?: boolean;\n  groupingCurrentLevel?: Group['metadata']['current_level'];\n  meta?: Record<any, any>;\n  newestFirst?: boolean;\n  stackView?: STACK_VIEW;\n};\n\nfunction StackTrace({\n  stackView,\n  stacktrace,\n  chainedException,\n  platform,\n  newestFirst,\n  groupingCurrentLevel,\n  hasHierarchicalGrouping,\n  data,\n  expandFirstFrame,\n  event,\n  meta,\n}: Props) {\n  // Organization context may be unavailable for the shared event view, so we\n  // avoid using the `useOrganization` hook here and directly useContext\n  // instead.\n  const organization = useContext(OrganizationContext);\n\n  if (!defined(stacktrace)) {\n    return null;\n  }\n\n  if (\n    stackView === STACK_VIEW.APP &&\n    (stacktrace.frames ?? []).filter(frame => frame.inApp).length === 0 &&\n    !chainedException\n  ) {\n    return (\n      <Panel dashedBorder>\n        <EmptyMessage\n          icon={<IconWarning size=\"xl\" />}\n          title={\n            hasHierarchicalGrouping\n              ? t('No relevant stack trace has been found!')\n              : t('No app only stack trace has been found!')\n          }\n        />\n      </Panel>\n    );\n  }\n\n  if (!data) {\n    return null;\n  }\n\n  const includeSystemFrames =\n    stackView === STACK_VIEW.FULL ||\n    (chainedException && data.frames?.every(frame => !frame.inApp));\n\n  /**\n   * Armin, Markus:\n   * If all frames are in app, then no frame is in app.\n   * This normally does not matter for the UI but when chained exceptions\n   * are used this causes weird behavior where one exception appears to not have a stack trace.\n   *\n   * It is easier to fix the UI logic to show a non-empty stack trace for chained exceptions\n   */\n\n  if (\n    !!organization?.features?.includes('native-stack-trace-v2') &&\n    isNativePlatform(platform)\n  ) {\n    return (\n      <StacktraceContentV3\n        data={data}\n        expandFirstFrame={expandFirstFrame}\n        includeSystemFrames={includeSystemFrames}\n        groupingCurrentLevel={groupingCurrentLevel}\n        platform={platform}\n        newestFirst={newestFirst}\n        event={event}\n        meta={meta}\n      />\n    );\n  }\n\n  if (hasHierarchicalGrouping) {\n    return (\n      <StacktraceContentV2\n        data={data}\n        expandFirstFrame={expandFirstFrame}\n        includeSystemFrames={includeSystemFrames}\n        groupingCurrentLevel={groupingCurrentLevel}\n        platform={platform}\n        newestFirst={newestFirst}\n        event={event}\n        meta={meta}\n      />\n    );\n  }\n\n  return (\n    <StackTraceContent\n      data={data}\n      expandFirstFrame={expandFirstFrame}\n      includeSystemFrames={includeSystemFrames}\n      platform={platform}\n      newestFirst={newestFirst}\n      event={event}\n      meta={meta}\n    />\n  );\n}\n\nexport default StackTrace;\n","import {ExceptionType, ExceptionValue, PlatformType} from 'sentry/types';\n\nimport Exception from './exception';\nimport Stacktrace from './stackTrace';\n\ntype ExceptionProps = React.ComponentProps<typeof Exception>;\ntype Props = Pick<\n  ExceptionProps,\n  | 'stackType'\n  | 'stackView'\n  | 'projectId'\n  | 'event'\n  | 'newestFirst'\n  | 'groupingCurrentLevel'\n  | 'hasHierarchicalGrouping'\n> & {\n  exception?: ExceptionType;\n  stacktrace?: ExceptionValue['stacktrace'];\n};\n\nfunction CrashContent({\n  event,\n  stackView,\n  stackType,\n  newestFirst,\n  projectId,\n  groupingCurrentLevel,\n  hasHierarchicalGrouping,\n  exception,\n  stacktrace,\n}: Props) {\n  const platform = (event.platform ?? 'other') as PlatformType;\n\n  if (exception) {\n    return (\n      <Exception\n        stackType={stackType}\n        stackView={stackView}\n        projectId={projectId}\n        newestFirst={newestFirst}\n        event={event}\n        platform={platform}\n        values={exception.values}\n        groupingCurrentLevel={groupingCurrentLevel}\n        hasHierarchicalGrouping={hasHierarchicalGrouping}\n      />\n    );\n  }\n\n  if (stacktrace) {\n    return (\n      <Stacktrace\n        stacktrace={stacktrace}\n        stackView={stackView}\n        newestFirst={newestFirst}\n        event={event}\n        platform={platform}\n        groupingCurrentLevel={groupingCurrentLevel}\n        hasHierarchicalGrouping={hasHierarchicalGrouping}\n      />\n    );\n  }\n\n  return null;\n}\n\nexport default CrashContent;\n","import ErrorBoundary from 'sentry/components/errorBoundary';\nimport {PlatformType} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {STACK_VIEW, StacktraceType} from 'sentry/types/stacktrace';\nimport {isNativePlatform} from 'sentry/utils/platform';\n\nimport Content from './content';\nimport ContentV2 from './contentV2';\nimport ContentV3 from './contentV3';\nimport rawStacktraceContent from './rawContent';\n\ntype Props = Pick<React.ComponentProps<typeof ContentV2>, 'groupingCurrentLevel'> & {\n  event: Event;\n  hasHierarchicalGrouping: boolean;\n  newestFirst: boolean;\n  platform: PlatformType;\n  stacktrace: StacktraceType;\n  meta?: Record<any, any>;\n  nativeV2?: boolean;\n  stackView?: STACK_VIEW;\n};\n\nfunction StackTrace({\n  stackView,\n  stacktrace,\n  event,\n  newestFirst,\n  platform,\n  hasHierarchicalGrouping,\n  groupingCurrentLevel,\n  nativeV2,\n  meta,\n}: Props) {\n  if (stackView === STACK_VIEW.RAW) {\n    return (\n      <ErrorBoundary mini>\n        <pre className=\"traceback plain\">\n          {rawStacktraceContent(stacktrace, event.platform)}\n        </pre>\n      </ErrorBoundary>\n    );\n  }\n\n  if (nativeV2 && isNativePlatform(platform)) {\n    return (\n      <ErrorBoundary mini>\n        <ContentV3\n          data={stacktrace}\n          includeSystemFrames={stackView === STACK_VIEW.FULL}\n          platform={platform}\n          event={event}\n          newestFirst={newestFirst}\n          groupingCurrentLevel={groupingCurrentLevel}\n          meta={meta}\n        />\n      </ErrorBoundary>\n    );\n  }\n\n  if (hasHierarchicalGrouping) {\n    return (\n      <ErrorBoundary mini>\n        <ContentV2\n          data={stacktrace}\n          className=\"no-exception\"\n          includeSystemFrames={stackView === STACK_VIEW.FULL}\n          platform={platform}\n          event={event}\n          newestFirst={newestFirst}\n          groupingCurrentLevel={groupingCurrentLevel}\n          meta={meta}\n        />\n      </ErrorBoundary>\n    );\n  }\n\n  return (\n    <ErrorBoundary mini>\n      <Content\n        data={stacktrace}\n        className=\"no-exception\"\n        includeSystemFrames={stackView === STACK_VIEW.FULL}\n        platform={platform}\n        event={event}\n        newestFirst={newestFirst}\n        meta={meta}\n      />\n    </ErrorBoundary>\n  );\n}\n\nexport default StackTrace;\n","import {trimPackage} from 'sentry/components/events/interfaces/frame/utils';\nimport {ExceptionValue, Frame} from 'sentry/types';\nimport {StacktraceType} from 'sentry/types/stacktrace';\nimport {defined, trim} from 'sentry/utils';\n\nfunction getJavaScriptFrame(frame: Frame): string {\n  let result = '';\n  if (defined(frame.function)) {\n    result += '  at ' + frame.function + '(';\n  } else {\n    result += '  at ? (';\n  }\n  if (defined(frame.filename)) {\n    result += frame.filename;\n  } else if (defined(frame.module)) {\n    result += frame.module;\n  }\n  if (defined(frame.lineNo) && frame.lineNo >= 0) {\n    result += ':' + frame.lineNo;\n  }\n  if (defined(frame.colNo) && frame.colNo >= 0) {\n    result += ':' + frame.colNo;\n  }\n  result += ')';\n  return result;\n}\n\nfunction getRubyFrame(frame: Frame): string {\n  let result = '  from ';\n  if (defined(frame.filename)) {\n    result += frame.filename;\n  } else if (defined(frame.module)) {\n    result += '(' + frame.module + ')';\n  } else {\n    result += '?';\n  }\n  if (defined(frame.lineNo) && frame.lineNo >= 0) {\n    result += ':' + frame.lineNo;\n  }\n  if (defined(frame.colNo) && frame.colNo >= 0) {\n    result += ':' + frame.colNo;\n  }\n  if (defined(frame.function)) {\n    result += ':in `' + frame.function + \"'\";\n  }\n  return result;\n}\n\nexport function getPHPFrame(frame: Frame, idx: number): string {\n  const funcName = frame.function === 'null' ? '{main}' : frame.function;\n  return `#${idx} ${frame.filename || frame.module}(${frame.lineNo}): ${funcName}`;\n}\n\nexport function getPythonFrame(frame: Frame): string {\n  let result = '';\n  if (defined(frame.filename)) {\n    result += '  File \"' + frame.filename + '\"';\n  } else if (defined(frame.module)) {\n    result += '  Module \"' + frame.module + '\"';\n  } else {\n    result += '  ?';\n  }\n  if (defined(frame.lineNo) && frame.lineNo >= 0) {\n    result += ', line ' + frame.lineNo;\n  }\n  if (defined(frame.colNo) && frame.colNo >= 0) {\n    result += ', col ' + frame.colNo;\n  }\n  if (defined(frame.function)) {\n    result += ', in ' + frame.function;\n  }\n  if (defined(frame.context)) {\n    frame.context.forEach(item => {\n      if (item[0] === frame.lineNo) {\n        result += '\\n    ' + trim(item[1]);\n      }\n    });\n  }\n  return result;\n}\n\nexport function getJavaFrame(frame: Frame): string {\n  let result = '    at';\n  if (defined(frame.module)) {\n    result += ' ' + frame.module + '.';\n  }\n  if (defined(frame.function)) {\n    result += frame.function;\n  }\n  if (defined(frame.filename)) {\n    result += '(' + frame.filename;\n    if (defined(frame.lineNo) && frame.lineNo >= 0) {\n      result += ':' + frame.lineNo;\n    }\n    result += ')';\n  }\n  return result;\n}\n\nfunction ljust(str: string, len: number) {\n  return str + Array(Math.max(0, len - str.length) + 1).join(' ');\n}\n\nexport function getNativeFrame(frame: Frame): string {\n  let result = '  ';\n  if (defined(frame.package)) {\n    result += ljust(trimPackage(frame.package), 20);\n  }\n  if (defined(frame.instructionAddr)) {\n    result += ljust(frame.instructionAddr, 12);\n  }\n  result += ' ' + (frame.function || frame.symbolAddr);\n  if (defined(frame.filename)) {\n    result += ' (' + frame.filename;\n    if (defined(frame.lineNo) && frame.lineNo >= 0) {\n      result += ':' + frame.lineNo;\n    }\n    result += ')';\n  }\n  return result;\n}\n\nexport function getJavaPreamble(exception: ExceptionValue): string {\n  let result = `${exception.type}: ${exception.value}`;\n  if (exception.module) {\n    result = `${exception.module}.${result}`;\n  }\n  return result;\n}\n\nfunction getPreamble(exception: ExceptionValue, platform: string | undefined): string {\n  switch (platform) {\n    case 'java':\n      return getJavaPreamble(exception);\n    default:\n      return exception.type + ': ' + exception.value;\n  }\n}\n\nfunction getFrame(frame: Frame, frameIdx: number, platform: string | undefined): string {\n  if (frame.platform) {\n    platform = frame.platform;\n  }\n  switch (platform) {\n    case 'javascript':\n      return getJavaScriptFrame(frame);\n    case 'ruby':\n      return getRubyFrame(frame);\n    case 'php':\n      return getPHPFrame(frame, frameIdx);\n    case 'python':\n      return getPythonFrame(frame);\n    case 'java':\n      return getJavaFrame(frame);\n    case 'objc':\n    // fallthrough\n    case 'cocoa':\n    // fallthrough\n    case 'native':\n      return getNativeFrame(frame);\n    default:\n      return getPythonFrame(frame);\n  }\n}\n\nexport default function render(\n  data: StacktraceType,\n  platform?: string,\n  exception?: ExceptionValue\n) {\n  const frames: string[] = [];\n\n  (data?.frames ?? []).forEach((frame, frameIdx) => {\n    frames.push(getFrame(frame, frameIdx, platform));\n  });\n\n  if (platform !== 'python') {\n    frames.reverse();\n  }\n\n  if (exception) {\n    frames.unshift(getPreamble(exception, platform));\n  }\n\n  return frames.join('\\n');\n}\n","import styled from '@emotion/styled';\n\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {\n  ExceptionType,\n  ExceptionValue,\n  STACK_TYPE,\n  STACK_VIEW,\n  Thread,\n} from 'sentry/types';\n\ntype NotifyOptions = {\n  stackType?: STACK_TYPE;\n  stackView?: STACK_VIEW;\n};\n\ntype Props = {\n  hasHierarchicalGrouping: boolean;\n  exception?: ExceptionType;\n  onChange?: (notifyOptions: NotifyOptions) => void;\n  platform?: string;\n  stackType?: STACK_TYPE;\n  stackView?: STACK_VIEW;\n  stacktrace?: ExceptionValue['stacktrace'];\n  thread?: Thread;\n};\n\nconst CrashActions = ({\n  hasHierarchicalGrouping,\n  stackView,\n  stackType,\n  stacktrace,\n  thread,\n  exception,\n  platform,\n  onChange,\n}: Props) => {\n  const hasSystemFrames: boolean =\n    stacktrace?.hasSystemFrames ||\n    !!exception?.values?.find(value => !!value.stacktrace?.hasSystemFrames);\n\n  const hasMinified = !stackType\n    ? false\n    : !!exception?.values?.find(value => value.rawStacktrace) || !!thread?.rawStacktrace;\n\n  const notify = (options: NotifyOptions) => {\n    if (onChange) {\n      onChange(options);\n    }\n  };\n\n  const setStackType = (type: STACK_TYPE) => () => {\n    notify({stackType: type});\n  };\n\n  const setStackView = (view: STACK_VIEW) => () => {\n    notify({stackView: view});\n  };\n\n  const getOriginalButtonLabel = () => {\n    if (platform === 'javascript' || platform === 'node') {\n      return t('Original');\n    }\n\n    return t('Symbolicated');\n  };\n\n  const getMinifiedButtonLabel = () => {\n    if (platform === 'javascript' || platform === 'node') {\n      return t('Minified');\n    }\n    return t('Unsymbolicated');\n  };\n\n  return (\n    <ButtonGroupWrapper>\n      <ButtonBar active={stackView} merged>\n        {hasSystemFrames && (\n          <Button\n            barId={STACK_VIEW.APP}\n            size=\"xs\"\n            onClick={setStackView(STACK_VIEW.APP)}\n            title={\n              hasHierarchicalGrouping\n                ? t(\n                    'The stack trace only shows application frames and frames responsible for grouping this issue'\n                  )\n                : undefined\n            }\n          >\n            {hasHierarchicalGrouping ? t('Most Relevant') : t('App Only')}\n          </Button>\n        )}\n        <Button barId={STACK_VIEW.FULL} size=\"xs\" onClick={setStackView(STACK_VIEW.FULL)}>\n          {t('Full')}\n        </Button>\n        <Button barId={STACK_VIEW.RAW} onClick={setStackView(STACK_VIEW.RAW)} size=\"xs\">\n          {t('Raw')}\n        </Button>\n      </ButtonBar>\n      {hasMinified && (\n        <ButtonBar active={stackType} merged>\n          <Button\n            barId={STACK_TYPE.ORIGINAL}\n            size=\"xs\"\n            onClick={setStackType(STACK_TYPE.ORIGINAL)}\n          >\n            {getOriginalButtonLabel()}\n          </Button>\n          <Button\n            barId={STACK_TYPE.MINIFIED}\n            size=\"xs\"\n            onClick={setStackType(STACK_TYPE.MINIFIED)}\n          >\n            {getMinifiedButtonLabel()}\n          </Button>\n        </ButtonBar>\n      )}\n    </ButtonGroupWrapper>\n  );\n};\n\nexport default CrashActions;\n\nconst ButtonGroupWrapper = styled('div')`\n  display: flex;\n  flex-wrap: wrap;\n  > * {\n    padding: ${space(0.5)} 0;\n  }\n  > *:not(:last-child) {\n    margin-right: ${space(1)};\n  }\n`;\n","import styled from '@emotion/styled';\n\nimport GuideAnchor from 'sentry/components/assistant/guideAnchor';\nimport Tooltip from 'sentry/components/tooltip';\nimport {t} from 'sentry/locale';\n\ntype Props = {\n  newestFirst: boolean;\n  title: string;\n  beforeTitle?: React.ReactNode;\n  hideGuide?: boolean;\n  onChange?: ({newestFirst}: {newestFirst: boolean}) => void;\n};\n\nconst CrashTitle = ({\n  title,\n  newestFirst,\n  beforeTitle,\n  hideGuide = false,\n  onChange,\n}: Props) => {\n  const handleToggleOrder = () => {\n    if (onChange) {\n      onChange({newestFirst: !newestFirst});\n    }\n  };\n\n  return (\n    <Wrapper>\n      {beforeTitle}\n      <StyledH3>\n        <GuideAnchor target=\"exception\" disabled={hideGuide} position=\"bottom\">\n          {title}\n        </GuideAnchor>\n        {onChange && (\n          <Tooltip showUnderline title={t('Toggle stack trace order')}>\n            <small>\n              (\n              <span onClick={handleToggleOrder}>\n                {newestFirst ? t('most recent call first') : t('most recent call last')}\n              </span>\n              )\n            </small>\n          </Tooltip>\n        )}\n      </StyledH3>\n    </Wrapper>\n  );\n};\n\nexport default CrashTitle;\n\nconst Wrapper = styled('div')`\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  flex-grow: 1;\n  justify-content: flex-start;\n`;\n\nconst StyledH3 = styled('h3')`\n  margin-bottom: 0;\n  max-width: 100%;\n  white-space: nowrap;\n`;\n","import {t} from 'sentry/locale';\n\nconst effectiveDirectives = {\n  'base-uri': t(\n    `The <code>base-uri</code> directive defines the URIs that a user agent\n  may use as the document base URL. If this value is absent, then any URI\n  is allowed. If this directive is absent, the user agent will use the\n  value in the <code>&lt;base&gt;</code> element.`\n  ),\n  'child-src': t(\n    `The <code>child-src</code> directive defines the valid sources for\n  web workers and nested browsing contexts loaded using elements such as\n  <code>&lt;frame&gt;</code> and <code>&lt;iframe&gt;</code>.`\n  ),\n  'connect-src': t(\n    `The <code>connect-src</code> directive defines valid sources for fetch,\n  <code>XMLHttpRequest</code>, <code>WebSocket</code>, and\n  <code>EventSource</code> connections.`\n  ),\n  'font-src': t(\n    `The <code>font-src</code> directive specifies valid sources for fonts\n  loaded using <code>@font-face</code>.`\n  ),\n  'form-action': t(\n    `The <code>form-action</code> directive specifies valid endpoints for\n  <code>&lt;form&gt;</code> submissions.`\n  ),\n  'frame-ancestors': t(\n    `The <code>frame-ancestors</code> directive specifies valid parents that\n  may embed a page using the <code>&lt;frame&gt;</code> and\n  <code>&lt;iframe&gt;</code> elements.`\n  ),\n  'img-src': t(\n    `The <code>img-src</code> directive specifies valid sources of images and\n  favicons.`\n  ),\n  'prefetch-src': t(\n    `The <code>prefetch-src</code> directive restricts the URLs\n      from which resources may be prefetched or prerendered.`\n  ),\n  'manifest-src': t(\n    `The <code>manifest-src</code> directive specifies which manifest can be\n  applied to the resource.`\n  ),\n  'media-src': t(\n    `The <code>media-src</code> directive specifies valid sources for loading\n  media using the <code>&lt;audio&gt;</code> and <code>&lt;video&gt;</code>\n  elements.`\n  ),\n  'object-src': t(\n    `The <code>object-src</code> directive specifies valid sources for the\n  <code>&lt;object&gt;</code>, <code>&lt;embed&gt;</code>, and\n  <code>&lt;applet&gt;</code> elements.`\n  ),\n  'plugin-types': t(\n    `The <code>plugin-types</code> directive specifies the valid plugins that\n  the user agent may invoke.`\n  ),\n  referrer: t(\n    `The <code>referrer</code> directive specifies information in the\n  <code>Referer</code> header for links away from a page.`\n  ),\n  'script-src': t(\n    `The <code>script-src</code> directive specifies valid sources\n  for JavaScript. When either the <code>script-src</code> or the\n  <code>default-src</code> directive is included, inline script and\n  <code>eval()</code> are disabled unless you specify 'unsafe-inline'\n  and 'unsafe-eval', respectively.`\n  ),\n  'script-src-elem': t(\n    `The <code>script-src-elem</code> directive applies to all script requests\n      and element contents. It does not apply to scripts defined in attributes.`\n  ),\n  'script-src-attr': t(\n    `The <code>script-src-attr</code> directive applies to event handlers and, if present,\n      it will override the <code>script-src</code> directive for relevant checks.`\n  ),\n  'style-src': t(\n    `The <code>style-src</code> directive specifies valid sources for\n  stylesheets. This includes both externally-loaded stylesheets and inline\n  use of the <code>&lt;style&gt;</code> element and HTML style attributes.\n  Stylesheets from sources that aren't included in the source list are not\n  requested or loaded. When either the <code>style-src</code> or the\n  <code>default-src</code> directive is included, inline use of the\n  <code>&lt;style&gt;</code> element and HTML style attributes are disabled\n  unless you specify 'unsafe-inline'.`\n  ),\n  'style-src-elem': t(\n    `The <code>style-src-elem</code> directive applies to all styles except\n      those defined in inline attributes.`\n  ),\n  'style-src-attr': t(\n    `The <code>style-src-attr</code> directive applies to inline style attributes and, if present,\n      it will override the <code>style-src</code> directive for relevant checks.`\n  ),\n  'frame-src': t(\n    `The <code>frame-src</code> directive specifies valid sources for nested\n  browsing contexts loading using elements such as\n  <code>&lt;frame&gt;</code> and <code>&lt;iframe&gt;</code>.`\n  ),\n  'worker-src': t(\n    `The <code>worker-src</code> directive specifies valid sources for\n  <code>Worker<code>, <code>SharedWorker</code>, or\n  <code>ServiceWorker</code> scripts.`\n  ),\n};\n\nexport default effectiveDirectives;\n","import styled from '@emotion/styled';\n\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport {IconOpen} from 'sentry/icons';\nimport space from 'sentry/styles/space';\n\nimport effectiveDirectives from './effectiveDirectives';\n\ntype EffectiveDirective = keyof typeof effectiveDirectives;\n\nconst linkOverrides = {'script-src': 'script-src_2'};\n\nexport type HelpProps = {\n  data: {\n    effective_directive: EffectiveDirective;\n  };\n};\n\nconst CSPHelp = ({data: {effective_directive: key}}: HelpProps) => {\n  const getHelp = () => ({\n    __html: effectiveDirectives[key],\n  });\n\n  const getLinkHref = () => {\n    const baseLink =\n      'https://developer.mozilla.org/en-US/docs/Web/Security/CSP/CSP_policy_directives#';\n\n    if (key in linkOverrides) {\n      return `${baseLink}${linkOverrides[key]}`;\n    }\n\n    return `${baseLink}${key}`;\n  };\n\n  const getLink = () => {\n    const href = getLinkHref();\n\n    return (\n      <StyledExternalLink href={href}>\n        {'developer.mozilla.org'}\n        <IconOpen size=\"xs\" className=\"external-icon\" />\n      </StyledExternalLink>\n    );\n  };\n\n  return (\n    <div>\n      <h4>\n        <code>{key}</code>\n      </h4>\n      <blockquote dangerouslySetInnerHTML={getHelp()} />\n      <StyledP>\n        <span>{'\\u2014 MDN ('}</span>\n        <span>{getLink()}</span>\n        <span>{')'}</span>\n      </StyledP>\n    </div>\n  );\n};\n\nexport default CSPHelp;\n\nconst StyledP = styled('p')`\n  text-align: right;\n  display: grid;\n  grid-template-columns: repeat(3, max-content);\n  gap: ${space(0.25)};\n`;\n\nconst StyledExternalLink = styled(ExternalLink)`\n  display: inline-flex;\n  align-items: center;\n`;\n","import {useState} from 'react';\n\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport {t} from 'sentry/locale';\nimport {EntryType, Event} from 'sentry/types/event';\n\nimport Help, {HelpProps} from './help';\n\ntype View = 'report' | 'raw' | 'help';\n\nfunction getView(view: View, data: Record<any, any>, meta: Record<any, any>) {\n  switch (view) {\n    case 'report':\n      return (\n        <KeyValueList\n          data={Object.entries(data).map(([key, value]) => {\n            return {\n              key,\n              subject: key,\n              value,\n              meta: meta?.[key]?.[''],\n            };\n          })}\n          isContextData\n        />\n      );\n    case 'raw':\n      return <pre>{JSON.stringify({'csp-report': data}, null, 2)}</pre>;\n    case 'help':\n      return <Help data={data as HelpProps['data']} />;\n    default:\n      throw new TypeError(`Invalid view: ${view}`);\n  }\n}\n\ntype Props = {\n  data: Record<string, any>;\n  event: Event;\n};\n\nexport function Csp({data, event}: Props) {\n  const [view, setView] = useState<View>('report');\n\n  const entryIndex = event.entries.findIndex(entry => entry.type === EntryType.CSP);\n  const meta = event._meta?.entries?.[entryIndex]?.data;\n\n  const cleanData =\n    data.original_policy !== 'string'\n      ? data\n      : {\n          ...data,\n          // Hide the report-uri since this is redundant and silly\n          original_policy: data.original_policy.replace(/(;\\s+)?report-uri [^;]+/, ''),\n        };\n\n  const actions = (\n    <ButtonBar merged active={view}>\n      <Button barId=\"report\" size=\"xs\" onClick={() => setView('report')}>\n        {t('Report')}\n      </Button>\n      <Button barId=\"raw\" size=\"xs\" onClick={() => setView('raw')}>\n        {t('Raw')}\n      </Button>\n      <Button barId=\"help\" size=\"xs\" onClick={() => setView('help')}>\n        {t('Help')}\n      </Button>\n    </ButtonBar>\n  );\n\n  return (\n    <EventDataSection\n      type=\"csp\"\n      title={<h3>{t('CSP Report')}</h3>}\n      actions={actions}\n      wrapTitle={false}\n    >\n      {getView(view, cleanData, meta)}\n    </EventDataSection>\n  );\n}\n","import styled from '@emotion/styled';\n\nimport Button from 'sentry/components/button';\nimport NotAvailable from 'sentry/components/notAvailable';\nimport Tooltip from 'sentry/components/tooltip';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Image, ImageStatus} from 'sentry/types/debugImage';\n\nimport layout from '../layout';\nimport {getFileName, getImageAddress} from '../utils';\n\nimport Processings from './processings';\nimport Status from './status';\n\ntype Props = {\n  image: Image & {status: ImageStatus};\n  onOpenImageDetailsModal: (\n    code_id: Image['code_id'],\n    debug_id: Image['debug_id']\n  ) => void;\n  style?: React.CSSProperties;\n};\n\nfunction DebugImage({image, onOpenImageDetailsModal, style}: Props) {\n  const {unwind_status, debug_status, debug_file, debug_id, code_file, code_id, status} =\n    image;\n\n  const codeFilename = getFileName(code_file);\n  const debugFilename = getFileName(debug_file);\n  const imageAddress = getImageAddress(image);\n\n  return (\n    <Wrapper style={style}>\n      <StatusColumn>\n        <Status status={status} />\n      </StatusColumn>\n      <ImageColumn>\n        <div>\n          {codeFilename && (\n            <FileName>\n              <Tooltip title={code_file}>{codeFilename}</Tooltip>\n            </FileName>\n          )}\n          {codeFilename !== debugFilename && debugFilename && (\n            <CodeFilename>{`(${debugFilename})`}</CodeFilename>\n          )}\n        </div>\n        {imageAddress && <ImageAddress>{imageAddress}</ImageAddress>}\n      </ImageColumn>\n      <Column>\n        {unwind_status || debug_status ? (\n          <Processings unwind_status={unwind_status} debug_status={debug_status} />\n        ) : (\n          <NotAvailable />\n        )}\n      </Column>\n      <DebugFilesColumn>\n        <Button size=\"xs\" onClick={() => onOpenImageDetailsModal(code_id, debug_id)}>\n          {t('View')}\n        </Button>\n      </DebugFilesColumn>\n    </Wrapper>\n  );\n}\n\nexport default DebugImage;\n\nconst Wrapper = styled('div')`\n  :not(:last-child) {\n    > * {\n      border-bottom: 1px solid ${p => p.theme.border};\n    }\n  }\n  ${p => layout(p.theme)};\n`;\n\nconst Column = styled('div')`\n  padding: ${space(2)};\n  display: flex;\n  align-items: center;\n`;\n\nconst StatusColumn = styled(Column)`\n  max-width: 100%;\n  overflow: hidden;\n`;\n\nconst FileName = styled('span')`\n  color: ${p => p.theme.textColor};\n  font-family: ${p => p.theme.text.family};\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin-right: ${space(0.5)};\n  white-space: pre-wrap;\n  word-break: break-all;\n`;\n\nconst CodeFilename = styled('span')`\n  color: ${p => p.theme.subText};\n`;\n\nconst ImageColumn = styled(Column)`\n  font-family: ${p => p.theme.text.familyMono};\n  color: ${p => p.theme.gray300};\n  font-size: ${p => p.theme.fontSizeSmall};\n  overflow: hidden;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n`;\n\nconst ImageAddress = styled('div')`\n  white-space: pre-wrap;\n  word-break: break-word;\n`;\n\nconst DebugFilesColumn = styled(Column)`\n  justify-content: flex-end;\n`;\n","import * as Sentry from '@sentry/react';\n\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconCheckmark, IconInfo, IconWarning} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {ImageStatus} from 'sentry/types/debugImage';\n\ntype Props = {\n  status: ImageStatus;\n};\n\nfunction ProcessingIcon({status}: Props) {\n  switch (status) {\n    case ImageStatus.TIMEOUT:\n    case ImageStatus.FETCHING_FAILED: {\n      return (\n        <Tooltip\n          containerDisplayMode=\"inline-flex\"\n          title={t('The debug information file for this image could not be downloaded')}\n        >\n          <IconWarning color=\"yellow300\" size=\"xs\" />\n        </Tooltip>\n      );\n    }\n    case ImageStatus.MALFORMED: {\n      return (\n        <Tooltip\n          containerDisplayMode=\"inline-flex\"\n          title={t('The debug information file for this image failed to process')}\n        >\n          <IconWarning color=\"yellow300\" size=\"xs\" />\n        </Tooltip>\n      );\n    }\n    case ImageStatus.MISSING: {\n      return (\n        <Tooltip\n          containerDisplayMode=\"inline-flex\"\n          title={t('No debug information could be found in any of the specified sources')}\n        >\n          <IconWarning color=\"yellow300\" size=\"xs\" />\n        </Tooltip>\n      );\n    }\n    case ImageStatus.FOUND: {\n      return (\n        <Tooltip\n          containerDisplayMode=\"inline-flex\"\n          title={t(\n            'Debug information for this image was found and successfully processed'\n          )}\n        >\n          <IconCheckmark color=\"green300\" size=\"xs\" />\n        </Tooltip>\n      );\n    }\n    case ImageStatus.UNUSED: {\n      return (\n        <Tooltip\n          containerDisplayMode=\"inline-flex\"\n          title={t('The image was not required for processing the stack trace')}\n        >\n          <IconInfo color=\"gray200\" size=\"xs\" />\n        </Tooltip>\n      );\n    }\n    case ImageStatus.OTHER: {\n      return (\n        <Tooltip\n          containerDisplayMode=\"inline-flex\"\n          title={t('An internal error occurred while handling this image')}\n        >\n          <IconWarning color=\"yellow300\" size=\"xs\" />\n        </Tooltip>\n      );\n    }\n\n    default: {\n      Sentry.withScope(scope => {\n        scope.setLevel('warning');\n        Sentry.captureException(new Error('Unknown image ProcessingIcon status'));\n      });\n      return null; // This shall not happen\n    }\n  }\n}\n\nexport default ProcessingIcon;\n","import styled from '@emotion/styled';\n\nimport space from 'sentry/styles/space';\nimport {ImageStatus} from 'sentry/types/debugImage';\n\nimport ProcessingItem from '../processing/item';\nimport ProcessingList from '../processing/list';\n\nimport ProcessingIcon from './processingIcon';\n\ntype Props = {\n  debug_status?: ImageStatus | null;\n  unwind_status?: ImageStatus | null;\n};\n\nfunction Processings({unwind_status, debug_status}: Props) {\n  const items: React.ComponentProps<typeof ProcessingList>['items'] = [];\n\n  if (debug_status) {\n    items.push(\n      <StyledProcessingItem\n        key=\"symbolication\"\n        type=\"symbolication\"\n        icon={<ProcessingIcon status={debug_status} />}\n      />\n    );\n  }\n\n  if (unwind_status) {\n    items.push(\n      <StyledProcessingItem\n        key=\"stack_unwinding\"\n        type=\"stack_unwinding\"\n        icon={<ProcessingIcon status={unwind_status} />}\n      />\n    );\n  }\n\n  return <StyledProcessingList items={items} />;\n}\n\nexport default Processings;\n\nconst StyledProcessingList = styled(ProcessingList)`\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: -${space(1)};\n`;\n\nconst StyledProcessingItem = styled(ProcessingItem)`\n  :not(:last-child) {\n    padding-right: ${space(2)};\n  }\n  padding-bottom: ${space(1)};\n`;\n","import styled from '@emotion/styled';\nimport * as Sentry from '@sentry/react';\n\nimport Tag from 'sentry/components/tag';\nimport {t} from 'sentry/locale';\nimport {ImageStatus} from 'sentry/types/debugImage';\n\ntype Props = {\n  status: ImageStatus;\n};\n\nfunction Status({status}: Props) {\n  switch (status) {\n    case ImageStatus.OTHER:\n    case ImageStatus.FETCHING_FAILED:\n    case ImageStatus.MALFORMED:\n    case ImageStatus.TIMEOUT: {\n      return <StyledTag type=\"error\">{t('Error')}</StyledTag>;\n    }\n    case ImageStatus.MISSING: {\n      return <StyledTag type=\"error\">{t('Missing')}</StyledTag>;\n    }\n    case ImageStatus.FOUND: {\n      return <StyledTag type=\"success\">{t('Ok')}</StyledTag>;\n    }\n    case ImageStatus.UNUSED: {\n      return <StyledTag>{t('Unreferenced')}</StyledTag>;\n    }\n    default: {\n      Sentry.withScope(scope => {\n        scope.setLevel('warning');\n        Sentry.captureException(new Error('Unknown image status'));\n      });\n      return <StyledTag>{t('Unknown')}</StyledTag>; // This shall not happen\n    }\n  }\n}\n\nexport default Status;\n\nconst StyledTag = styled(Tag)`\n  &,\n  span div {\n    max-width: 100%;\n  }\n`;\n","import {createRef, Fragment, PureComponent} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {withRouter, WithRouterProps} from 'react-router';\nimport {\n  AutoSizer,\n  CellMeasurer,\n  CellMeasurerCache,\n  List,\n  ListRowProps,\n} from 'react-virtualized';\nimport styled from '@emotion/styled';\n\nimport {openModal, openReprocessEventModal} from 'sentry/actionCreators/modal';\nimport GuideAnchor from 'sentry/components/assistant/guideAnchor';\nimport Button from 'sentry/components/button';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport {getImageRange, parseAddress} from 'sentry/components/events/interfaces/utils';\nimport {PanelTable} from 'sentry/components/panels';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {t} from 'sentry/locale';\nimport DebugMetaStore, {DebugMetaActions} from 'sentry/stores/debugMetaStore';\nimport space from 'sentry/styles/space';\nimport {Group, Organization, Project} from 'sentry/types';\nimport {Image, ImageStatus} from 'sentry/types/debugImage';\nimport {Event} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\nimport SearchBarAction from '../searchBarAction';\n\nimport Status from './debugImage/status';\nimport DebugImage from './debugImage';\nimport layout from './layout';\nimport {\n  combineStatus,\n  getFileName,\n  IMAGE_AND_CANDIDATE_LIST_MAX_HEIGHT,\n  normalizeId,\n  shouldSkipSection,\n} from './utils';\n\nconst IMAGE_INFO_UNAVAILABLE = '-1';\n\ntype DefaultProps = {\n  data: {\n    images: Array<Image | null>;\n  };\n};\n\ntype FilterOptions = NonNullable<\n  React.ComponentProps<typeof SearchBarAction>['filterOptions']\n>;\n\ntype Images = Array<React.ComponentProps<typeof DebugImage>['image']>;\n\ntype Props = DefaultProps &\n  WithRouterProps & {\n    event: Event;\n    organization: Organization;\n    projectId: Project['id'];\n    groupId?: Group['id'];\n  };\n\ntype State = {\n  filterOptions: FilterOptions;\n  filterSelections: FilterOptions;\n  filteredImages: Images;\n  filteredImagesByFilter: Images;\n  filteredImagesBySearch: Images;\n  isOpen: boolean;\n  scrollbarWidth: number;\n  searchTerm: string;\n  panelTableHeight?: number;\n};\n\nconst cache = new CellMeasurerCache({\n  fixedWidth: true,\n  defaultHeight: 81,\n});\n\nclass DebugMeta extends PureComponent<Props, State> {\n  static defaultProps: DefaultProps = {\n    data: {images: []},\n  };\n\n  state: State = {\n    searchTerm: '',\n    scrollbarWidth: 0,\n    isOpen: false,\n    filterOptions: [],\n    filterSelections: [],\n    filteredImages: [],\n    filteredImagesByFilter: [],\n    filteredImagesBySearch: [],\n  };\n\n  componentDidMount() {\n    this.unsubscribeFromDebugMetaStore = DebugMetaStore.listen(\n      this.onDebugMetaStoreChange,\n      undefined\n    );\n\n    cache.clearAll();\n    this.getRelevantImages();\n    this.openImageDetailsModal();\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    if (\n      this.state.isOpen ||\n      (prevState.filteredImages.length === 0 && this.state.filteredImages.length > 0)\n    ) {\n      this.getPanelBodyHeight();\n    }\n\n    this.openImageDetailsModal();\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribeFromDebugMetaStore) {\n      this.unsubscribeFromDebugMetaStore();\n    }\n  }\n\n  unsubscribeFromDebugMetaStore: any;\n\n  panelTableRef = createRef<HTMLDivElement>();\n  listRef: List | null = null;\n\n  onDebugMetaStoreChange = (store: {filter: string}) => {\n    const {searchTerm} = this.state;\n\n    if (store.filter !== searchTerm) {\n      this.setState({searchTerm: store.filter}, this.filterImagesBySearchTerm);\n    }\n  };\n\n  getScrollbarWidth() {\n    const panelTableWidth = this.panelTableRef?.current?.clientWidth ?? 0;\n\n    const gridInnerWidth =\n      this.panelTableRef?.current?.querySelector(\n        '.ReactVirtualized__Grid__innerScrollContainer'\n      )?.clientWidth ?? 0;\n\n    const scrollbarWidth = panelTableWidth - gridInnerWidth;\n\n    if (scrollbarWidth !== this.state.scrollbarWidth) {\n      this.setState({scrollbarWidth});\n    }\n  }\n\n  updateGrid = () => {\n    if (this.listRef) {\n      cache.clearAll();\n      this.listRef.forceUpdateGrid();\n      this.getScrollbarWidth();\n    }\n  };\n\n  isValidImage(image: Image | null) {\n    // in particular proguard images do not have a code file, skip them\n    if (image === null || image.code_file === null || image.type === 'proguard') {\n      return false;\n    }\n\n    if (getFileName(image.code_file) === 'dyld_sim') {\n      // this is only for simulator builds\n      return false;\n    }\n\n    return true;\n  }\n\n  filterImage(image: Image, searchTerm: string) {\n    // When searching for an address, check for the address range of the image\n    // instead of an exact match.  Note that images cannot be found by index\n    // if they are at 0x0.  For those relative addressing has to be used.\n    if (searchTerm.indexOf('0x') === 0) {\n      const needle = parseAddress(searchTerm);\n      if (needle > 0 && image.image_addr !== '0x0') {\n        const [startAddress, endAddress] = getImageRange(image as any); // TODO(PRISCILA): remove any\n        return needle >= startAddress && needle < endAddress;\n      }\n    }\n\n    // the searchTerm ending at \"!\" is the end of the ID search.\n    const relMatch = searchTerm.match(/^\\s*(.*?)!/); // debug_id!address\n    const idSearchTerm = normalizeId(relMatch?.[1] || searchTerm);\n\n    return (\n      // Prefix match for identifiers\n      normalizeId(image.code_id).indexOf(idSearchTerm) === 0 ||\n      normalizeId(image.debug_id).indexOf(idSearchTerm) === 0 ||\n      // Any match for file paths\n      (image.code_file?.toLowerCase() || '').indexOf(searchTerm) >= 0 ||\n      (image.debug_file?.toLowerCase() || '').indexOf(searchTerm) >= 0\n    );\n  }\n\n  filterImagesBySearchTerm() {\n    const {filteredImages, filterSelections, searchTerm} = this.state;\n    const filteredImagesBySearch = filteredImages.filter(image =>\n      this.filterImage(image, searchTerm.toLowerCase())\n    );\n\n    const filteredImagesByFilter = this.getFilteredImagesByFilter(\n      filteredImagesBySearch,\n      filterSelections\n    );\n\n    this.setState(\n      {\n        filteredImagesBySearch,\n        filteredImagesByFilter,\n      },\n      this.updateGrid\n    );\n  }\n\n  openImageDetailsModal = async () => {\n    const {filteredImages} = this.state;\n\n    if (!filteredImages.length) {\n      return;\n    }\n\n    const {location, organization, projectId: projSlug, groupId, event} = this.props;\n    const {query} = location;\n\n    const {imageCodeId, imageDebugId} = query;\n\n    if (!imageCodeId && !imageDebugId) {\n      return;\n    }\n\n    const image =\n      imageCodeId !== IMAGE_INFO_UNAVAILABLE || imageDebugId !== IMAGE_INFO_UNAVAILABLE\n        ? filteredImages.find(\n            ({code_id, debug_id}) => code_id === imageCodeId || debug_id === imageDebugId\n          )\n        : undefined;\n\n    const mod = await import(\n      'sentry/components/events/interfaces/debugMeta/debugImageDetails'\n    );\n\n    const {default: Modal, modalCss} = mod;\n\n    openModal(\n      deps => (\n        <Modal\n          {...deps}\n          image={image}\n          organization={organization}\n          projSlug={projSlug}\n          event={event}\n          onReprocessEvent={\n            defined(groupId) ? this.handleReprocessEvent(groupId) : undefined\n          }\n        />\n      ),\n      {\n        modalCss,\n        onClose: this.handleCloseImageDetailsModal,\n      }\n    );\n  };\n\n  toggleImagesLoaded = () => {\n    this.setState(state => ({\n      isOpen: !state.isOpen,\n    }));\n  };\n\n  getPanelBodyHeight() {\n    const panelTableHeight = this.panelTableRef?.current?.offsetHeight;\n\n    if (!panelTableHeight) {\n      return;\n    }\n\n    this.setState({panelTableHeight});\n  }\n\n  getRelevantImages() {\n    const {data} = this.props;\n    const {images} = data;\n\n    // There are a bunch of images in debug_meta that are not relevant to this\n    // component. Filter those out to reduce the noise. Most importantly, this\n    // includes proguard images, which are rendered separately.\n\n    const relevantImages = images.filter(this.isValidImage);\n\n    if (!relevantImages.length) {\n      return;\n    }\n\n    const formattedRelevantImages = relevantImages.map(releventImage => {\n      const {debug_status, unwind_status} = releventImage as Image;\n      return {\n        ...releventImage,\n        status: combineStatus(debug_status, unwind_status),\n      };\n    }) as Images;\n\n    // Sort images by their start address. We assume that images have\n    // non-overlapping ranges. Each address is given as hex string (e.g.\n    // \"0xbeef\").\n    formattedRelevantImages.sort(\n      (a, b) => parseAddress(a.image_addr) - parseAddress(b.image_addr)\n    );\n\n    const unusedImages: Images = [];\n\n    const usedImages = formattedRelevantImages.filter(image => {\n      if (image.debug_status === ImageStatus.UNUSED) {\n        unusedImages.push(image as Images[0]);\n        return false;\n      }\n      return true;\n    }) as Images;\n\n    const filteredImages = [...usedImages, ...unusedImages];\n\n    const filterOptions = this.getFilterOptions(filteredImages);\n    const defaultFilterSelections = (filterOptions[0].options ?? []).filter(\n      opt => opt.value !== ImageStatus.UNUSED\n    );\n\n    this.setState({\n      filteredImages,\n      filterOptions,\n      filterSelections: defaultFilterSelections,\n      filteredImagesByFilter: this.getFilteredImagesByFilter(\n        filteredImages,\n        defaultFilterSelections\n      ),\n      filteredImagesBySearch: filteredImages,\n    });\n  }\n\n  getFilterOptions(images: Images): FilterOptions {\n    return [\n      {\n        value: 'status',\n        label: t('Status'),\n        options: [...new Set(images.map(image => image.status))].map(status => ({\n          value: status,\n          label: <Status status={status} />,\n        })),\n      },\n    ];\n  }\n\n  getFilteredImagesByFilter(filteredImages: Images, filterOptions: FilterOptions) {\n    const checkedOptions = new Set(filterOptions.map(option => option.value));\n\n    if (![...checkedOptions].length) {\n      return filteredImages;\n    }\n\n    return filteredImages.filter(image => checkedOptions.has(image.status));\n  }\n\n  handleChangeFilter = (filterSelections: FilterOptions) => {\n    const {filteredImagesBySearch} = this.state;\n    const filteredImagesByFilter = this.getFilteredImagesByFilter(\n      filteredImagesBySearch,\n      filterSelections\n    );\n\n    this.setState({filterSelections, filteredImagesByFilter}, this.updateGrid);\n  };\n\n  handleChangeSearchTerm = (searchTerm = '') => {\n    DebugMetaActions.updateFilter(searchTerm);\n  };\n\n  handleResetFilter = () => {\n    this.setState({filterSelections: []}, this.filterImagesBySearchTerm);\n  };\n\n  handleResetSearchBar = () => {\n    this.setState(prevState => ({\n      searchTerm: '',\n      filteredImagesByFilter: prevState.filteredImages,\n      filteredImagesBySearch: prevState.filteredImages,\n    }));\n  };\n\n  handleOpenImageDetailsModal = (\n    code_id: Image['code_id'],\n    debug_id: Image['debug_id']\n  ) => {\n    const {location, router} = this.props;\n\n    router.push({\n      ...location,\n      query: {\n        ...location.query,\n        imageCodeId: code_id ?? IMAGE_INFO_UNAVAILABLE,\n        imageDebugId: debug_id ?? IMAGE_INFO_UNAVAILABLE,\n      },\n    });\n  };\n\n  handleCloseImageDetailsModal = () => {\n    const {location, router} = this.props;\n\n    router.push({\n      ...location,\n      query: {...location.query, imageCodeId: undefined, imageDebugId: undefined},\n    });\n  };\n\n  handleReprocessEvent = (groupId: Group['id']) => () => {\n    const {organization} = this.props;\n    openReprocessEventModal({\n      organization,\n      groupId,\n      onClose: this.openImageDetailsModal,\n    });\n  };\n\n  renderRow = ({index, key, parent, style}: ListRowProps) => {\n    const {filteredImagesByFilter: images} = this.state;\n\n    return (\n      <CellMeasurer\n        cache={cache}\n        columnIndex={0}\n        key={key}\n        parent={parent}\n        rowIndex={index}\n      >\n        <DebugImage\n          style={style}\n          image={images[index]}\n          onOpenImageDetailsModal={this.handleOpenImageDetailsModal}\n        />\n      </CellMeasurer>\n    );\n  };\n\n  renderList() {\n    const {filteredImagesByFilter: images, panelTableHeight} = this.state;\n\n    if (!panelTableHeight) {\n      return images.map((image, index) => (\n        <DebugImage\n          key={index}\n          image={image}\n          onOpenImageDetailsModal={this.handleOpenImageDetailsModal}\n        />\n      ));\n    }\n\n    return (\n      <AutoSizer disableHeight onResize={this.updateGrid}>\n        {({width}) => (\n          <StyledList\n            ref={(el: List | null) => {\n              this.listRef = el;\n            }}\n            deferredMeasurementCache={cache}\n            height={IMAGE_AND_CANDIDATE_LIST_MAX_HEIGHT}\n            overscanRowCount={5}\n            rowCount={images.length}\n            rowHeight={cache.rowHeight}\n            rowRenderer={this.renderRow}\n            width={width}\n            isScrolling={false}\n          />\n        )}\n      </AutoSizer>\n    );\n  }\n\n  getEmptyMessage() {\n    const {searchTerm, filteredImagesByFilter: images, filterSelections} = this.state;\n\n    if (!!images.length) {\n      return {};\n    }\n\n    if (searchTerm && !images.length) {\n      const hasActiveFilter = filterSelections.length > 0;\n\n      return {\n        emptyMessage: t('Sorry, no images match your search query'),\n        emptyAction: hasActiveFilter ? (\n          <Button onClick={this.handleResetFilter} priority=\"primary\">\n            {t('Reset filter')}\n          </Button>\n        ) : (\n          <Button onClick={this.handleResetSearchBar} priority=\"primary\">\n            {t('Clear search bar')}\n          </Button>\n        ),\n      };\n    }\n\n    return {\n      emptyMessage: t('There are no images to be displayed'),\n    };\n  }\n\n  render() {\n    const {\n      searchTerm,\n      filterOptions,\n      scrollbarWidth,\n      isOpen,\n      filterSelections,\n      filteredImagesByFilter: filteredImages,\n    } = this.state;\n    const {data} = this.props;\n    const {images} = data;\n\n    if (shouldSkipSection(filteredImages, images)) {\n      return null;\n    }\n\n    const showFilters = filterOptions.some(section => (section.options ?? []).length > 1);\n\n    const actions = (\n      <ToggleButton onClick={this.toggleImagesLoaded} priority=\"link\">\n        {isOpen ? t('Hide Details') : t('Show Details')}\n      </ToggleButton>\n    );\n\n    return (\n      <EventDataSection\n        type=\"images-loaded\"\n        title={\n          <TitleWrapper>\n            <GuideAnchor target=\"images-loaded\" position=\"bottom\">\n              <Title>{t('Images Loaded')}</Title>\n            </GuideAnchor>\n            <QuestionTooltip\n              size=\"xs\"\n              position=\"top\"\n              title={t(\n                'A list of dynamic libraries or shared objects loaded into process memory at the time of the crash. Images contribute application code that is referenced in stack traces.'\n              )}\n            />\n          </TitleWrapper>\n        }\n        actions={actions}\n        wrapTitle={false}\n        isCentered\n      >\n        {isOpen && (\n          <Fragment>\n            <StyledSearchBarAction\n              placeholder={t('Search images loaded')}\n              onChange={value => this.handleChangeSearchTerm(value)}\n              query={searchTerm}\n              filterOptions={showFilters ? filterOptions : undefined}\n              onFilterChange={this.handleChangeFilter}\n              filterSelections={filterSelections}\n            />\n            <StyledPanelTable\n              isEmpty={!filteredImages.length}\n              scrollbarWidth={scrollbarWidth}\n              headers={[t('Status'), t('Image'), t('Processing'), t('Details'), '']}\n              {...this.getEmptyMessage()}\n            >\n              <div ref={this.panelTableRef}>{this.renderList()}</div>\n            </StyledPanelTable>\n          </Fragment>\n        )}\n      </EventDataSection>\n    );\n  }\n}\n\nexport default withRouter(DebugMeta);\n\nconst StyledPanelTable = styled(PanelTable)<{scrollbarWidth?: number}>`\n  overflow: hidden;\n  > * {\n    :nth-child(-n + 5) {\n      ${p => p.theme.overflowEllipsis};\n      border-bottom: 1px solid ${p => p.theme.border};\n      :nth-child(5n) {\n        height: 100%;\n        ${p => !p.scrollbarWidth && `display: none`}\n      }\n    }\n\n    :nth-child(n + 6) {\n      grid-column: 1/-1;\n      ${p =>\n        !p.isEmpty &&\n        `\n          display: grid;\n          padding: 0;\n        `}\n    }\n  }\n\n  ${p => layout(p.theme, p.scrollbarWidth)}\n`;\n\nconst TitleWrapper = styled('div')`\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  gap: ${space(0.5)};\n  align-items: center;\n  padding: ${space(0.75)} 0;\n`;\n\nconst Title = styled('h3')`\n  margin-bottom: 0;\n  padding: 0 !important;\n  height: 14px;\n`;\n\n// XXX(ts): Emotion11 has some trouble with List's defaultProps\nconst StyledList = styled(List as any)<React.ComponentProps<typeof List>>`\n  height: auto !important;\n  max-height: ${p => p.height}px;\n  overflow-y: auto !important;\n  outline: none;\n`;\n\nconst StyledSearchBarAction = styled(SearchBarAction)`\n  z-index: 1;\n  margin-bottom: ${space(1)};\n`;\n\nconst ToggleButton = styled(Button)`\n  font-weight: 700;\n  color: ${p => p.theme.subText};\n  &:hover,\n  &:focus {\n    color: ${p => p.theme.textColor};\n  }\n`;\n","import {Theme} from 'sentry/utils/theme';\n\nconst layout = (theme: Theme, scrollbarWidth?: number) => `\ndisplay: grid;\n\n> * {\n  :nth-child(4n) {\n    text-align: right;\n  }\n  :nth-child(4n-1) {\n    display: none;\n  }\n}\n\ngrid-template-columns: 1fr 1.5fr 0.7fr ${scrollbarWidth ? `${scrollbarWidth}px` : `0fr`};\n\n@media (min-width: ${theme.breakpoints.small}) {\n  > *:nth-child(4n-1) {\n    display: flex;\n  }\n  grid-template-columns: 1fr 2fr 1.5fr 0.6fr ${\n    scrollbarWidth ? `${scrollbarWidth}px` : `0fr`\n  };\n}\n\n@media (min-width: ${theme.breakpoints.xlarge}) {\n  grid-template-columns: 1fr 1.5fr 1.5fr 0.6fr ${\n    scrollbarWidth ? `${scrollbarWidth}px` : `0fr`\n  };\n}\n\n@media (min-width: ${theme.breakpoints.xxlarge}) {\n  grid-template-columns: 0.5fr 1.5fr 1fr 0.5fr ${\n    scrollbarWidth ? `${scrollbarWidth}px` : `0fr`\n  };\n}\n\n`;\n\nexport default layout;\n","import styled from '@emotion/styled';\nimport * as Sentry from '@sentry/react';\n\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\n\ntype Props = {\n  icon: React.ReactElement;\n  type: 'stack_unwinding' | 'symbolication';\n  className?: string;\n};\n\nfunction Item({type, icon, className}: Props) {\n  function getLabel() {\n    switch (type) {\n      case 'stack_unwinding':\n        return t('Stack Unwinding');\n      case 'symbolication':\n        return t('Symbolication');\n      default: {\n        Sentry.captureException(new Error('Unknown Images Loaded processing item type'));\n        return null; // This shall not happen\n      }\n    }\n  }\n\n  return (\n    <Wrapper className={className}>\n      {icon}\n      {getLabel()}\n    </Wrapper>\n  );\n}\n\nexport default Item;\n\nconst Wrapper = styled('div')`\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  grid-column-gap: ${space(0.5)};\n  align-items: center;\n  font-size: ${p => p.theme.fontSizeSmall};\n  white-space: nowrap;\n`;\n","import styled from '@emotion/styled';\n\ntype Props = {\n  items: Array<React.ReactElement>;\n  className?: string;\n};\n\nfunction List({items, className}: Props) {\n  if (!items.length) {\n    return null;\n  }\n\n  return <Wrapper className={className}>{items}</Wrapper>;\n}\n\nexport default List;\n\nconst Wrapper = styled('div')`\n  display: flex;\n  flex-wrap: wrap;\n  font-size: ${p => p.theme.fontSizeSmall};\n`;\n","import {useState} from 'react';\n\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport CrashContent from 'sentry/components/events/interfaces/crashContent';\nimport CrashActions from 'sentry/components/events/interfaces/crashHeader/crashActions';\nimport CrashTitle from 'sentry/components/events/interfaces/crashHeader/crashTitle';\nimport {t} from 'sentry/locale';\nimport {ExceptionType, Group} from 'sentry/types';\nimport {EntryType, Event} from 'sentry/types/event';\nimport {STACK_TYPE, STACK_VIEW} from 'sentry/types/stacktrace';\nimport {defined} from 'sentry/utils';\n\nimport {isStacktraceNewestFirst} from './utils';\n\ntype Props = {\n  data: ExceptionType;\n  event: Event;\n  hasHierarchicalGrouping: boolean;\n  projectId: string;\n  groupingCurrentLevel?: Group['metadata']['current_level'];\n  hideGuide?: boolean;\n};\n\nfunction Exception({\n  event,\n  data,\n  projectId,\n  hasHierarchicalGrouping,\n  groupingCurrentLevel,\n  hideGuide = false,\n}: Props) {\n  const [stackView, setStackView] = useState<STACK_VIEW>(\n    data.hasSystemFrames ? STACK_VIEW.APP : STACK_VIEW.FULL\n  );\n  const [stackType, setStackType] = useState<STACK_TYPE>(STACK_TYPE.ORIGINAL);\n  const [newestFirst, setNewestFirst] = useState(isStacktraceNewestFirst());\n\n  const eventHasThreads = !!event.entries.find(entry => entry.type === 'threads');\n\n  /* in case there are threads in the event data, we don't render the\n   exception block.  Instead the exception is contained within the\n   thread interface. */\n  if (eventHasThreads) {\n    return null;\n  }\n\n  function handleChange({\n    stackView: newStackView,\n    stackType: newStackType,\n    newestFirst: newNewestFirst,\n  }: {\n    newestFirst?: boolean;\n    stackType?: STACK_TYPE;\n    stackView?: STACK_VIEW;\n  }) {\n    if (newStackView) {\n      setStackView(newStackView);\n    }\n\n    if (defined(newNewestFirst)) {\n      setNewestFirst(newNewestFirst);\n    }\n\n    if (newStackType) {\n      setStackType(newStackType);\n    }\n  }\n\n  const commonCrashHeaderProps = {\n    newestFirst,\n    hideGuide,\n    onChange: handleChange,\n  };\n\n  return (\n    <EventDataSection\n      type={EntryType.EXCEPTION}\n      title={<CrashTitle title={t('Exception')} {...commonCrashHeaderProps} />}\n      actions={\n        <CrashActions\n          stackType={stackType}\n          stackView={stackView}\n          platform={event.platform}\n          exception={data}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n          {...commonCrashHeaderProps}\n        />\n      }\n      wrapTitle={false}\n    >\n      <CrashContent\n        projectId={projectId}\n        event={event}\n        stackType={stackType}\n        stackView={stackView}\n        newestFirst={newestFirst}\n        exception={data}\n        groupingCurrentLevel={groupingCurrentLevel}\n        hasHierarchicalGrouping={hasHierarchicalGrouping}\n      />\n    </EventDataSection>\n  );\n}\n\nexport default Exception;\n","import {t} from 'sentry/locale';\nimport {ExceptionType, Group, PlatformType, Project} from 'sentry/types';\nimport {EntryType, Event} from 'sentry/types/event';\nimport {STACK_TYPE, STACK_VIEW} from 'sentry/types/stacktrace';\n\nimport {PermalinkTitle, TraceEventDataSection} from '../traceEventDataSection';\n\nimport CrashContentException from './crashContent/exception';\nimport NoStackTraceMessage from './noStackTraceMessage';\nimport {isStacktraceNewestFirst} from './utils';\n\ntype Props = {\n  data: ExceptionType;\n  event: Event;\n  hasHierarchicalGrouping: boolean;\n  projectId: Project['id'];\n  groupingCurrentLevel?: Group['metadata']['current_level'];\n  hideGuide?: boolean;\n};\n\nfunction Exception({\n  event,\n  data,\n  projectId,\n  hasHierarchicalGrouping,\n  groupingCurrentLevel,\n}: Props) {\n  const eventHasThreads = !!event.entries.some(entry => entry.type === 'threads');\n\n  /* in case there are threads in the event data, we don't render the\n   exception block.  Instead the exception is contained within the\n   thread interface. */\n  if (eventHasThreads) {\n    return null;\n  }\n\n  const entryIndex = event.entries.findIndex(\n    eventEntry => eventEntry.type === EntryType.EXCEPTION\n  );\n\n  const meta = event._meta?.entries?.[entryIndex]?.data?.values;\n\n  function getPlatform(): PlatformType {\n    const dataValue = data.values?.find(\n      value => !!value.stacktrace?.frames?.some(frame => !!frame.platform)\n    );\n\n    if (dataValue) {\n      const framePlatform = dataValue.stacktrace?.frames?.find(frame => !!frame.platform);\n\n      if (framePlatform?.platform) {\n        return framePlatform.platform;\n      }\n    }\n\n    return event.platform ?? 'other';\n  }\n\n  const stackTraceNotFound = !(data.values ?? []).length;\n  const platform = getPlatform();\n\n  return (\n    <TraceEventDataSection\n      title={<PermalinkTitle>{t('Exception')}</PermalinkTitle>}\n      type={EntryType.EXCEPTION}\n      stackType={STACK_TYPE.ORIGINAL}\n      projectId={projectId}\n      eventId={event.id}\n      recentFirst={isStacktraceNewestFirst()}\n      fullStackTrace={!data.hasSystemFrames}\n      platform={platform}\n      hasMinified={!!data.values?.some(value => value.rawStacktrace)}\n      hasVerboseFunctionNames={\n        !!data.values?.some(\n          value =>\n            !!value.stacktrace?.frames?.some(\n              frame =>\n                !!frame.rawFunction &&\n                !!frame.function &&\n                frame.rawFunction !== frame.function\n            )\n        )\n      }\n      hasAbsoluteFilePaths={\n        !!data.values?.some(\n          value => !!value.stacktrace?.frames?.some(frame => !!frame.filename)\n        )\n      }\n      hasAbsoluteAddresses={\n        !!data.values?.some(\n          value => !!value.stacktrace?.frames?.some(frame => !!frame.instructionAddr)\n        )\n      }\n      hasAppOnlyFrames={\n        !!data.values?.some(\n          value => !!value.stacktrace?.frames?.some(frame => frame.inApp !== true)\n        )\n      }\n      hasNewestFirst={\n        !!data.values?.some(value => (value.stacktrace?.frames ?? []).length > 1)\n      }\n      stackTraceNotFound={stackTraceNotFound}\n      wrapTitle={false}\n    >\n      {({recentFirst, display, fullStackTrace}) =>\n        stackTraceNotFound ? (\n          <NoStackTraceMessage />\n        ) : (\n          <CrashContentException\n            stackType={\n              display.includes('minified') ? STACK_TYPE.MINIFIED : STACK_TYPE.ORIGINAL\n            }\n            stackView={\n              display.includes('raw-stack-trace')\n                ? STACK_VIEW.RAW\n                : fullStackTrace\n                ? STACK_VIEW.FULL\n                : STACK_VIEW.APP\n            }\n            projectId={projectId}\n            newestFirst={recentFirst}\n            event={event}\n            platform={platform}\n            values={data.values}\n            groupingCurrentLevel={groupingCurrentLevel}\n            hasHierarchicalGrouping={hasHierarchicalGrouping}\n            meta={meta}\n          />\n        )\n      }\n    </TraceEventDataSection>\n  );\n}\n\nexport default Exception;\n","import {useState} from 'react';\n\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport {t} from 'sentry/locale';\n\nfunction getView({\n  data,\n  meta,\n  view,\n}: {\n  data: Props['data'];\n  view: View;\n  meta?: Record<any, any>;\n}) {\n  switch (view) {\n    case 'report':\n      return !data ? (\n        <AnnotatedText value={data} meta={meta?.['']} />\n      ) : (\n        <KeyValueList\n          data={Object.entries(data).map(([key, value]) => ({\n            key,\n            value,\n            subject: key,\n            meta: meta?.[key]?.[''],\n          }))}\n          isContextData\n        />\n      );\n    case 'raw':\n      return <pre>{JSON.stringify({'csp-report': data}, null, 2)}</pre>;\n    default:\n      throw new TypeError(`Invalid view: ${view}`);\n  }\n}\n\ntype Props = {\n  data: Record<string, any> | null;\n  type: string;\n  meta?: Record<string, any>;\n};\n\ntype View = 'report' | 'raw';\n\nexport function Generic({type, data, meta}: Props) {\n  const [view, setView] = useState<View>('report');\n  return (\n    <EventDataSection\n      type={type}\n      title={<h3>{t('Report')}</h3>}\n      actions={\n        <ButtonBar merged active={view}>\n          <Button barId=\"report\" size=\"xs\" onClick={() => setView('report')}>\n            {t('Report')}\n          </Button>\n          <Button barId=\"raw\" size=\"xs\" onClick={() => setView('raw')}>\n            {t('Raw')}\n          </Button>\n        </ButtonBar>\n      }\n      wrapTitle={false}\n    >\n      {getView({view, data, meta})}\n    </EventDataSection>\n  );\n}\n","import EventDataSection from 'sentry/components/events/eventDataSection';\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport AnnotatedText from 'sentry/components/events/meta/annotatedText';\nimport {t} from 'sentry/locale';\nimport {EntryType, Event} from 'sentry/types';\nimport {objectIsEmpty} from 'sentry/utils';\n\ntype Props = {\n  data: {\n    formatted: string | null;\n    params?: Record<string, any> | any[] | null;\n  };\n  event: Event;\n};\n\nexport function Message({data, event}: Props) {\n  const entryIndex = event.entries.findIndex(entry => entry.type === EntryType.MESSAGE);\n  const meta = event?._meta?.entries?.[entryIndex] ?? {};\n\n  function renderParams() {\n    const params = data?.params;\n\n    if (!params || objectIsEmpty(params)) {\n      return null;\n    }\n\n    // NB: Always render params, regardless of whether they appear in the\n    // formatted string due to structured logging frameworks, like Serilog. They\n    // only format some parameters into the formatted string, but we want to\n    // display all of them.\n\n    if (Array.isArray(params)) {\n      const arrayData = params.map((value, i) => {\n        const key = `#${i}`;\n        return {\n          key,\n          value,\n          subject: key,\n          meta: meta?.data?.params?.[i]?.[''],\n        };\n      });\n\n      return <KeyValueList data={arrayData} isSorted={false} isContextData />;\n    }\n\n    const objectData = Object.entries(params).map(([key, value]) => ({\n      key,\n      value,\n      subject: key,\n      meta: meta?.data?.params?.[key]?.[''],\n    }));\n\n    return <KeyValueList data={objectData} isSorted={false} isContextData />;\n  }\n\n  return (\n    <EventDataSection type=\"message\" title={t('Message')}>\n      {meta?.data?.formatted?.[''] ? (\n        <AnnotatedText value={data.formatted} meta={meta?.data?.formatted?.['']} />\n      ) : (\n        <pre className=\"plain\">{data.formatted}</pre>\n      )}\n      {renderParams()}\n    </EventDataSection>\n  );\n}\n","import Alert from 'sentry/components/alert';\nimport {t} from 'sentry/locale';\n\ntype Props = {\n  message?: React.ReactNode;\n};\n\nfunction NoStackTraceMessage({message}: Props) {\n  return <Alert type=\"error\">{message ?? t('No or unknown stacktrace')}</Alert>;\n}\n\nexport default NoStackTraceMessage;\n","import {useRef} from 'react';\nimport {useTheme} from '@emotion/react';\nimport {YAXisComponentOption} from 'echarts';\nimport {Location} from 'history';\nimport moment from 'moment';\n\nimport EventsRequest from 'sentry/components/charts/eventsRequest';\nimport {LineChart, LineChartSeries} from 'sentry/components/charts/lineChart';\nimport LoadingPanel from 'sentry/components/charts/loadingPanel';\nimport {getInterval} from 'sentry/components/charts/utils';\nimport {IconWarning} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {DateString, EventError, Group, Organization} from 'sentry/types';\nimport {Series} from 'sentry/types/echarts';\nimport {\n  findRangeOfMultiSeries,\n  getDurationUnit,\n  tooltipFormatter,\n} from 'sentry/utils/discover/charts';\nimport {aggregateOutputType} from 'sentry/utils/discover/fields';\nimport useApi from 'sentry/utils/useApi';\nimport {ErrorPanel} from 'sentry/views/performance/styles';\n\ninterface Props {\n  event: EventError;\n  issue: Group;\n  location: Location;\n  organization: Organization;\n}\n\nexport function DurationChart({issue, event, organization}: Props) {\n  const transactionNameTag = event.tags.find(tag => tag.key === 'transaction');\n  const transactionName = transactionNameTag ? transactionNameTag.value : '';\n\n  const spanHashTag = event.tags.find(\n    tag => tag.key === 'performance_issue.extra_spans'\n  ) || {key: '', value: ''};\n\n  const allEventsQuery = `event.type:transaction transaction:${transactionName}`;\n  const affectedEventsQuery = `${allEventsQuery} ${spanHashTag.key}:${spanHashTag.value}`;\n\n  const allEventsApi = useApi();\n  const affectedEventsApi = useApi();\n\n  const nowRef = useRef<DateString>(new Date());\n\n  // TODO (udameli): Project ID is hardcoded to sentry for the experiment\n  // because performance issues from sentry project are sent to a different project\n  const PROJECT_ID = 1;\n\n  const issueStart = issue.firstSeen;\n  const timeFromFirstSeen = moment(nowRef.current).diff(issueStart);\n  const start = moment(issueStart).subtract(timeFromFirstSeen).format();\n  const interval = getInterval({start, end: nowRef.current, utc: true}, 'low');\n\n  return (\n    <EventsRequest\n      api={allEventsApi}\n      project={[PROJECT_ID]}\n      environment={[]}\n      start={start}\n      end={nowRef.current}\n      query={allEventsQuery}\n      organization={organization}\n      yAxis={['p75(transaction.duration)']}\n      partial\n      interval={interval}\n      referrer=\"api.performance.performance-issue-poc.all-events\"\n      currentSeriesNames={[t('p75(transaction.duration)')]}\n    >\n      {({\n        timeseriesData: allEvents,\n        loading: allEventsLoading,\n        errored: allEventsErrored,\n      }) => (\n        <EventsRequest\n          api={affectedEventsApi}\n          project={[PROJECT_ID]}\n          environment={[]}\n          start={issueStart}\n          end={nowRef.current}\n          query={affectedEventsQuery}\n          organization={organization}\n          yAxis={['p75(transaction.duration)']}\n          partial\n          interval={interval}\n          referrer=\"api.performance.performance-issue-poc.affected-events\"\n          currentSeriesNames={[t('p75(transaction.duration)')]}\n        >\n          {({\n            timeseriesData: data,\n            loading: affectedEventsLoading,\n            errored: affectedEventsErrored,\n          }) => (\n            <Content\n              allEvents={allEvents ?? []}\n              affectedEvents={data}\n              loading={allEventsLoading || affectedEventsLoading}\n              errored={allEventsErrored || affectedEventsErrored}\n            />\n          )}\n        </EventsRequest>\n      )}\n    </EventsRequest>\n  );\n}\n\ninterface ContentProps {\n  affectedEvents: LineChartSeries[] | undefined;\n  allEvents: Series[] | undefined;\n  errored: boolean;\n  loading: boolean;\n}\n\nfunction Content({affectedEvents, allEvents, errored, loading}: ContentProps) {\n  const theme = useTheme();\n\n  if (!affectedEvents || affectedEvents.length === 0) {\n    return null;\n  }\n\n  if (loading) {\n    return <LoadingPanel />;\n  }\n\n  const durationUnit = getDurationUnit(affectedEvents);\n  const range = findRangeOfMultiSeries([...affectedEvents, ...(allEvents || [])]);\n  let min = 0;\n  if (range) {\n    min = range.min - (range.max - range.min) * 0.2;\n  }\n\n  const yAxis: YAXisComponentOption = {\n    show: false,\n    minInterval: durationUnit,\n    min,\n    axisLabel: {\n      color: theme.chartLabel,\n      formatter() {\n        return '';\n      },\n    },\n  };\n\n  return errored ? (\n    <ErrorPanel>\n      <IconWarning color=\"gray300\" size=\"lg\" />\n    </ErrorPanel>\n  ) : (\n    <LineChart\n      grid={{left: '0', right: '0', top: '0', bottom: '0'}}\n      height={200}\n      series={affectedEvents}\n      seriesOptions={{smooth: true}}\n      previousPeriod={allEvents}\n      xAxis={{type: 'time' as const, axisLine: {onZero: false}}}\n      yAxis={yAxis}\n      isGroupedByDate\n      showTimeInTooltip\n      useShortDate\n      tooltip={{\n        valueFormatter: (value, seriesName) => {\n          return tooltipFormatter(\n            value,\n            aggregateOutputType(\n              affectedEvents && affectedEvents.length\n                ? affectedEvents[0].seriesName\n                : seriesName\n            )\n          );\n        },\n      }}\n    />\n  );\n}\n","import styled from '@emotion/styled';\n\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {EventError, Group, Organization} from 'sentry/types';\nimport {useLocation} from 'sentry/utils/useLocation';\n\nimport {DurationChart} from './durationChart';\nimport {SpanCountChart} from './spanCountChart';\n\ninterface Props {\n  event: EventError;\n  issue: Group;\n  organization: Organization;\n}\n\nexport function PerformanceIssueSection({issue, event, organization}: Props) {\n  const location = useLocation();\n\n  return (\n    <Wrapper>\n      <Section>\n        <h3>{t('P75 Duration Change')}</h3>\n        <DurationChart\n          issue={issue}\n          location={location}\n          organization={organization}\n          event={event}\n        />\n      </Section>\n      <Section>\n        <h3>{t('Span Count Distribution')}</h3>\n        <SpanCountChart\n          issue={issue}\n          event={event}\n          location={location}\n          organization={organization}\n        />\n      </Section>\n    </Wrapper>\n  );\n}\n\nexport const Wrapper = styled('div')`\n  display: flex;\n  flex-direction: row;\n  border-top: 1px solid ${p => p.theme.innerBorder};\n  margin: 0;\n  /* Padding aligns with Layout.Body */\n  padding: ${space(3)} ${space(2)} ${space(2)};\n  @media (min-width: ${p => p.theme.breakpoints.medium}) {\n    padding: ${space(3)} ${space(4)} ${space(3)};\n  }\n  & h3,\n  & h3 a {\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 1.2;\n    color: ${p => p.theme.gray300};\n  }\n  & h3 {\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 1.2;\n    padding: ${space(0.75)} 0;\n    margin-bottom: 0;\n    text-transform: uppercase;\n  }\n  div:first-child {\n    margin-right: ${space(3)};\n  }\n`;\n\nconst Section = styled('div')`\n  width: 50%;\n`;\n","import {useRef} from 'react';\nimport {Location} from 'history';\n\nimport {BarChart} from 'sentry/components/charts/barChart';\nimport ErrorPanel from 'sentry/components/charts/errorPanel';\nimport LoadingPanel from 'sentry/components/charts/loadingPanel';\nimport {IconWarning} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {DateString, EventError, EventTag, Group, Organization} from 'sentry/types';\nimport EventView from 'sentry/utils/discover/eventView';\nimport SpanCountHistogramQuery from 'sentry/utils/performance/histogram/spanCountHistogramQuery';\nimport {HistogramData} from 'sentry/utils/performance/histogram/types';\nimport {formatHistogramData} from 'sentry/utils/performance/histogram/utils';\nimport theme from 'sentry/utils/theme';\n\ninterface Props {\n  event: EventError;\n  issue: Group;\n  location: Location;\n  organization: Organization;\n}\n\nexport function SpanCountChart({issue, event, location, organization}: Props) {\n  const transactionNameTag = event.tags.find(tag => tag.key === 'transaction');\n  const transactionName = transactionNameTag ? transactionNameTag.value : '';\n\n  const spanHashTag = event.tags.find(\n    (tag: EventTag) => tag.key === 'performance_issue.extra_spans'\n  ) || {key: '', value: ''};\n\n  const allEventsQuery = `event.type:transaction transaction:${transactionName}`;\n  const affectedEventsQuery = `${allEventsQuery} ${spanHashTag.key}:${spanHashTag.value}`;\n\n  const nowRef = useRef<DateString>(new Date());\n\n  const start = issue.firstSeen;\n  const end = nowRef.current?.toString();\n  const environment = [];\n  const project = [1];\n  const spanOp = event.contexts.performance_issue.op;\n\n  function renderChart(data: HistogramData, _data: HistogramData) {\n    const xAxis = {\n      type: 'category' as const,\n      truncate: true,\n      axisTick: {\n        interval: 5,\n        alignWithLabel: true,\n      },\n    };\n\n    const colors = [theme.charts.previousPeriod, ...theme.charts.getColorPalette(4)];\n    const tooltip = {\n      formatter(series) {\n        const seriesData = Array.isArray(series) ? series : [series];\n        let contents: string[] = [];\n\n        contents = seriesData.map(item => {\n          const label = item.seriesName;\n          const value = item.value[1].toLocaleString();\n          return [\n            '<div class=\"tooltip-series\">',\n            `<div><span class=\"tooltip-label\">${item.marker} <strong>${label}</strong></span> ${value}</div>`,\n            '</div>',\n          ].join('');\n        });\n        const seriesLabel = seriesData[0].value[0];\n        contents.push(`<div class=\"tooltip-date\">${seriesLabel}</div>`);\n\n        contents.push('<div class=\"tooltip-arrow\"></div>');\n        return contents.join('');\n      },\n    };\n\n    const series = {\n      seriesName: t('Affected Transaction Count'),\n      data: formatHistogramData(data, {type: 'number'}),\n    };\n\n    const _series = {\n      seriesName: t('All Transaction Count'),\n      data: formatHistogramData(_data, {type: 'number'}),\n    };\n\n    return (\n      <BarChart\n        grid={{left: '0', right: '0', top: '0', bottom: '0'}}\n        xAxis={xAxis}\n        yAxis={{type: 'value', show: false, axisLabel: {formatter: _ => ''}}}\n        series={[_series, series]}\n        tooltip={tooltip}\n        colors={colors}\n        height={200}\n      />\n    );\n  }\n\n  const allEvents = EventView.fromNewQueryWithLocation(\n    {\n      id: undefined,\n      version: 2,\n      name: '',\n      fields: ['transaction.duration'],\n      projects: project,\n      query: allEventsQuery,\n      environment,\n      start,\n      end,\n    },\n    location\n  );\n\n  const affectedEventsEventView = EventView.fromNewQueryWithLocation(\n    {\n      id: undefined,\n      version: 2,\n      name: '',\n      fields: ['transaction.duration'],\n      projects: project,\n      query: affectedEventsQuery,\n      environment,\n      start,\n      end,\n    },\n    location\n  );\n\n  return (\n    <SpanCountHistogramQuery\n      location={location}\n      orgSlug={organization.slug}\n      eventView={allEvents}\n      numBuckets={50}\n      spanOp={spanOp}\n      dataFilter=\"exclude_outliers\"\n    >\n      {({histogram: _histogram, isLoading: _isLoading, error: _error}) => (\n        <SpanCountHistogramQuery\n          location={location}\n          orgSlug={organization.slug}\n          eventView={affectedEventsEventView}\n          numBuckets={50}\n          spanOp={spanOp}\n          dataFilter=\"exclude_outliers\"\n        >\n          {({histogram, isLoading, error}) => {\n            if (isLoading || _isLoading) {\n              return <LoadingPanel data-test-id=\"histogram-loading\" />;\n            }\n\n            if (error || _error) {\n              return (\n                <ErrorPanel>\n                  <IconWarning color=\"gray300\" size=\"lg\" />\n                </ErrorPanel>\n              );\n            }\n\n            return renderChart(histogram || [], _histogram || []);\n          }}\n        </SpanCountHistogramQuery>\n      )}\n    </SpanCountHistogramQuery>\n  );\n}\n","import {defined} from 'sentry/utils';\n\nfunction getTransformedData(data: any, meta: Record<any, any> | undefined) {\n  if (Array.isArray(data)) {\n    return data\n      .filter(dataValue => {\n        if (typeof dataValue === 'string') {\n          return !!dataValue;\n        }\n\n        return defined(dataValue);\n      })\n      .map((dataValue, index) => {\n        if (Array.isArray(dataValue)) {\n          return {\n            data: dataValue,\n            meta: meta?.[index]?.[1]?.[1]?.[''],\n          };\n        }\n\n        if (typeof data === 'object') {\n          return {\n            data: Object.keys(dataValue).flatMap(key => [key, dataValue[key]]),\n          };\n        }\n\n        return {\n          data: dataValue,\n        };\n      });\n  }\n\n  if (typeof data === 'object') {\n    return Object.keys(data).map(key => {\n      return {\n        data: [key, data[key]],\n        meta: meta?.[key]?.[''],\n      };\n    });\n  }\n\n  return [];\n}\n\nexport default getTransformedData;\n","import {Fragment, useState} from 'react';\nimport styled from '@emotion/styled';\n\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport ClippedBox from 'sentry/components/clippedBox';\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport {getCurlCommand, getFullUrl} from 'sentry/components/events/interfaces/utils';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport Truncate from 'sentry/components/truncate';\nimport {IconOpen} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {EntryRequest, EntryType, Event} from 'sentry/types/event';\nimport {defined, isUrl} from 'sentry/utils';\n\nimport {RichHttpContentClippedBoxBodySection} from './richHttpContentClippedBoxBodySection';\nimport {RichHttpContentClippedBoxKeyValueList} from './richHttpContentClippedBoxKeyValueList';\n\ntype Props = {\n  data: EntryRequest['data'];\n  event: Event;\n};\n\ntype View = 'formatted' | 'curl';\n\nexport function Request({data, event}: Props) {\n  const entryIndex = event.entries.findIndex(entry => entry.type === EntryType.REQUEST);\n  const meta = event._meta?.entries?.[entryIndex]?.data;\n\n  const [view, setView] = useState<View>('formatted');\n\n  const isPartial =\n    // We assume we only have a partial interface is we're missing\n    // an HTTP method. This means we don't have enough information\n    // to reliably construct a full HTTP request.\n    !data.method || !data.url;\n\n  let fullUrl = getFullUrl(data);\n\n  if (!isUrl(fullUrl)) {\n    // Check if the url passed in is a safe url to avoid XSS\n    fullUrl = undefined;\n  }\n\n  let parsedUrl: HTMLAnchorElement | null = null;\n\n  if (fullUrl) {\n    // use html tag to parse url, lol\n    parsedUrl = document.createElement('a');\n    parsedUrl.href = fullUrl;\n  }\n\n  let actions: React.ReactNode = null;\n\n  if (!isPartial && fullUrl) {\n    actions = (\n      <ButtonBar merged active={view}>\n        <Button barId=\"formatted\" size=\"xs\" onClick={() => setView('formatted')}>\n          {/* Translators: this means \"formatted\" rendering (fancy tables) */}\n          {t('Formatted')}\n        </Button>\n        <MonoButton barId=\"curl\" size=\"xs\" onClick={() => setView('curl')}>\n          curl\n        </MonoButton>\n      </ButtonBar>\n    );\n  }\n\n  const title = (\n    <Header key=\"title\">\n      <ExternalLink href={fullUrl} title={fullUrl}>\n        <Path>\n          <strong>{data.method || 'GET'}</strong>\n          <Truncate value={parsedUrl ? parsedUrl.pathname : ''} maxLength={36} leftTrim />\n        </Path>\n        {fullUrl && <StyledIconOpen size=\"xs\" />}\n      </ExternalLink>\n      <small>{parsedUrl ? parsedUrl.hostname : ''}</small>\n    </Header>\n  );\n\n  return (\n    <EventDataSection\n      type={EntryType.REQUEST}\n      title={title}\n      actions={actions}\n      wrapTitle={false}\n      className=\"request\"\n    >\n      {view === 'curl' ? (\n        <pre>{getCurlCommand(data)}</pre>\n      ) : (\n        <Fragment>\n          {defined(data.query) && (\n            <RichHttpContentClippedBoxKeyValueList\n              title={t('Query String')}\n              data={data.query}\n              meta={meta?.query}\n              isContextData\n            />\n          )}\n          {defined(data.fragment) && (\n            <ClippedBox title={t('Fragment')}>\n              <ErrorBoundary mini>\n                <pre>{data.fragment}</pre>\n              </ErrorBoundary>\n            </ClippedBox>\n          )}\n          {defined(data.data) && (\n            <RichHttpContentClippedBoxBodySection\n              data={data.data}\n              inferredContentType={data.inferredContentType}\n              meta={meta?.data}\n            />\n          )}\n          {defined(data.cookies) && Object.keys(data.cookies).length > 0 && (\n            <RichHttpContentClippedBoxKeyValueList\n              defaultCollapsed\n              title={t('Cookies')}\n              data={data.cookies}\n              meta={meta?.cookies}\n            />\n          )}\n          {defined(data.headers) && (\n            <RichHttpContentClippedBoxKeyValueList\n              title={t('Headers')}\n              data={data.headers}\n              meta={meta?.headers}\n            />\n          )}\n          {defined(data.env) && (\n            <RichHttpContentClippedBoxKeyValueList\n              defaultCollapsed\n              title={t('Environment')}\n              data={data.env}\n              meta={meta?.env}\n            />\n          )}\n        </Fragment>\n      )}\n    </EventDataSection>\n  );\n}\n\nconst MonoButton = styled(Button)`\n  font-family: ${p => p.theme.text.familyMono};\n`;\n\nconst Path = styled('span')`\n  color: ${p => p.theme.textColor};\n  text-transform: none;\n  font-weight: normal;\n\n  & strong {\n    margin-right: ${space(0.5)};\n  }\n`;\n\nconst Header = styled('h3')`\n  display: flex;\n  align-items: center;\n`;\n\n// Nudge the icon down so it is centered. the `external-icon` class\n// doesn't quite get it in place.\nconst StyledIconOpen = styled(IconOpen)`\n  transition: 0.1s linear color;\n  margin: 0 ${space(0.5)};\n  color: ${p => p.theme.subText};\n  position: relative;\n  top: 1px;\n\n  &:hover {\n    color: ${p => p.theme.textColor};\n  }\n`;\n","import ClippedBox from 'sentry/components/clippedBox';\nimport ContextData from 'sentry/components/contextData';\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport {t} from 'sentry/locale';\nimport {EntryRequest} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\nimport getTransformedData from './getTransformedData';\n\ntype Props = {\n  data: EntryRequest['data']['data'];\n  inferredContentType: EntryRequest['data']['inferredContentType'];\n  meta?: Record<any, any>;\n};\n\nexport function RichHttpContentClippedBoxBodySection({\n  data,\n  meta,\n  inferredContentType,\n}: Props) {\n  if (!defined(data)) {\n    return null;\n  }\n\n  function getContent() {\n    switch (inferredContentType) {\n      case 'application/json':\n        return (\n          <ContextData\n            data-test-id=\"rich-http-content-body-context-data\"\n            data={data}\n            preserveQuotes\n          />\n        );\n      case 'application/x-www-form-urlencoded':\n      case 'multipart/form-data': {\n        const transformedData = getTransformedData(data, meta).map(d => {\n          const [key, value] = d.data;\n          return {\n            key,\n            subject: key,\n            value,\n            meta: d.meta,\n          };\n        });\n\n        if (!transformedData.length) {\n          return null;\n        }\n\n        return (\n          <KeyValueList\n            data-test-id=\"rich-http-content-body-key-value-list\"\n            data={transformedData}\n            isContextData\n          />\n        );\n      }\n\n      default:\n        return (\n          <pre data-test-id=\"rich-http-content-body-section-pre\">\n            <ContextData data={data} meta={meta} withAnnotatedText />\n          </pre>\n        );\n    }\n  }\n\n  const content = getContent();\n\n  if (!content) {\n    return null;\n  }\n\n  return (\n    <ClippedBox title={t('Body')} defaultClipped>\n      <ErrorBoundary mini>{content}</ErrorBoundary>\n    </ClippedBox>\n  );\n}\n","import ClippedBox from 'sentry/components/clippedBox';\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport {Meta} from 'sentry/types';\nimport {EntryRequest} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\nimport getTransformedData from './getTransformedData';\n\ntype Data = EntryRequest['data']['data'];\n\ntype Props = {\n  data: Data;\n  title: string;\n  defaultCollapsed?: boolean;\n  isContextData?: boolean;\n  meta?: Meta;\n};\n\nexport function RichHttpContentClippedBoxKeyValueList({\n  data,\n  title,\n  defaultCollapsed = false,\n  isContextData = false,\n  meta,\n}: Props) {\n  const transformedData = getTransformedData(data, meta);\n\n  function getContent() {\n    // Sentry API abbreviates long query string values, sometimes resulting in\n    // an un-parsable querystring ... stay safe kids\n    try {\n      return (\n        <KeyValueList\n          data={transformedData\n            .map(d => {\n              const [key, value] = d.data;\n\n              if (!value && !d.meta) {\n                return null;\n              }\n\n              return {\n                key,\n                subject: key,\n                value,\n                meta: d.meta,\n              };\n            })\n            .filter(defined)}\n          isContextData={isContextData}\n        />\n      );\n    } catch {\n      return <pre>{data}</pre>;\n    }\n  }\n\n  if (!transformedData.length) {\n    return null;\n  }\n\n  return (\n    <ClippedBox title={title} defaultClipped={defaultCollapsed}>\n      <ErrorBoundary mini>{getContent()}</ErrorBoundary>\n    </ClippedBox>\n  );\n}\n","import styled from '@emotion/styled';\n\nimport DropdownButton from 'sentry/components/dropdownButton';\nimport CompactSelect from 'sentry/components/forms/compactSelect';\nimport SearchBar from 'sentry/components/searchBar';\nimport {t, tn} from 'sentry/locale';\nimport space from 'sentry/styles/space';\n\ntype FilterOption = React.ComponentProps<typeof CompactSelect>['options'][0];\n\ntype Props = {\n  onChange: (value: string) => void;\n  placeholder: string;\n  query: string;\n  className?: string;\n  filterOptions?: FilterOption[];\n  filterSelections?: FilterOption[];\n  onFilterChange?: (options: FilterOption[]) => void;\n};\n\nfunction SearchBarAction({\n  onChange,\n  query,\n  placeholder,\n  filterOptions,\n  filterSelections,\n  onFilterChange,\n  className,\n}: Props) {\n  const trigger: React.ComponentProps<typeof CompactSelect>['trigger'] = ({\n    props,\n    ref,\n  }) => (\n    <StyledTrigger\n      size=\"sm\"\n      priority={filterSelections && filterSelections.length > 0 ? 'primary' : 'default'}\n      ref={ref}\n      {...props}\n    >\n      {filterSelections?.length\n        ? tn('%s Active Filter', '%s Active Filters', filterSelections.length)\n        : t('Filter By')}\n    </StyledTrigger>\n  );\n\n  return (\n    <Wrapper className={className}>\n      {filterOptions && (\n        <CompactSelect\n          size=\"sm\"\n          multiple\n          maxMenuHeight={400}\n          options={filterOptions}\n          value={filterSelections?.map(f => f.value)}\n          onChange={onFilterChange}\n          trigger={trigger}\n        />\n      )}\n      <StyledSearchBar\n        size=\"sm\"\n        onChange={onChange}\n        query={query}\n        placeholder={placeholder}\n        blendWithFilter={!!filterOptions}\n      />\n    </Wrapper>\n  );\n}\n\nexport default SearchBarAction;\n\nconst Wrapper = styled('div')`\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n\n  @media (max-width: ${p => p.theme.breakpoints.small}) {\n    margin-top: ${space(1)};\n    flex-direction: column;\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints.medium}) {\n    width: 400px;\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints.xlarge}) {\n    width: 600px;\n  }\n`;\n\nconst StyledSearchBar = styled(SearchBar)<{blendWithFilter?: boolean}>`\n  width: 100%;\n\n  ${p =>\n    p.blendWithFilter &&\n    `\n      input {\n        border-radius: ${p.theme.borderRadiusRight};\n        border-left-width: 0;\n      }\n    `}\n\n  @media (max-width: ${p => p.theme.breakpoints.small}) {\n    input {\n      border-radius: ${p => p.theme.borderRadius};\n      border-left-width: 1px;\n    }\n  }\n`;\n\nconst StyledTrigger = styled(DropdownButton)`\n  border-radius: ${p => p.theme.borderRadiusLeft};\n\n  @media (max-width: ${p => p.theme.breakpoints.small}) {\n    border-radius: ${p => p.theme.borderRadius};\n    margin-bottom: ${space(1)};\n  }\n`;\n","import {Component} from 'react';\n\nimport {clamp, rectOfContent} from 'sentry/components/performance/waterfall/utils';\nimport {PerformanceInteraction} from 'sentry/utils/performanceForSentry';\nimport {setBodyUserSelect, UserSelectValues} from 'sentry/utils/userselect';\n\n// we establish the minimum window size so that the window size of 0% is not possible\nconst MINIMUM_WINDOW_SIZE = 0.5 / 100; // 0.5% window size\n\nenum ViewHandleType {\n  Left,\n  Right,\n}\n\nexport type DragManagerChildrenProps = {\n  // handles\n\n  isDragging: boolean;\n\n  // between 0 to 1\n  // window selection\n  isWindowSelectionDragging: boolean;\n  leftHandlePosition: number;\n\n  // left-side handle\n  onLeftHandleDragStart: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n  // between 0 to 1\n  // right-side handle\n  onRightHandleDragStart: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n\n  onWindowSelectionDragStart: (\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>\n  ) => void;\n  rightHandlePosition: number;\n  // between 0 to 1\n  viewWindowEnd: number;\n  // window sizes\n  viewWindowStart: number;\n  // between 0 (0%) and 1 (100%)\n  windowSelectionCurrent: number;\n\n  windowSelectionInitial: number;\n  // between 0 (0%) and 1 (100%)\n  windowSelectionSize: number; // between 0 to 1\n};\n\ntype DragManagerProps = {\n  children: (props: DragManagerChildrenProps) => JSX.Element;\n\n  // this is the DOM element where the drag events occur. it's also the reference point\n  // for calculating the relative mouse x coordinate.\n  interactiveLayerRef: React.RefObject<HTMLDivElement>;\n};\n\ntype DragManagerState = {\n  currentDraggingHandle: ViewHandleType | undefined;\n  // draggable handles\n  isDragging: boolean;\n  // window selection\n  isWindowSelectionDragging: boolean;\n  leftHandlePosition: number;\n\n  rightHandlePosition: number;\n  viewWindowEnd: number;\n  // window sizes\n  viewWindowStart: number;\n  windowSelectionCurrent: number;\n\n  windowSelectionInitial: number;\n  windowSelectionSize: number;\n};\n\nclass DragManager extends Component<DragManagerProps, DragManagerState> {\n  state: DragManagerState = {\n    // draggable handles\n\n    isDragging: false,\n    currentDraggingHandle: void 0,\n    leftHandlePosition: 0, // positioned on the left-most side at 0%\n    rightHandlePosition: 1, // positioned on the right-most side at 100%\n\n    // window selection\n\n    isWindowSelectionDragging: false,\n    windowSelectionInitial: 0, // between 0 (0%) and 1 (100%)\n    windowSelectionCurrent: 0, // between 0 (0%) and 1 (100%)\n    windowSelectionSize: 0,\n\n    // window sizes\n\n    viewWindowStart: 0,\n    viewWindowEnd: 1,\n  };\n\n  componentWillUnmount() {\n    this.cleanUpListeners();\n  }\n\n  previousUserSelect: UserSelectValues | null = null;\n\n  hasInteractiveLayer = (): boolean => !!this.props.interactiveLayerRef.current;\n\n  onDragStart =\n    (viewHandle: ViewHandleType) =>\n    (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n      const isDragging = this.state.isDragging || this.state.isWindowSelectionDragging;\n\n      if (isDragging || event.type !== 'mousedown' || !this.hasInteractiveLayer()) {\n        return;\n      }\n\n      PerformanceInteraction.startInteraction('SpanTreeHandleDrag');\n\n      // prevent the user from selecting things outside the minimap when dragging\n      // the mouse cursor outside the minimap\n\n      this.previousUserSelect = setBodyUserSelect({\n        userSelect: 'none',\n        MozUserSelect: 'none',\n        msUserSelect: 'none',\n        webkitUserSelect: 'none',\n      });\n\n      // attach event listeners so that the mouse cursor can drag outside of the\n      // minimap\n      window.addEventListener('mousemove', this.onDragMove);\n      window.addEventListener('mouseup', this.onDragEnd);\n\n      // indicate drag has begun\n\n      this.setState({\n        isDragging: true,\n        isWindowSelectionDragging: false,\n        currentDraggingHandle: viewHandle,\n      });\n    };\n\n  onLeftHandleDragStart = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    this.onDragStart(ViewHandleType.Left)(event);\n  };\n\n  onRightHandleDragStart = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    this.onDragStart(ViewHandleType.Right)(event);\n  };\n\n  onDragMove = (event: MouseEvent) => {\n    if (\n      !this.state.isDragging ||\n      event.type !== 'mousemove' ||\n      !this.hasInteractiveLayer()\n    ) {\n      return;\n    }\n\n    const rect = rectOfContent(this.props.interactiveLayerRef.current!);\n\n    // mouse x-coordinate relative to the interactive layer's left side\n    const rawMouseX = (event.pageX - rect.x) / rect.width;\n\n    switch (this.state.currentDraggingHandle) {\n      case ViewHandleType.Left: {\n        const min = 0;\n        const max = this.state.rightHandlePosition - MINIMUM_WINDOW_SIZE;\n\n        this.setState({\n          // clamp rawMouseX to be within [0, rightHandlePosition - MINIMUM_WINDOW_SIZE]\n          leftHandlePosition: clamp(rawMouseX, min, max),\n        });\n        break;\n      }\n      case ViewHandleType.Right: {\n        const min = this.state.leftHandlePosition + MINIMUM_WINDOW_SIZE;\n        const max = 1;\n\n        this.setState({\n          // clamp rawMouseX to be within [leftHandlePosition + MINIMUM_WINDOW_SIZE, 1]\n          rightHandlePosition: clamp(rawMouseX, min, max),\n        });\n        break;\n      }\n      default: {\n        throw Error('this.state.currentDraggingHandle is undefined');\n      }\n    }\n  };\n\n  onDragEnd = (event: MouseEvent) => {\n    if (\n      !this.state.isDragging ||\n      event.type !== 'mouseup' ||\n      !this.hasInteractiveLayer()\n    ) {\n      return;\n    }\n\n    PerformanceInteraction.finishInteraction();\n\n    // remove listeners that were attached in onDragStart\n\n    this.cleanUpListeners();\n\n    // restore body styles\n\n    if (this.previousUserSelect) {\n      setBodyUserSelect(this.previousUserSelect);\n      this.previousUserSelect = null;\n    }\n\n    // indicate drag has ended\n\n    switch (this.state.currentDraggingHandle) {\n      case ViewHandleType.Left: {\n        this.setState(state => ({\n          isDragging: false,\n          currentDraggingHandle: void 0,\n\n          // commit leftHandlePosition to be viewWindowStart\n          viewWindowStart: state.leftHandlePosition,\n        }));\n        return;\n      }\n      case ViewHandleType.Right: {\n        this.setState(state => ({\n          isDragging: false,\n          currentDraggingHandle: void 0,\n\n          // commit rightHandlePosition to be viewWindowEnd\n          viewWindowEnd: state.rightHandlePosition,\n        }));\n        return;\n      }\n      default: {\n        throw Error('this.state.currentDraggingHandle is undefined');\n      }\n    }\n  };\n\n  onWindowSelectionDragStart = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    const isDragging = this.state.isDragging || this.state.isWindowSelectionDragging;\n\n    if (isDragging || event.type !== 'mousedown' || !this.hasInteractiveLayer()) {\n      return;\n    }\n\n    PerformanceInteraction.startInteraction('SpanTreeWindowDrag');\n\n    // prevent the user from selecting things outside the minimap when dragging\n    // the mouse cursor outside the minimap\n\n    this.previousUserSelect = setBodyUserSelect({\n      userSelect: 'none',\n      MozUserSelect: 'none',\n      msUserSelect: 'none',\n      webkitUserSelect: 'none',\n    });\n\n    // attach event listeners so that the mouse cursor can drag outside of the\n    // minimap\n    window.addEventListener('mousemove', this.onWindowSelectionDragMove);\n    window.addEventListener('mouseup', this.onWindowSelectionDragEnd);\n\n    // indicate drag has begun\n\n    const rect = rectOfContent(this.props.interactiveLayerRef.current!);\n\n    // mouse x-coordinate relative to the interactive layer's left side\n    const rawMouseX = (event.pageX - rect.x) / rect.width;\n\n    this.setState({\n      isDragging: false,\n      isWindowSelectionDragging: true,\n      windowSelectionInitial: rawMouseX, // between 0 (0%) and 1 (100%)\n      windowSelectionCurrent: rawMouseX, // between 0 (0%) and 1 (100%)\n    });\n  };\n\n  onWindowSelectionDragMove = (event: MouseEvent) => {\n    if (\n      !this.state.isWindowSelectionDragging ||\n      event.type !== 'mousemove' ||\n      !this.hasInteractiveLayer()\n    ) {\n      return;\n    }\n\n    const rect = rectOfContent(this.props.interactiveLayerRef.current!);\n\n    // mouse x-coordinate relative to the interactive layer's left side\n    const rawMouseX = (event.pageX - rect.x) / rect.width;\n\n    const min = 0;\n    const max = 1;\n\n    // clamp rawMouseX to be within [0, 1]\n    const windowSelectionCurrent = clamp(rawMouseX, min, max);\n\n    const windowSelectionSize = clamp(\n      Math.abs(this.state.windowSelectionInitial - windowSelectionCurrent),\n      min,\n      max\n    );\n\n    this.setState({\n      windowSelectionCurrent,\n      windowSelectionSize,\n    });\n  };\n\n  onWindowSelectionDragEnd = (event: MouseEvent) => {\n    if (\n      !this.state.isWindowSelectionDragging ||\n      event.type !== 'mouseup' ||\n      !this.hasInteractiveLayer()\n    ) {\n      return;\n    }\n\n    PerformanceInteraction.finishInteraction();\n\n    // remove listeners that were attached in onWindowSelectionDragStart\n\n    this.cleanUpListeners();\n\n    // restore body styles\n\n    if (this.previousUserSelect) {\n      setBodyUserSelect(this.previousUserSelect);\n      this.previousUserSelect = null;\n    }\n\n    // indicate drag has ended\n\n    this.setState(state => {\n      let viewWindowStart = Math.min(\n        state.windowSelectionInitial,\n        state.windowSelectionCurrent\n      );\n      let viewWindowEnd = Math.max(\n        state.windowSelectionInitial,\n        state.windowSelectionCurrent\n      );\n\n      // enforce minimum window size\n      if (viewWindowEnd - viewWindowStart < MINIMUM_WINDOW_SIZE) {\n        viewWindowEnd = viewWindowStart + MINIMUM_WINDOW_SIZE;\n\n        if (viewWindowEnd > 1) {\n          viewWindowEnd = 1;\n          viewWindowStart = 1 - MINIMUM_WINDOW_SIZE;\n        }\n      }\n\n      return {\n        isWindowSelectionDragging: false,\n        windowSelectionInitial: 0,\n        windowSelectionCurrent: 0,\n        windowSelectionSize: 0,\n\n        leftHandlePosition: viewWindowStart,\n        rightHandlePosition: viewWindowEnd,\n\n        viewWindowStart,\n        viewWindowEnd,\n      };\n    });\n  };\n\n  cleanUpListeners = () => {\n    if (this.state.isDragging) {\n      window.removeEventListener('mousemove', this.onDragMove);\n      window.removeEventListener('mouseup', this.onDragEnd);\n    }\n\n    if (this.state.isWindowSelectionDragging) {\n      window.removeEventListener('mousemove', this.onWindowSelectionDragMove);\n      window.removeEventListener('mouseup', this.onWindowSelectionDragEnd);\n    }\n  };\n\n  render() {\n    const childrenProps = {\n      isDragging: this.state.isDragging,\n\n      // left handle\n\n      onLeftHandleDragStart: this.onLeftHandleDragStart,\n      leftHandlePosition: this.state.leftHandlePosition,\n\n      // right handle\n\n      onRightHandleDragStart: this.onRightHandleDragStart,\n      rightHandlePosition: this.state.rightHandlePosition,\n\n      // window selection\n\n      isWindowSelectionDragging: this.state.isWindowSelectionDragging,\n      windowSelectionInitial: this.state.windowSelectionInitial,\n      windowSelectionCurrent: this.state.windowSelectionCurrent,\n      windowSelectionSize: this.state.windowSelectionSize,\n      onWindowSelectionDragStart: this.onWindowSelectionDragStart,\n\n      // window sizes\n\n      viewWindowStart: this.state.viewWindowStart,\n      viewWindowEnd: this.state.viewWindowEnd,\n    };\n\n    return this.props.children(childrenProps);\n  }\n}\n\nexport default DragManager;\n","import React, {useContext} from 'react';\nimport styled from '@emotion/styled';\n\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport LoadingError from 'sentry/components/loadingError';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport QuickTrace from 'sentry/components/quickTrace';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Event, EventTransaction, Organization} from 'sentry/types';\nimport EventView from 'sentry/utils/discover/eventView';\nimport GenericDiscoverQuery from 'sentry/utils/discover/genericDiscoverQuery';\nimport {QuickTraceContext} from 'sentry/utils/performance/quickTrace/quickTraceContext';\nimport useApi from 'sentry/utils/useApi';\nimport {useLocation} from 'sentry/utils/useLocation';\n\nimport TraceView from './traceView';\nimport {FocusedSpanIDMap} from './types';\nimport WaterfallModel from './waterfallModel';\n\ntype Props = {\n  event: Event;\n  organization: Organization;\n  projectSlug: string;\n  focusedSpanIds?: FocusedSpanIDMap;\n};\n\n// This is a wrapper class that is intended to be used within Performance Issues\nexport function EmbeddedSpanTree(props: Props) {\n  const {event, organization, projectSlug, focusedSpanIds} = props;\n  const api = useApi();\n  const location = useLocation();\n  const quickTrace = useContext(QuickTraceContext);\n\n  const eventView = EventView.fromNewQueryWithLocation(\n    {\n      id: undefined,\n      version: 2,\n      name: '',\n      fields: ['transaction.duration'],\n      projects: [1],\n      query: 'event.type:transaction',\n      environment: [],\n    },\n    location\n  );\n\n  function getContent() {\n    if (!quickTrace) {\n      return null;\n    }\n\n    if (quickTrace.isLoading) {\n      return <LoadingIndicator />;\n    }\n\n    if (!quickTrace.currentEvent) {\n      return (\n        <LoadingError\n          message={t(\n            'Error loading the span tree because the root transaction is missing'\n          )}\n        />\n      );\n    }\n\n    return (\n      <GenericDiscoverQuery\n        eventView={eventView}\n        orgSlug={organization.slug}\n        route={`events/${projectSlug}:${quickTrace.currentEvent.event_id}`}\n        api={api}\n        location={location}\n      >\n        {_results => {\n          if (_results.isLoading) {\n            return <LoadingIndicator />;\n          }\n\n          if (!_results.tableData) {\n            return (\n              <LoadingError\n                message={t(\n                  'Error loading the span tree because the root transaction is missing'\n                )}\n              />\n            );\n          }\n\n          return (\n            <Wrapper>\n              <Header>\n                <h3>{t('Span Tree')}</h3>\n                <QuickTrace\n                  event={event}\n                  quickTrace={quickTrace!}\n                  location={location}\n                  organization={organization}\n                  anchor=\"left\"\n                  errorDest=\"issue\"\n                  transactionDest=\"performance\"\n                />\n              </Header>\n\n              <Section>\n                <TraceView\n                  organization={organization}\n                  waterfallModel={\n                    new WaterfallModel(\n                      _results.tableData as EventTransaction,\n                      focusedSpanIds\n                    )\n                  }\n                  isEmbedded\n                />\n              </Section>\n            </Wrapper>\n          );\n        }}\n      </GenericDiscoverQuery>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <ErrorBoundary mini>{getContent()}</ErrorBoundary>\n    </React.Fragment>\n  );\n}\n\nexport const Wrapper = styled('div')`\n  border-top: 1px solid ${p => p.theme.innerBorder};\n  border-radius: ${p => p.theme.borderRadius};\n  margin: 0;\n  /* Padding aligns with Layout.Body */\n  padding: ${space(3)} ${space(2)} ${space(2)};\n  @media (min-width: ${p => p.theme.breakpoints.medium}) {\n    padding: ${space(3)} ${space(4)} ${space(3)};\n  }\n  & h3,\n  & h3 a {\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 1.2;\n    color: ${p => p.theme.gray300};\n  }\n  & h3 {\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 1.2;\n    padding: ${space(0.75)} 0;\n    margin-bottom: ${space(2)};\n    text-transform: uppercase;\n  }\n`;\n\nconst Header = styled('div')`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst Section = styled('div')`\n  border: 1px solid ${p => p.theme.innerBorder};\n  border-radius: ${p => p.theme.borderRadius};\n`;\n","import {useMemo} from 'react';\nimport styled from '@emotion/styled';\n\nimport CompactSelect from 'sentry/components/forms/compactSelect';\nimport {pickBarColor} from 'sentry/components/performance/waterfall/utils';\nimport {IconFilter} from 'sentry/icons';\nimport {t, tn} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport useOrganization from 'sentry/utils/useOrganization';\n\ntype NoFilter = {\n  type: 'no_filter';\n};\n\nexport type ActiveFilter = {\n  operationNames: Set<string>;\n  type: 'active_filter';\n};\n\nexport const noFilter: NoFilter = {\n  type: 'no_filter',\n};\n\nexport type ActiveOperationFilter = NoFilter | ActiveFilter;\n\ntype Props = {\n  operationNameCounts: Map<string, number>;\n  operationNameFilter: ActiveOperationFilter;\n  toggleOperationNameFilter: (operationName: string) => void;\n};\n\nfunction Filter({\n  operationNameCounts,\n  operationNameFilter,\n  toggleOperationNameFilter,\n}: Props) {\n  const organization = useOrganization();\n\n  const checkedQuantity =\n    operationNameFilter.type === 'no_filter'\n      ? 0\n      : operationNameFilter.operationNames.size;\n  const selectedOptions =\n    operationNameFilter.type === 'no_filter'\n      ? []\n      : [...operationNameFilter.operationNames.keys()];\n\n  // Memoize menuOptions to prevent CompactSelect from re-rendering every time\n  // the value changes\n  const menuOptions = useMemo(\n    () =>\n      [...operationNameCounts].map(([operationName, operationCount]) => ({\n        value: operationName,\n        label: operationName,\n        leadingItems: <OperationDot backgroundColor={pickBarColor(operationName)} />,\n        trailingItems: <OperationCount>{operationCount}</OperationCount>,\n      })),\n    [operationNameCounts]\n  );\n\n  function onChange(selectedOpts) {\n    const mappedValues = selectedOpts.map(opt => opt.value);\n\n    // Send a single analytics event if user clicked on the \"Clear\" button\n    if (selectedOpts.length === 0) {\n      trackAdvancedAnalyticsEvent('performance_views.event_details.filter_by_op', {\n        organization,\n        operation: 'ALL',\n      });\n    }\n\n    // Go through all the available operations, and toggle them on/off if needed\n    menuOptions.forEach(opt => {\n      const opepationAlreadySelected =\n        operationNameFilter.type !== 'no_filter' &&\n        operationNameFilter.operationNames.has(opt.value);\n      if (\n        // Operation has just been added to the filter list --> toggle on\n        (!opepationAlreadySelected && mappedValues.includes(opt.value)) ||\n        // Operation has just been removed to the filter list --> toggle off\n        (opepationAlreadySelected && !mappedValues.includes(opt.value))\n      ) {\n        toggleOperationNameFilter(opt.value);\n\n        // Don't send individual analytics events if user clicked on the \"Clear\" button\n        selectedOpts.length !== 0 &&\n          trackAdvancedAnalyticsEvent('performance_views.event_details.filter_by_op', {\n            organization,\n            operation: opt.label,\n          });\n      }\n    });\n  }\n\n  if (operationNameCounts.size === 0) {\n    return null;\n  }\n\n  return (\n    <CompactSelect\n      multiple\n      isClearable\n      maxMenuWidth=\"24rem\"\n      options={menuOptions}\n      onChange={onChange}\n      value={selectedOptions}\n      menuTitle={t('Filter by operation')}\n      triggerLabel={\n        checkedQuantity > 0\n          ? tn('%s Active Filter', '%s Active Filters', checkedQuantity)\n          : t('Filter')\n      }\n      triggerProps={{\n        icon: <IconFilter />,\n        priority: checkedQuantity > 0 ? 'primary' : 'default',\n        'data-test-id': 'operation-filter-dropdown-trigger',\n      }}\n    />\n  );\n}\n\nconst OperationDot = styled('div')<{backgroundColor: string}>`\n  display: block;\n  width: ${space(1)};\n  height: ${space(1)};\n  border-radius: 100%;\n\n  background-color: ${p => p.backgroundColor};\n`;\n\nconst OperationCount = styled('span')`\n  color: ${p => p.theme.subText};\n  font-variant-numeric: tabular-nums;\n`;\n\nexport function toggleFilter(\n  previousState: ActiveOperationFilter,\n  operationName: string\n): ActiveOperationFilter {\n  if (previousState.type === 'no_filter') {\n    return {\n      type: 'active_filter',\n      operationNames: new Set([operationName]),\n    };\n  }\n\n  // invariant: previousState.type === 'active_filter'\n  // invariant: previousState.operationNames.size >= 1\n\n  const {operationNames} = previousState;\n\n  if (operationNames.has(operationName)) {\n    operationNames.delete(operationName);\n  } else {\n    operationNames.add(operationName);\n  }\n\n  if (operationNames.size > 0) {\n    return {\n      type: 'active_filter',\n      operationNames,\n    };\n  }\n\n  return {\n    type: 'no_filter',\n  };\n}\n\nexport function toggleAllFilters(\n  previousState: ActiveOperationFilter,\n  operationNames: string[]\n): ActiveOperationFilter {\n  if (previousState.type === 'no_filter') {\n    return {\n      type: 'active_filter',\n      operationNames: new Set(operationNames),\n    };\n  }\n\n  // invariant: previousState.type === 'active_filter'\n\n  if (previousState.operationNames.size === operationNames.length) {\n    // all filters were selected, so the next state should un-select all filters\n    return {\n      type: 'no_filter',\n    };\n  }\n\n  // not all filters were selected, so the next state is to select all the remaining filters\n  return {\n    type: 'active_filter',\n    operationNames: new Set(operationNames),\n  };\n}\n\nexport default Filter;\n","import {PureComponent} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {withRouter, WithRouterProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Observer} from 'mobx-react';\n\nimport Alert from 'sentry/components/alert';\nimport GuideAnchor from 'sentry/components/assistant/guideAnchor';\nimport {Panel} from 'sentry/components/panels';\nimport SearchBar from 'sentry/components/searchBar';\nimport {t, tn} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization} from 'sentry/types';\nimport {EventTransaction} from 'sentry/types/event';\nimport {objectIsEmpty} from 'sentry/utils';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport {QuickTraceContext} from 'sentry/utils/performance/quickTrace/quickTraceContext';\nimport {TraceError} from 'sentry/utils/performance/quickTrace/types';\nimport withOrganization from 'sentry/utils/withOrganization';\n\nimport * as AnchorLinkManager from './anchorLinkManager';\nimport Filter from './filter';\nimport TraceErrorList from './traceErrorList';\nimport TraceView from './traceView';\nimport {FocusedSpanIDMap, ParsedTraceType} from './types';\nimport {getCumulativeAlertLevelFromErrors, parseTrace, scrollToSpan} from './utils';\nimport WaterfallModel from './waterfallModel';\n\ntype Props = {\n  event: EventTransaction;\n  organization: Organization;\n  focusedSpanIds?: FocusedSpanIDMap;\n} & WithRouterProps;\n\ntype State = {\n  parsedTrace: ParsedTraceType;\n  waterfallModel: WaterfallModel;\n};\n\nclass SpansInterface extends PureComponent<Props, State> {\n  state: State = {\n    parsedTrace: parseTrace(this.props.event),\n    waterfallModel: new WaterfallModel(this.props.event, this.props.focusedSpanIds),\n  };\n\n  static getDerivedStateFromProps(props: Readonly<Props>, state: State): State {\n    if (state.waterfallModel.isEvent(props.event)) {\n      return state;\n    }\n\n    return {\n      ...state,\n      parsedTrace: parseTrace(props.event),\n      waterfallModel: new WaterfallModel(props.event, props.focusedSpanIds),\n    };\n  }\n\n  handleSpanFilter = (searchQuery: string) => {\n    const {waterfallModel} = this.state;\n    const {organization} = this.props;\n    waterfallModel.querySpanSearch(searchQuery);\n\n    trackAdvancedAnalyticsEvent('performance_views.event_details.search_query', {\n      organization,\n    });\n  };\n\n  renderTraceErrorsAlert({\n    isLoading,\n    errors,\n    parsedTrace,\n  }: {\n    errors: TraceError[] | undefined;\n    isLoading: boolean;\n    parsedTrace: ParsedTraceType;\n  }) {\n    if (isLoading) {\n      return null;\n    }\n\n    if (!errors || errors.length <= 0) {\n      return null;\n    }\n\n    // This is intentional as unbalanced string formatters in `tn()` are problematic\n    const label =\n      errors.length === 1\n        ? t('There is an error event associated with this transaction event.')\n        : tn(\n            `There are %s error events associated with this transaction event.`,\n            `There are %s error events associated with this transaction event.`,\n            errors.length\n          );\n\n    return (\n      <AlertContainer>\n        <Alert type={getCumulativeAlertLevelFromErrors(errors)}>\n          <ErrorLabel>{label}</ErrorLabel>\n\n          <AnchorLinkManager.Consumer>\n            {({scrollToHash}) => (\n              <TraceErrorList\n                trace={parsedTrace}\n                errors={errors}\n                onClickSpan={(event, spanId) => {\n                  return scrollToSpan(\n                    spanId,\n                    scrollToHash,\n                    this.props.location,\n                    this.props.organization\n                  )(event);\n                }}\n              />\n            )}\n          </AnchorLinkManager.Consumer>\n        </Alert>\n      </AlertContainer>\n    );\n  }\n\n  render() {\n    const {event, organization} = this.props;\n    const {parsedTrace, waterfallModel} = this.state;\n\n    return (\n      <Container hasErrors={!objectIsEmpty(event.errors)}>\n        <QuickTraceContext.Consumer>\n          {quickTrace => (\n            <AnchorLinkManager.Provider>\n              {this.renderTraceErrorsAlert({\n                isLoading: quickTrace?.isLoading || false,\n                errors: quickTrace?.currentEvent?.errors,\n                parsedTrace,\n              })}\n              <Observer>\n                {() => {\n                  return (\n                    <Search>\n                      <Filter\n                        operationNameCounts={waterfallModel.operationNameCounts}\n                        operationNameFilter={waterfallModel.operationNameFilters}\n                        toggleOperationNameFilter={\n                          waterfallModel.toggleOperationNameFilter\n                        }\n                      />\n                      <StyledSearchBar\n                        defaultQuery=\"\"\n                        query={waterfallModel.searchQuery || ''}\n                        placeholder={t('Search for spans')}\n                        onSearch={this.handleSpanFilter}\n                      />\n                    </Search>\n                  );\n                }}\n              </Observer>\n              <Panel>\n                <Observer>\n                  {() => {\n                    return (\n                      <TraceView\n                        waterfallModel={waterfallModel}\n                        organization={organization}\n                      />\n                    );\n                  }}\n                </Observer>\n                <GuideAnchorWrapper>\n                  <GuideAnchor target=\"span_tree\" position=\"bottom\" />\n                </GuideAnchorWrapper>\n              </Panel>\n            </AnchorLinkManager.Provider>\n          )}\n        </QuickTraceContext.Consumer>\n      </Container>\n    );\n  }\n}\n\nconst GuideAnchorWrapper = styled('div')`\n  height: 0;\n  width: 0;\n  margin-left: 50%;\n`;\n\nconst Container = styled('div')<{hasErrors: boolean}>`\n  ${p =>\n    p.hasErrors &&\n    `\n  padding: ${space(2)} 0;\n\n  @media (min-width: ${p.theme.breakpoints.small}) {\n    padding: ${space(3)} 0 0 0;\n  }\n  `}\n`;\n\nconst Search = styled('div')`\n  display: grid;\n  gap: ${space(2)};\n  grid-template-columns: max-content 1fr;\n  width: 100%;\n  margin-bottom: ${space(2)};\n`;\n\nconst StyledSearchBar = styled(SearchBar)`\n  flex-grow: 1;\n`;\n\nconst AlertContainer = styled('div')`\n  margin-bottom: ${space(1)};\n`;\n\nconst ErrorLabel = styled('div')`\n  margin-bottom: ${space(1)};\n`;\n\nexport default withRouter(withOrganization(SpansInterface));\n","import 'intersection-observer'; // this is a polyfill\n\nimport {Component, createRef, Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport Count from 'sentry/components/count';\nimport {ROW_HEIGHT} from 'sentry/components/performance/waterfall/constants';\nimport {MessageRow} from 'sentry/components/performance/waterfall/messageRow';\nimport {\n  Row,\n  RowCell,\n  RowCellContainer,\n} from 'sentry/components/performance/waterfall/row';\nimport {DurationPill, RowRectangle} from 'sentry/components/performance/waterfall/rowBar';\nimport {\n  DividerContainer,\n  DividerLine,\n  DividerLineGhostContainer,\n  EmbeddedTransactionBadge,\n  ErrorBadge,\n} from 'sentry/components/performance/waterfall/rowDivider';\nimport {\n  RowTitle,\n  RowTitleContainer,\n  RowTitleContent,\n} from 'sentry/components/performance/waterfall/rowTitle';\nimport {\n  ConnectorBar,\n  TOGGLE_BORDER_BOX,\n  TreeConnector,\n  TreeToggle,\n  TreeToggleContainer,\n  TreeToggleIcon,\n} from 'sentry/components/performance/waterfall/treeConnector';\nimport {\n  getDurationDisplay,\n  getHumanDuration,\n  toPercent,\n} from 'sentry/components/performance/waterfall/utils';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconWarning} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization} from 'sentry/types';\nimport {EventTransaction} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport {generateEventSlug} from 'sentry/utils/discover/urls';\nimport {\n  QuickTraceContext,\n  QuickTraceContextChildrenProps,\n} from 'sentry/utils/performance/quickTrace/quickTraceContext';\nimport {QuickTraceEvent, TraceError} from 'sentry/utils/performance/quickTrace/types';\nimport {isTraceFull} from 'sentry/utils/performance/quickTrace/utils';\n\nimport * as AnchorLinkManager from './anchorLinkManager';\nimport {\n  MINIMAP_CONTAINER_HEIGHT,\n  MINIMAP_SPAN_BAR_HEIGHT,\n  NUM_OF_SPANS_FIT_IN_MINI_MAP,\n} from './constants';\nimport * as DividerHandlerManager from './dividerHandlerManager';\nimport SpanBarCursorGuide from './spanBarCursorGuide';\nimport SpanDetail from './spanDetail';\nimport {MeasurementMarker} from './styles';\nimport {\n  FetchEmbeddedChildrenState,\n  GroupType,\n  ParsedTraceType,\n  ProcessedSpanType,\n  SpanType,\n  TreeDepthType,\n} from './types';\nimport {\n  durationlessBrowserOps,\n  getMeasurementBounds,\n  getMeasurements,\n  getSpanID,\n  getSpanOperation,\n  isEventFromBrowserJavaScriptSDK,\n  isGapSpan,\n  isOrphanSpan,\n  isOrphanTreeDepth,\n  SpanBoundsType,\n  SpanGeneratedBoundsType,\n  spanTargetHash,\n  SpanViewBoundsType,\n  unwrapTreeDepth,\n} from './utils';\n\n// TODO: maybe use babel-plugin-preval\n// for (let i = 0; i <= 1.0; i += 0.01) {\n//   INTERSECTION_THRESHOLDS.push(i);\n// }\nconst INTERSECTION_THRESHOLDS: Array<number> = [\n  0, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12, 0.13, 0.14,\n  0.15, 0.16, 0.17, 0.18, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.28, 0.29,\n  0.3, 0.31, 0.32, 0.33, 0.34, 0.35, 0.36, 0.37, 0.38, 0.39, 0.4, 0.41, 0.42, 0.43, 0.44,\n  0.45, 0.46, 0.47, 0.48, 0.49, 0.5, 0.51, 0.52, 0.53, 0.54, 0.55, 0.56, 0.57, 0.58, 0.59,\n  0.6, 0.61, 0.62, 0.63, 0.64, 0.65, 0.66, 0.67, 0.68, 0.69, 0.7, 0.71, 0.72, 0.73, 0.74,\n  0.75, 0.76, 0.77, 0.78, 0.79, 0.8, 0.81, 0.82, 0.83, 0.84, 0.85, 0.86, 0.87, 0.88, 0.89,\n  0.9, 0.91, 0.92, 0.93, 0.94, 0.95, 0.96, 0.97, 0.98, 0.99, 1.0,\n];\n\nexport const MARGIN_LEFT = 0;\n\ntype SpanBarProps = {\n  continuingTreeDepths: Array<TreeDepthType>;\n  event: Readonly<EventTransaction>;\n  fetchEmbeddedChildrenState: FetchEmbeddedChildrenState;\n  generateBounds: (bounds: SpanBoundsType) => SpanGeneratedBoundsType;\n  generateContentSpanBarRef: () => (instance: HTMLDivElement | null) => void;\n  isEmbeddedTransactionTimeAdjusted: boolean;\n  markSpanInView: (spanId: string, treeDepth: number) => void;\n  markSpanOutOfView: (spanId: string) => void;\n  numOfSpanChildren: number;\n  numOfSpans: number;\n  onWheel: (deltaX: number) => void;\n  organization: Organization;\n  showEmbeddedChildren: boolean;\n  showSpanTree: boolean;\n  span: Readonly<ProcessedSpanType>;\n  spanNumber: number;\n  storeSpanBar: (spanBar: SpanBar) => void;\n  toggleEmbeddedChildren:\n    | ((props: {eventSlug: string; orgSlug: string}) => void)\n    | undefined;\n  toggleSpanGroup: (() => void) | undefined;\n  toggleSpanTree: () => void;\n  trace: Readonly<ParsedTraceType>;\n  treeDepth: number;\n  groupOccurrence?: number;\n  groupType?: GroupType;\n  isLast?: boolean;\n  isRoot?: boolean;\n  spanBarColor?: string;\n  spanBarHatch?: boolean;\n  toggleSiblingSpanGroup?: ((span: SpanType, occurrence: number) => void) | undefined;\n};\n\ntype SpanBarState = {\n  showDetail: boolean;\n};\n\nclass SpanBar extends Component<SpanBarProps, SpanBarState> {\n  state: SpanBarState = {\n    showDetail: false,\n  };\n\n  componentDidMount() {\n    this._mounted = true;\n    if (this.spanRowDOMRef.current) {\n      this.props.storeSpanBar(this);\n      this.connectObservers();\n    }\n\n    if (this.spanTitleRef.current) {\n      this.spanTitleRef.current.addEventListener('wheel', this.handleWheel, {\n        passive: false,\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n    this.disconnectObservers();\n\n    if (this.spanTitleRef.current) {\n      this.spanTitleRef.current.removeEventListener('wheel', this.handleWheel);\n    }\n\n    const {span} = this.props;\n    if ('type' in span) {\n      return;\n    }\n\n    this.props.markSpanOutOfView(span.span_id);\n  }\n\n  spanRowDOMRef = createRef<HTMLDivElement>();\n  spanTitleRef = createRef<HTMLDivElement>();\n  intersectionObserver?: IntersectionObserver = void 0;\n  zoomLevel: number = 1; // assume initial zoomLevel is 100%\n  _mounted: boolean = false;\n\n  handleWheel = (event: WheelEvent) => {\n    // https://stackoverflow.com/q/57358640\n    // https://github.com/facebook/react/issues/14856\n    if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n      return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (Math.abs(event.deltaY) === Math.abs(event.deltaX)) {\n      return;\n    }\n\n    const {onWheel} = this.props;\n    onWheel(event.deltaX);\n  };\n\n  toggleDisplayDetail = () => {\n    this.setState(state => ({\n      showDetail: !state.showDetail,\n    }));\n  };\n\n  scrollIntoView = () => {\n    const element = this.spanRowDOMRef.current;\n    if (!element) {\n      return;\n    }\n    const boundingRect = element.getBoundingClientRect();\n    // The extra 1 pixel is necessary so that the span is recognized as in view by the IntersectionObserver\n    const offset = boundingRect.top + window.scrollY - MINIMAP_CONTAINER_HEIGHT - 1;\n    this.setState({showDetail: true}, () => window.scrollTo(0, offset));\n  };\n\n  renderDetail({\n    isVisible,\n    transactions,\n    errors,\n  }: {\n    errors: TraceError[] | null;\n    isVisible: boolean;\n    transactions: QuickTraceEvent[] | null;\n  }) {\n    const {span, organization, isRoot, trace, event} = this.props;\n\n    return (\n      <AnchorLinkManager.Consumer>\n        {({registerScrollFn, scrollToHash}) => {\n          if (!isGapSpan(span)) {\n            registerScrollFn(spanTargetHash(span.span_id), this.scrollIntoView, false);\n          }\n\n          if (!this.state.showDetail || !isVisible) {\n            return null;\n          }\n\n          return (\n            <SpanDetail\n              span={span}\n              organization={organization}\n              event={event}\n              isRoot={!!isRoot}\n              trace={trace}\n              childTransactions={transactions}\n              relatedErrors={errors}\n              scrollToHash={scrollToHash}\n            />\n          );\n        }}\n      </AnchorLinkManager.Consumer>\n    );\n  }\n\n  getBounds(): SpanViewBoundsType {\n    const {event, span, generateBounds} = this.props;\n\n    const bounds = generateBounds({\n      startTimestamp: span.start_timestamp,\n      endTimestamp: span.timestamp,\n    });\n\n    const shouldHideSpanWarnings = isEventFromBrowserJavaScriptSDK(event);\n\n    switch (bounds.type) {\n      case 'TRACE_TIMESTAMPS_EQUAL': {\n        return {\n          warning: t('Trace times are equal'),\n          left: void 0,\n          width: void 0,\n          isSpanVisibleInView: bounds.isSpanVisibleInView,\n        };\n      }\n      case 'INVALID_VIEW_WINDOW': {\n        return {\n          warning: t('Invalid view window'),\n          left: void 0,\n          width: void 0,\n          isSpanVisibleInView: bounds.isSpanVisibleInView,\n        };\n      }\n      case 'TIMESTAMPS_EQUAL': {\n        const warning =\n          shouldHideSpanWarnings &&\n          'op' in span &&\n          span.op &&\n          durationlessBrowserOps.includes(span.op)\n            ? void 0\n            : t('Equal start and end times');\n        return {\n          warning,\n          left: bounds.start,\n          width: 0.00001,\n          isSpanVisibleInView: bounds.isSpanVisibleInView,\n        };\n      }\n      case 'TIMESTAMPS_REVERSED': {\n        return {\n          warning: t('Reversed start and end times'),\n          left: bounds.start,\n          width: bounds.end - bounds.start,\n          isSpanVisibleInView: bounds.isSpanVisibleInView,\n        };\n      }\n      case 'TIMESTAMPS_STABLE': {\n        return {\n          warning: void 0,\n          left: bounds.start,\n          width: bounds.end - bounds.start,\n          isSpanVisibleInView: bounds.isSpanVisibleInView,\n        };\n      }\n      default: {\n        const _exhaustiveCheck: never = bounds;\n        return _exhaustiveCheck;\n      }\n    }\n  }\n\n  renderMeasurements() {\n    const {event, generateBounds} = this.props;\n\n    if (this.state.showDetail) {\n      return null;\n    }\n\n    const measurements = getMeasurements(event, generateBounds);\n\n    return (\n      <Fragment>\n        {Array.from(measurements.values()).map(verticalMark => {\n          const mark = Object.values(verticalMark.marks)[0];\n          const {timestamp} = mark;\n          const bounds = getMeasurementBounds(timestamp, generateBounds);\n\n          const shouldDisplay = defined(bounds.left) && defined(bounds.width);\n\n          if (!shouldDisplay || !bounds.isSpanVisibleInView) {\n            return null;\n          }\n\n          return (\n            <MeasurementMarker\n              key={String(timestamp)}\n              style={{\n                left: `clamp(0%, ${toPercent(bounds.left || 0)}, calc(100% - 1px))`,\n              }}\n              failedThreshold={verticalMark.failedThreshold}\n            />\n          );\n        })}\n      </Fragment>\n    );\n  }\n\n  renderSpanTreeConnector({hasToggler}: {hasToggler: boolean}) {\n    const {\n      isLast,\n      isRoot,\n      treeDepth: spanTreeDepth,\n      continuingTreeDepths,\n      span,\n      showSpanTree,\n    } = this.props;\n\n    const spanID = getSpanID(span);\n\n    if (isRoot) {\n      if (hasToggler) {\n        return (\n          <ConnectorBar\n            style={{right: '15px', height: '10px', bottom: '-5px', top: 'auto'}}\n            key={`${spanID}-last`}\n            orphanBranch={false}\n          />\n        );\n      }\n\n      return null;\n    }\n\n    const connectorBars: Array<React.ReactNode> = continuingTreeDepths.map(treeDepth => {\n      const depth: number = unwrapTreeDepth(treeDepth);\n\n      if (depth === 0) {\n        // do not render a connector bar at depth 0,\n        // if we did render a connector bar, this bar would be placed at depth -1\n        // which does not exist.\n        return null;\n      }\n      const left = ((spanTreeDepth - depth) * (TOGGLE_BORDER_BOX / 2) + 2) * -1;\n\n      return (\n        <ConnectorBar\n          style={{left}}\n          key={`${spanID}-${depth}`}\n          orphanBranch={isOrphanTreeDepth(treeDepth)}\n        />\n      );\n    });\n\n    if (hasToggler && showSpanTree) {\n      // if there is a toggle button, we add a connector bar to create an attachment\n      // between the toggle button and any connector bars below the toggle button\n      connectorBars.push(\n        <ConnectorBar\n          style={{\n            right: '15px',\n            height: `${ROW_HEIGHT / 2}px`,\n            bottom: isLast ? `-${ROW_HEIGHT / 2 + 2}px` : '0',\n            top: 'auto',\n          }}\n          key={`${spanID}-last-bottom`}\n          orphanBranch={false}\n        />\n      );\n    }\n\n    return (\n      <TreeConnector\n        isLast={isLast}\n        hasToggler={hasToggler}\n        orphanBranch={isOrphanSpan(span)}\n      >\n        {connectorBars}\n      </TreeConnector>\n    );\n  }\n\n  renderSpanTreeToggler({left, errored}: {errored: boolean; left: number}) {\n    const {numOfSpanChildren, isRoot, showSpanTree} = this.props;\n\n    const chevron = <TreeToggleIcon direction={showSpanTree ? 'up' : 'down'} />;\n\n    if (numOfSpanChildren <= 0) {\n      return (\n        <TreeToggleContainer style={{left: `${left}px`}}>\n          {this.renderSpanTreeConnector({hasToggler: false})}\n        </TreeToggleContainer>\n      );\n    }\n\n    const chevronElement = !isRoot ? <div>{chevron}</div> : null;\n\n    return (\n      <TreeToggleContainer style={{left: `${left}px`}} hasToggler>\n        {this.renderSpanTreeConnector({hasToggler: true})}\n        <TreeToggle\n          disabled={!!isRoot}\n          isExpanded={showSpanTree}\n          errored={errored}\n          onClick={event => {\n            event.stopPropagation();\n\n            if (isRoot) {\n              return;\n            }\n\n            this.props.toggleSpanTree();\n          }}\n        >\n          <Count value={numOfSpanChildren} />\n          {chevronElement}\n        </TreeToggle>\n      </TreeToggleContainer>\n    );\n  }\n\n  renderTitle(errors: TraceError[] | null) {\n    const {generateContentSpanBarRef} = this.props;\n    const {\n      span,\n      treeDepth,\n      groupOccurrence,\n      toggleSpanGroup,\n      toggleSiblingSpanGroup,\n      groupType,\n    } = this.props;\n\n    let titleFragments: React.ReactNode[] = [];\n\n    if (\n      typeof toggleSpanGroup === 'function' ||\n      typeof toggleSiblingSpanGroup === 'function'\n    ) {\n      titleFragments.push(\n        <Regroup\n          onClick={event => {\n            event.stopPropagation();\n            event.preventDefault();\n            if (groupType === GroupType.SIBLINGS && 'op' in span) {\n              toggleSiblingSpanGroup?.(span, groupOccurrence ?? 0);\n            } else {\n              toggleSpanGroup && toggleSpanGroup();\n            }\n          }}\n        >\n          <a\n            href=\"#regroup\"\n            onClick={event => {\n              event.preventDefault();\n            }}\n          >\n            {t('Regroup')}\n          </a>\n        </Regroup>\n      );\n    }\n\n    const spanOperationName = getSpanOperation(span);\n    if (spanOperationName) {\n      titleFragments.push(spanOperationName);\n    }\n\n    titleFragments = titleFragments.flatMap(current => [current, ' \\u2014 ']);\n\n    const description = span?.description ?? getSpanID(span);\n\n    const left = treeDepth * (TOGGLE_BORDER_BOX / 2) + MARGIN_LEFT;\n    const errored = Boolean(errors && errors.length > 0);\n\n    return (\n      <RowTitleContainer\n        data-debug-id=\"SpanBarTitleContainer\"\n        ref={generateContentSpanBarRef()}\n      >\n        {this.renderSpanTreeToggler({left, errored})}\n        <RowTitle\n          style={{\n            left: `${left}px`,\n            width: '100%',\n          }}\n        >\n          <RowTitleContent errored={errored}>\n            <strong>{titleFragments}</strong>\n            {description}\n          </RowTitleContent>\n        </RowTitle>\n      </RowTitleContainer>\n    );\n  }\n\n  connectObservers() {\n    if (!this.spanRowDOMRef.current) {\n      return;\n    }\n\n    this.disconnectObservers();\n\n    /**\n\n    We track intersections events between the span bar's DOM element\n    and the viewport's (root) intersection area. the intersection area is sized to\n    exclude the minimap. See below.\n\n    By default, the intersection observer's root intersection is the viewport.\n    We adjust the margins of this root intersection area to exclude the minimap's\n    height. The minimap's height is always fixed.\n\n      VIEWPORT (ancestor element used for the intersection events)\n    +--+-------------------------+--+\n    |  |                         |  |\n    |  |       MINIMAP           |  |\n    |  |                         |  |\n    |  +-------------------------+  |  ^\n    |  |                         |  |  |\n    |  |       SPANS             |  |  | ROOT\n    |  |                         |  |  | INTERSECTION\n    |  |                         |  |  | OBSERVER\n    |  |                         |  |  | HEIGHT\n    |  |                         |  |  |\n    |  |                         |  |  |\n    |  |                         |  |  |\n    |  +-------------------------+  |  |\n    |                               |  |\n    +-------------------------------+  v\n\n     */\n\n    this.intersectionObserver = new IntersectionObserver(\n      entries =>\n        entries.forEach(entry => {\n          if (!this._mounted) {\n            return;\n          }\n\n          const shouldMoveMinimap = this.props.numOfSpans > NUM_OF_SPANS_FIT_IN_MINI_MAP;\n\n          if (!shouldMoveMinimap) {\n            return;\n          }\n          const spanNumber = this.props.spanNumber;\n\n          const minimapSlider = document.getElementById('minimap-background-slider');\n\n          if (!minimapSlider) {\n            return;\n          }\n\n          // NOTE: THIS IS HACKY.\n          //\n          // IntersectionObserver.rootMargin is un-affected by the browser's zoom level.\n          // The margins of the intersection area needs to be adjusted.\n          // Thus, IntersectionObserverEntry.rootBounds may not be what we expect.\n          //\n          // We address this below.\n          //\n          // Note that this function was called whenever an intersection event occurred wrt\n          // the thresholds.\n          //\n          if (entry.rootBounds) {\n            // After we create the IntersectionObserver instance with rootMargin set as:\n            // -${MINIMAP_CONTAINER_HEIGHT * this.zoomLevel}px 0px 0px 0px\n            //\n            // we can introspect the rootBounds to infer the zoomlevel.\n            //\n            // we always expect entry.rootBounds.top to equal MINIMAP_CONTAINER_HEIGHT\n\n            const actualRootTop = Math.ceil(entry.rootBounds.top);\n\n            if (actualRootTop !== MINIMAP_CONTAINER_HEIGHT && actualRootTop > 0) {\n              // we revert the actualRootTop value by the current zoomLevel factor\n              const normalizedActualTop = actualRootTop / this.zoomLevel;\n\n              const zoomLevel = MINIMAP_CONTAINER_HEIGHT / normalizedActualTop;\n              this.zoomLevel = zoomLevel;\n\n              // we reconnect the observers; the callback functions may be invoked\n              this.connectObservers();\n\n              // NOTE: since we cannot guarantee that the callback function is invoked on\n              //       the newly connected observers, we continue running this function.\n            }\n          }\n\n          // root refers to the root intersection rectangle used for the IntersectionObserver\n          const rectRelativeToRoot = entry.boundingClientRect as DOMRect;\n\n          const bottomYCoord = rectRelativeToRoot.y + rectRelativeToRoot.height;\n\n          // refers to if the rect is out of view from the viewport\n          const isOutOfViewAbove = rectRelativeToRoot.y < 0 && bottomYCoord < 0;\n\n          if (isOutOfViewAbove) {\n            return;\n          }\n\n          const relativeToMinimap = {\n            top: rectRelativeToRoot.y - MINIMAP_CONTAINER_HEIGHT,\n            bottom: bottomYCoord - MINIMAP_CONTAINER_HEIGHT,\n          };\n\n          const rectBelowMinimap =\n            relativeToMinimap.top > 0 && relativeToMinimap.bottom > 0;\n\n          if (rectBelowMinimap) {\n            const {span, treeDepth} = this.props;\n            if ('type' in span) {\n              return;\n            }\n\n            // If isIntersecting is false, this means the span is out of view below the viewport\n            if (!entry.isIntersecting) {\n              this.props.markSpanOutOfView(span.span_id);\n            } else {\n              this.props.markSpanInView(span.span_id, treeDepth);\n            }\n\n            // if the first span is below the minimap, we scroll the minimap\n            // to the top. this addresses spurious scrolling to the top of the page\n            if (spanNumber <= 1) {\n              minimapSlider.style.top = '0px';\n              return;\n            }\n            return;\n          }\n\n          const inAndAboveMinimap = relativeToMinimap.bottom <= 0;\n\n          if (inAndAboveMinimap) {\n            const {span} = this.props;\n            if ('type' in span) {\n              return;\n            }\n\n            this.props.markSpanOutOfView(span.span_id);\n\n            return;\n          }\n\n          // invariant: spanNumber >= 1\n\n          const numberOfMovedSpans = spanNumber - 1;\n          const totalHeightOfHiddenSpans = numberOfMovedSpans * MINIMAP_SPAN_BAR_HEIGHT;\n          const currentSpanHiddenRatio = 1 - entry.intersectionRatio;\n\n          const panYPixels =\n            totalHeightOfHiddenSpans + currentSpanHiddenRatio * MINIMAP_SPAN_BAR_HEIGHT;\n\n          // invariant: this.props.numOfSpans - spanNumberToStopMoving + 1 = NUM_OF_SPANS_FIT_IN_MINI_MAP\n\n          const spanNumberToStopMoving =\n            this.props.numOfSpans + 1 - NUM_OF_SPANS_FIT_IN_MINI_MAP;\n\n          if (spanNumber > spanNumberToStopMoving) {\n            // if the last span bar appears on the minimap, we do not want the minimap\n            // to keep panning upwards\n            minimapSlider.style.top = `-${\n              spanNumberToStopMoving * MINIMAP_SPAN_BAR_HEIGHT\n            }px`;\n            return;\n          }\n\n          minimapSlider.style.top = `-${panYPixels}px`;\n        }),\n      {\n        threshold: INTERSECTION_THRESHOLDS,\n        rootMargin: `-${MINIMAP_CONTAINER_HEIGHT * this.zoomLevel}px 0px 0px 0px`,\n      }\n    );\n\n    this.intersectionObserver.observe(this.spanRowDOMRef.current);\n  }\n\n  disconnectObservers() {\n    if (this.intersectionObserver) {\n      this.intersectionObserver.disconnect();\n    }\n  }\n\n  renderDivider(\n    dividerHandlerChildrenProps: DividerHandlerManager.DividerHandlerManagerChildrenProps\n  ) {\n    if (this.state.showDetail) {\n      // Mock component to preserve layout spacing\n      return (\n        <DividerLine\n          showDetail\n          style={{\n            position: 'absolute',\n          }}\n        />\n      );\n    }\n\n    const {addDividerLineRef} = dividerHandlerChildrenProps;\n\n    return (\n      <DividerLine\n        ref={addDividerLineRef()}\n        style={{\n          position: 'absolute',\n        }}\n        onMouseEnter={() => {\n          dividerHandlerChildrenProps.setHover(true);\n        }}\n        onMouseLeave={() => {\n          dividerHandlerChildrenProps.setHover(false);\n        }}\n        onMouseOver={() => {\n          dividerHandlerChildrenProps.setHover(true);\n        }}\n        onMouseDown={dividerHandlerChildrenProps.onDragStart}\n        onClick={event => {\n          // we prevent the propagation of the clicks from this component to prevent\n          // the span detail from being opened.\n          event.stopPropagation();\n        }}\n      />\n    );\n  }\n\n  getRelatedErrors(quickTrace: QuickTraceContextChildrenProps): TraceError[] | null {\n    if (!quickTrace) {\n      return null;\n    }\n\n    const {span} = this.props;\n    const {currentEvent} = quickTrace;\n\n    if (isGapSpan(span) || !currentEvent || !isTraceFull(currentEvent)) {\n      return null;\n    }\n\n    return currentEvent.errors.filter(error => error.span === span.span_id);\n  }\n\n  getChildTransactions(\n    quickTrace: QuickTraceContextChildrenProps\n  ): QuickTraceEvent[] | null {\n    if (!quickTrace) {\n      return null;\n    }\n\n    const {span} = this.props;\n    const {trace} = quickTrace;\n\n    if (isGapSpan(span) || !trace) {\n      return null;\n    }\n\n    return trace.filter(({parent_span_id}) => parent_span_id === span.span_id);\n  }\n\n  renderErrorBadge(errors: TraceError[] | null): React.ReactNode {\n    return errors?.length ? <ErrorBadge /> : null;\n  }\n\n  renderEmbeddedTransactionsBadge(\n    transactions: QuickTraceEvent[] | null\n  ): React.ReactNode {\n    const {toggleEmbeddedChildren, organization, showEmbeddedChildren} = this.props;\n\n    if (!organization.features.includes('unified-span-view')) {\n      return null;\n    }\n\n    if (transactions && transactions.length === 1) {\n      const transaction = transactions[0];\n      return (\n        <Tooltip\n          title={\n            <span>\n              {showEmbeddedChildren\n                ? t('This span is showing a direct child. Remove transaction to hide')\n                : t('This span has a direct child. Add transaction to view')}\n            </span>\n          }\n          position=\"top\"\n          containerDisplayMode=\"block\"\n        >\n          <EmbeddedTransactionBadge\n            expanded={showEmbeddedChildren}\n            onClick={() => {\n              if (toggleEmbeddedChildren) {\n                const eventKey = showEmbeddedChildren\n                  ? 'span_view.embedded_child.hide'\n                  : 'span_view.embedded_child.show';\n                trackAdvancedAnalyticsEvent(eventKey, {organization});\n\n                toggleEmbeddedChildren({\n                  orgSlug: organization.slug,\n                  eventSlug: generateEventSlug({\n                    id: transaction.event_id,\n                    project: transaction.project_slug,\n                  }),\n                });\n              }\n            }}\n          />\n        </Tooltip>\n      );\n    }\n    return null;\n  }\n\n  renderWarningText() {\n    let warningText = this.getBounds().warning;\n\n    if (this.props.isEmbeddedTransactionTimeAdjusted) {\n      const embeddedWarningText = t(\n        'All child span timestamps have been adjusted to account for mismatched client and server clocks.'\n      );\n\n      warningText = warningText\n        ? `${warningText}. ${embeddedWarningText}`\n        : embeddedWarningText;\n    }\n\n    if (!warningText) {\n      return null;\n    }\n\n    return (\n      <Tooltip containerDisplayMode=\"flex\" title={warningText}>\n        <StyledIconWarning size=\"xs\" />\n      </Tooltip>\n    );\n  }\n\n  renderHeader({\n    dividerHandlerChildrenProps,\n    errors,\n    transactions,\n  }: {\n    dividerHandlerChildrenProps: DividerHandlerManager.DividerHandlerManagerChildrenProps;\n    errors: TraceError[] | null;\n    transactions: QuickTraceEvent[] | null;\n  }) {\n    const {span, spanBarColor, spanBarHatch, spanNumber} = this.props;\n    const startTimestamp: number = span.start_timestamp;\n    const endTimestamp: number = span.timestamp;\n    const duration = Math.abs(endTimestamp - startTimestamp);\n    const durationString = getHumanDuration(duration);\n    const bounds = this.getBounds();\n    const {dividerPosition, addGhostDividerLineRef} = dividerHandlerChildrenProps;\n    const displaySpanBar = defined(bounds.left) && defined(bounds.width);\n    const durationDisplay = getDurationDisplay(bounds);\n\n    return (\n      <RowCellContainer showDetail={this.state.showDetail}>\n        <RowCell\n          data-type=\"span-row-cell\"\n          showDetail={this.state.showDetail}\n          style={{\n            width: `calc(${toPercent(dividerPosition)} - 0.5px)`,\n            paddingTop: 0,\n          }}\n          onClick={() => {\n            this.toggleDisplayDetail();\n          }}\n          ref={this.spanTitleRef}\n        >\n          {this.renderTitle(errors)}\n        </RowCell>\n        <DividerContainer>\n          {this.renderDivider(dividerHandlerChildrenProps)}\n          {this.renderErrorBadge(errors)}\n          {this.renderEmbeddedTransactionsBadge(transactions)}\n        </DividerContainer>\n        <RowCell\n          data-type=\"span-row-cell\"\n          showDetail={this.state.showDetail}\n          showStriping={spanNumber % 2 !== 0}\n          style={{\n            width: `calc(${toPercent(1 - dividerPosition)} - 0.5px)`,\n          }}\n          onClick={() => {\n            this.toggleDisplayDetail();\n          }}\n        >\n          {displaySpanBar && (\n            <RowRectangle\n              spanBarHatch={!!spanBarHatch}\n              style={{\n                backgroundColor: spanBarColor,\n                left: `min(${toPercent(bounds.left || 0)}, calc(100% - 1px))`,\n                width: toPercent(bounds.width || 0),\n              }}\n            >\n              <DurationPill\n                durationDisplay={durationDisplay}\n                showDetail={this.state.showDetail}\n                spanBarHatch={!!spanBarHatch}\n              >\n                {durationString}\n                {this.renderWarningText()}\n              </DurationPill>\n            </RowRectangle>\n          )}\n          {this.renderMeasurements()}\n          <SpanBarCursorGuide />\n        </RowCell>\n        {!this.state.showDetail && (\n          <DividerLineGhostContainer\n            style={{\n              width: `calc(${toPercent(dividerPosition)} + 0.5px)`,\n              display: 'none',\n            }}\n          >\n            <DividerLine\n              ref={addGhostDividerLineRef()}\n              style={{\n                right: 0,\n              }}\n              className=\"hovering\"\n              onClick={event => {\n                // the ghost divider line should not be interactive.\n                // we prevent the propagation of the clicks from this component to prevent\n                // the span detail from being opened.\n                event.stopPropagation();\n              }}\n            />\n          </DividerLineGhostContainer>\n        )}\n      </RowCellContainer>\n    );\n  }\n\n  renderEmbeddedChildrenState() {\n    const {fetchEmbeddedChildrenState} = this.props;\n\n    switch (fetchEmbeddedChildrenState) {\n      case 'loading_embedded_transactions': {\n        return (\n          <MessageRow>\n            <span>{t('Loading embedded transaction')}</span>\n          </MessageRow>\n        );\n      }\n      case 'error_fetching_embedded_transactions': {\n        return (\n          <MessageRow>\n            <span>{t('Error loading embedded transaction')}</span>\n          </MessageRow>\n        );\n      }\n      default:\n        return null;\n    }\n  }\n\n  render() {\n    const {spanNumber} = this.props;\n    const bounds = this.getBounds();\n    const {isSpanVisibleInView} = bounds;\n\n    return (\n      <Fragment>\n        <Row\n          ref={this.spanRowDOMRef}\n          visible={isSpanVisibleInView}\n          showBorder={this.state.showDetail}\n          data-test-id={`span-row-${spanNumber}`}\n        >\n          <QuickTraceContext.Consumer>\n            {quickTrace => {\n              const errors = this.getRelatedErrors(quickTrace);\n              const transactions = this.getChildTransactions(quickTrace);\n              return (\n                <Fragment>\n                  <DividerHandlerManager.Consumer>\n                    {(\n                      dividerHandlerChildrenProps: DividerHandlerManager.DividerHandlerManagerChildrenProps\n                    ) =>\n                      this.renderHeader({\n                        dividerHandlerChildrenProps,\n                        errors,\n                        transactions,\n                      })\n                    }\n                  </DividerHandlerManager.Consumer>\n\n                  {this.renderDetail({\n                    isVisible: isSpanVisibleInView,\n                    transactions,\n                    errors,\n                  })}\n                </Fragment>\n              );\n            }}\n          </QuickTraceContext.Consumer>\n        </Row>\n        {this.renderEmbeddedChildrenState()}\n      </Fragment>\n    );\n  }\n}\n\nconst StyledIconWarning = styled(IconWarning)`\n  margin-left: ${space(0.25)};\n  margin-bottom: ${space(0.25)};\n`;\n\nconst Regroup = styled('span')``;\n\nexport default SpanBar;\n","import styled from '@emotion/styled';\n\nimport {toPercent} from 'sentry/components/performance/waterfall/utils';\n\nimport * as CursorGuideHandler from './cursorGuideHandler';\n\nfunction SpanBarCursorGuide() {\n  return (\n    <CursorGuideHandler.Consumer>\n      {({\n        showCursorGuide,\n        traceViewMouseLeft,\n      }: {\n        showCursorGuide: boolean;\n        traceViewMouseLeft: number | undefined;\n      }) => {\n        if (!showCursorGuide || !traceViewMouseLeft) {\n          return null;\n        }\n\n        return (\n          <CursorGuide\n            style={{\n              left: toPercent(traceViewMouseLeft),\n            }}\n          />\n        );\n      }}\n    </CursorGuideHandler.Consumer>\n  );\n}\n\nconst CursorGuide = styled('div')`\n  position: absolute;\n  top: 0;\n  width: 1px;\n  background-color: ${p => p.theme.red300};\n  transform: translateX(-50%);\n  height: 100%;\n`;\n\nexport default SpanBarCursorGuide;\n","import countBy from 'lodash/countBy';\n\nimport {ROW_HEIGHT} from 'sentry/components/performance/waterfall/constants';\nimport {DurationPill, RowRectangle} from 'sentry/components/performance/waterfall/rowBar';\nimport {\n  ConnectorBar,\n  TOGGLE_BORDER_BOX,\n  TreeConnector,\n} from 'sentry/components/performance/waterfall/treeConnector';\nimport {\n  getDurationDisplay,\n  getHumanDuration,\n  toPercent,\n} from 'sentry/components/performance/waterfall/utils';\nimport {t} from 'sentry/locale';\nimport {EventTransaction} from 'sentry/types/event';\nimport theme from 'sentry/utils/theme';\n\nimport {SpanGroupBar} from './spanGroupBar';\nimport {EnhancedSpan, ProcessedSpanType, TreeDepthType} from './types';\nimport {\n  getSpanGroupBounds,\n  getSpanGroupTimestamps,\n  getSpanOperation,\n  isOrphanSpan,\n  isOrphanTreeDepth,\n  SpanBoundsType,\n  SpanGeneratedBoundsType,\n  unwrapTreeDepth,\n} from './utils';\n\ntype Props = {\n  continuingTreeDepths: Array<TreeDepthType>;\n  event: Readonly<EventTransaction>;\n  generateBounds: (bounds: SpanBoundsType) => SpanGeneratedBoundsType;\n  generateContentSpanBarRef: () => (instance: HTMLDivElement | null) => void;\n  onWheel: (deltaX: number) => void;\n  span: Readonly<ProcessedSpanType>;\n  spanGrouping: EnhancedSpan[];\n  spanNumber: number;\n  toggleSpanGroup: () => void;\n  treeDepth: number;\n};\n\nexport function SpanDescendantGroupBar(props: Props) {\n  const {\n    continuingTreeDepths,\n    event,\n    generateBounds,\n    span,\n    spanGrouping,\n    spanNumber,\n    toggleSpanGroup,\n    onWheel,\n    generateContentSpanBarRef,\n  } = props;\n\n  function renderGroupSpansTitle() {\n    if (spanGrouping.length === 0) {\n      return '';\n    }\n\n    const operationCounts = countBy(spanGrouping, enhancedSpan =>\n      getSpanOperation(enhancedSpan.span)\n    );\n\n    const hasOthers = Object.keys(operationCounts).length > 1;\n\n    const [mostFrequentOperationName] = Object.entries(operationCounts).reduce(\n      (acc, [operationNameKey, count]) => {\n        if (count > acc[1]) {\n          return [operationNameKey, count];\n        }\n        return acc;\n      }\n    );\n\n    return (\n      <strong>{`${t('Autogrouped ')}\\u2014 ${mostFrequentOperationName}${\n        hasOthers ? t(' and more') : ''\n      }`}</strong>\n    );\n  }\n\n  function renderSpanTreeConnector() {\n    const {treeDepth: spanTreeDepth} = props;\n\n    const connectorBars: Array<React.ReactNode> = continuingTreeDepths.map(treeDepth => {\n      const depth: number = unwrapTreeDepth(treeDepth);\n\n      if (depth === 0) {\n        // do not render a connector bar at depth 0,\n        // if we did render a connector bar, this bar would be placed at depth -1\n        // which does not exist.\n        return null;\n      }\n      const left = ((spanTreeDepth - depth) * (TOGGLE_BORDER_BOX / 2) + 2) * -1;\n\n      return (\n        <ConnectorBar\n          style={{left}}\n          key={`span-group-${depth}`}\n          orphanBranch={isOrphanTreeDepth(treeDepth)}\n        />\n      );\n    });\n\n    connectorBars.push(\n      <ConnectorBar\n        style={{\n          right: '15px',\n          height: `${ROW_HEIGHT / 2}px`,\n          bottom: `-${ROW_HEIGHT / 2 + 1}px`,\n          top: 'auto',\n        }}\n        key=\"collapsed-span-group-row-bottom\"\n        orphanBranch={false}\n      />\n    );\n\n    return (\n      <TreeConnector isLast hasToggler orphanBranch={isOrphanSpan(span)}>\n        {connectorBars}\n      </TreeConnector>\n    );\n  }\n\n  function renderSpanRectangles() {\n    const bounds = getSpanGroupBounds(spanGrouping, generateBounds);\n    const durationDisplay = getDurationDisplay(bounds);\n    const {startTimestamp, endTimestamp} = getSpanGroupTimestamps(spanGrouping);\n    const duration = Math.abs(endTimestamp - startTimestamp);\n    const durationString = getHumanDuration(duration);\n\n    return (\n      <RowRectangle\n        spanBarHatch={false}\n        style={{\n          backgroundColor: theme.blue300,\n          left: `min(${toPercent(bounds.left || 0)}, calc(100% - 1px))`,\n          width: toPercent(bounds.width || 0),\n        }}\n      >\n        <DurationPill\n          durationDisplay={durationDisplay}\n          showDetail={false}\n          spanBarHatch={false}\n        >\n          {durationString}\n        </DurationPill>\n      </RowRectangle>\n    );\n  }\n\n  return (\n    <SpanGroupBar\n      data-test-id=\"span-descendant-group-bar\"\n      event={event}\n      span={span}\n      spanGrouping={spanGrouping}\n      treeDepth={props.treeDepth}\n      spanNumber={spanNumber}\n      generateBounds={generateBounds}\n      toggleSpanGroup={toggleSpanGroup}\n      renderSpanTreeConnector={renderSpanTreeConnector}\n      renderGroupSpansTitle={renderGroupSpansTitle}\n      renderSpanRectangles={renderSpanRectangles}\n      onWheel={onWheel}\n      generateContentSpanBarRef={generateContentSpanBarRef}\n    />\n  );\n}\n","import {Fragment, LegacyRef, useEffect, useRef} from 'react';\n\nimport Count from 'sentry/components/count';\nimport {\n  Row,\n  RowCell,\n  RowCellContainer,\n} from 'sentry/components/performance/waterfall/row';\nimport {\n  DividerContainer,\n  DividerLine,\n  DividerLineGhostContainer,\n} from 'sentry/components/performance/waterfall/rowDivider';\nimport {\n  RowTitle,\n  RowTitleContainer,\n  SpanGroupRowTitleContent,\n} from 'sentry/components/performance/waterfall/rowTitle';\nimport {\n  TOGGLE_BORDER_BOX,\n  TreeToggle,\n  TreeToggleContainer,\n} from 'sentry/components/performance/waterfall/treeConnector';\nimport {toPercent} from 'sentry/components/performance/waterfall/utils';\nimport {EventTransaction} from 'sentry/types/event';\nimport {defined} from 'sentry/utils';\n\nimport * as AnchorLinkManager from './anchorLinkManager';\nimport * as DividerHandlerManager from './dividerHandlerManager';\nimport SpanBarCursorGuide from './spanBarCursorGuide';\nimport {MeasurementMarker} from './styles';\nimport {EnhancedSpan, ProcessedSpanType} from './types';\nimport {\n  getMeasurementBounds,\n  getMeasurements,\n  SpanBoundsType,\n  SpanGeneratedBoundsType,\n  spanTargetHash,\n} from './utils';\n\nconst MARGIN_LEFT = 0;\n\ntype Props = {\n  event: Readonly<EventTransaction>;\n  generateBounds: (bounds: SpanBoundsType) => SpanGeneratedBoundsType;\n  generateContentSpanBarRef: () => (instance: HTMLDivElement | null) => void;\n  onWheel: (deltaX: number) => void;\n  renderGroupSpansTitle: () => React.ReactNode;\n  renderSpanRectangles: () => React.ReactNode;\n  renderSpanTreeConnector: () => React.ReactNode;\n  span: Readonly<ProcessedSpanType>;\n  spanGrouping: EnhancedSpan[];\n  spanNumber: number;\n  toggleSpanGroup: () => void;\n  treeDepth: number;\n};\n\nfunction renderGroupedSpansToggler(props: Props) {\n  const {treeDepth, spanGrouping, renderSpanTreeConnector, toggleSpanGroup} = props;\n\n  const left = treeDepth * (TOGGLE_BORDER_BOX / 2) + MARGIN_LEFT;\n\n  return (\n    <TreeToggleContainer style={{left: `${left}px`}} hasToggler>\n      {renderSpanTreeConnector()}\n      <TreeToggle\n        disabled={false}\n        isExpanded={false}\n        errored={false}\n        isSpanGroupToggler\n        onClick={event => {\n          event.stopPropagation();\n          toggleSpanGroup();\n        }}\n      >\n        <Count value={spanGrouping.length} />\n      </TreeToggle>\n    </TreeToggleContainer>\n  );\n}\n\nfunction renderDivider(\n  dividerHandlerChildrenProps: DividerHandlerManager.DividerHandlerManagerChildrenProps\n) {\n  const {addDividerLineRef} = dividerHandlerChildrenProps;\n\n  return (\n    <DividerLine\n      ref={addDividerLineRef()}\n      style={{\n        position: 'absolute',\n      }}\n      onMouseEnter={() => {\n        dividerHandlerChildrenProps.setHover(true);\n      }}\n      onMouseLeave={() => {\n        dividerHandlerChildrenProps.setHover(false);\n      }}\n      onMouseOver={() => {\n        dividerHandlerChildrenProps.setHover(true);\n      }}\n      onMouseDown={dividerHandlerChildrenProps.onDragStart}\n      onClick={event => {\n        // we prevent the propagation of the clicks from this component to prevent\n        // the span detail from being opened.\n        event.stopPropagation();\n      }}\n    />\n  );\n}\n\nfunction renderMeasurements(\n  event: Readonly<EventTransaction>,\n  generateBounds: (bounds: SpanBoundsType) => SpanGeneratedBoundsType\n) {\n  const measurements = getMeasurements(event, generateBounds);\n\n  return (\n    <Fragment>\n      {Array.from(measurements).map(([timestamp, verticalMark]) => {\n        const bounds = getMeasurementBounds(timestamp, generateBounds);\n\n        const shouldDisplay = defined(bounds.left) && defined(bounds.width);\n\n        if (!shouldDisplay || !bounds.isSpanVisibleInView) {\n          return null;\n        }\n\n        return (\n          <MeasurementMarker\n            key={String(timestamp)}\n            style={{\n              left: `clamp(0%, ${toPercent(bounds.left || 0)}, calc(100% - 1px))`,\n            }}\n            failedThreshold={verticalMark.failedThreshold}\n          />\n        );\n      })}\n    </Fragment>\n  );\n}\n\nexport function SpanGroupBar(props: Props) {\n  const spanTitleRef: LegacyRef<HTMLDivElement> | null = useRef(null);\n  const {onWheel} = props;\n\n  useEffect(() => {\n    const currentRef = spanTitleRef.current;\n    const handleWheel = (event: WheelEvent) => {\n      if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n        return;\n      }\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (Math.abs(event.deltaY) === Math.abs(event.deltaX)) {\n        return;\n      }\n\n      onWheel(event.deltaX);\n    };\n\n    if (currentRef) {\n      currentRef.addEventListener('wheel', handleWheel, {\n        passive: false,\n      });\n    }\n\n    return () => {\n      if (currentRef) {\n        currentRef.removeEventListener('wheel', handleWheel);\n      }\n    };\n  }, [onWheel]);\n\n  return (\n    <DividerHandlerManager.Consumer>\n      {(\n        dividerHandlerChildrenProps: DividerHandlerManager.DividerHandlerManagerChildrenProps\n      ) => {\n        const {\n          generateBounds,\n          toggleSpanGroup,\n          span,\n          treeDepth,\n          spanNumber,\n          event,\n          spanGrouping,\n        } = props;\n\n        const {isSpanVisibleInView: isSpanVisible} = generateBounds({\n          startTimestamp: span.start_timestamp,\n          endTimestamp: span.timestamp,\n        });\n\n        const {dividerPosition, addGhostDividerLineRef} = dividerHandlerChildrenProps;\n        const {generateContentSpanBarRef} = props;\n        const left = treeDepth * (TOGGLE_BORDER_BOX / 2) + MARGIN_LEFT;\n\n        return (\n          <AnchorLinkManager.Consumer>\n            {({registerScrollFn}) => {\n              spanGrouping.forEach(spanObj => {\n                registerScrollFn(\n                  spanTargetHash(spanObj.span.span_id),\n                  toggleSpanGroup,\n                  true\n                );\n              });\n              return (\n                <Row\n                  visible={isSpanVisible}\n                  showBorder={false}\n                  data-test-id={`span-row-${spanNumber}`}\n                >\n                  <RowCellContainer>\n                    <RowCell\n                      data-type=\"span-row-cell\"\n                      style={{\n                        width: `calc(${toPercent(dividerPosition)} - 0.5px)`,\n                        paddingTop: 0,\n                      }}\n                      onClick={() => props.toggleSpanGroup()}\n                      ref={spanTitleRef}\n                    >\n                      <RowTitleContainer ref={generateContentSpanBarRef()}>\n                        {renderGroupedSpansToggler(props)}\n                        <RowTitle\n                          style={{\n                            left: `${left}px`,\n                            width: '100%',\n                          }}\n                        >\n                          <SpanGroupRowTitleContent>\n                            {props.renderGroupSpansTitle()}\n                          </SpanGroupRowTitleContent>\n                        </RowTitle>\n                      </RowTitleContainer>\n                    </RowCell>\n                    <DividerContainer>\n                      {renderDivider(dividerHandlerChildrenProps)}\n                    </DividerContainer>\n                    <RowCell\n                      data-type=\"span-row-cell\"\n                      showStriping={spanNumber % 2 !== 0}\n                      style={{\n                        width: `calc(${toPercent(1 - dividerPosition)} - 0.5px)`,\n                      }}\n                      onClick={() => props.toggleSpanGroup()}\n                    >\n                      {props.renderSpanRectangles()}\n                      {renderMeasurements(event, generateBounds)}\n                      <SpanBarCursorGuide />\n                    </RowCell>\n                    <DividerLineGhostContainer\n                      style={{\n                        width: `calc(${toPercent(dividerPosition)} + 0.5px)`,\n                        display: 'none',\n                      }}\n                    >\n                      <DividerLine\n                        ref={addGhostDividerLineRef()}\n                        style={{\n                          right: 0,\n                        }}\n                        className=\"hovering\"\n                        onClick={e => {\n                          // the ghost divider line should not be interactive.\n                          // we prevent the propagation of the clicks from this component to prevent\n                          // the span detail from being opened.\n                          e.stopPropagation();\n                        }}\n                      />\n                    </DividerLineGhostContainer>\n                  </RowCellContainer>\n                </Row>\n              );\n            }}\n          </AnchorLinkManager.Consumer>\n        );\n      }}\n    </DividerHandlerManager.Consumer>\n  );\n}\n","import {RowRectangle} from 'sentry/components/performance/waterfall/rowBar';\nimport {toPercent} from 'sentry/components/performance/waterfall/utils';\nimport theme from 'sentry/utils/theme';\n\nimport {EnhancedSpan} from './types';\nimport {SpanViewBoundsType} from './utils';\n\nexport default function SpanRectangle({\n  bounds,\n}: {\n  bounds: SpanViewBoundsType;\n  spanGrouping: EnhancedSpan[];\n}) {\n  return (\n    <RowRectangle\n      spanBarHatch={false}\n      style={{\n        backgroundColor: theme.blue300,\n        left: `min(${toPercent(bounds.left || 0)}, calc(100% - 1px))`,\n        width: toPercent(bounds.width || 0),\n      }}\n    />\n  );\n}\n","import {DurationPill, RowRectangle} from 'sentry/components/performance/waterfall/rowBar';\nimport {\n  getDurationDisplay,\n  getHumanDuration,\n  toPercent,\n} from 'sentry/components/performance/waterfall/utils';\n\nimport {EnhancedSpan} from './types';\nimport {getSpanGroupTimestamps, SpanViewBoundsType} from './utils';\n\nexport function SpanRectangleOverlay({\n  bounds,\n  spanGrouping,\n}: {\n  bounds: SpanViewBoundsType;\n  spanGrouping: EnhancedSpan[];\n}) {\n  const {startTimestamp, endTimestamp} = getSpanGroupTimestamps(spanGrouping);\n  const duration = Math.abs(endTimestamp - startTimestamp);\n  const durationDisplay = getDurationDisplay(bounds);\n  const durationString = getHumanDuration(duration);\n\n  return (\n    <RowRectangle\n      spanBarHatch={false}\n      style={{\n        left: `min(${toPercent(bounds.left || 0)}, calc(100% - 1px))`,\n        width: toPercent(bounds.width || 0),\n      }}\n    >\n      <DurationPill\n        durationDisplay={durationDisplay}\n        showDetail={false}\n        spanBarHatch={false}\n      >\n        {durationString}\n      </DurationPill>\n    </RowRectangle>\n  );\n}\n","import {Fragment} from 'react';\n\nimport {\n  ConnectorBar,\n  TOGGLE_BORDER_BOX,\n  TreeConnector,\n} from 'sentry/components/performance/waterfall/treeConnector';\nimport {t} from 'sentry/locale';\nimport {EventTransaction} from 'sentry/types/event';\n\nimport {SpanGroupBar} from './spanGroupBar';\nimport SpanRectangle from './spanRectangle';\nimport {SpanRectangleOverlay} from './spanRectangleOverlay';\nimport {EnhancedSpan, ProcessedSpanType, SpanType, TreeDepthType} from './types';\nimport {\n  getSpanGroupBounds,\n  isOrphanSpan,\n  isOrphanTreeDepth,\n  SpanBoundsType,\n  SpanGeneratedBoundsType,\n  unwrapTreeDepth,\n} from './utils';\n\ntype Props = {\n  continuingTreeDepths: Array<TreeDepthType>;\n  event: Readonly<EventTransaction>;\n  generateBounds: (bounds: SpanBoundsType) => SpanGeneratedBoundsType;\n  generateContentSpanBarRef: () => (instance: HTMLDivElement | null) => void;\n  isLastSibling: boolean;\n  occurrence: number;\n  onWheel: (deltaX: number) => void;\n  span: Readonly<ProcessedSpanType>;\n  spanGrouping: EnhancedSpan[];\n  spanNumber: number;\n  toggleSiblingSpanGroup: (span: SpanType, occurrence: number) => void;\n  treeDepth: number;\n};\n\nexport default function SpanSiblingGroupBar(props: Props) {\n  const {\n    continuingTreeDepths,\n    event,\n    generateBounds,\n    isLastSibling,\n    span,\n    spanGrouping,\n    spanNumber,\n    occurrence,\n    toggleSiblingSpanGroup,\n    onWheel,\n    generateContentSpanBarRef,\n  } = props;\n\n  function renderGroupSpansTitle(): React.ReactNode {\n    if (spanGrouping.length === 0) {\n      return '';\n    }\n\n    const operation = spanGrouping[0].span.op;\n    const description = spanGrouping[0].span.description;\n\n    if (!description || !operation) {\n      if (description) {\n        return <strong>{`${t('Autogrouped')} \\u2014 ${description}`}</strong>;\n      }\n\n      if (operation) {\n        return <strong>{`${t('Autogrouped')} \\u2014 ${operation}`}</strong>;\n      }\n\n      return <strong>{`${t('Autogrouped')} \\u2014 ${t('siblings')}`}</strong>;\n    }\n\n    return (\n      <Fragment>\n        <strong>{`${t('Autogrouped')} \\u2014 ${operation} \\u2014 `}</strong>\n        {description}\n      </Fragment>\n    );\n  }\n\n  function renderSpanTreeConnector() {\n    const {treeDepth: spanTreeDepth} = props;\n\n    const connectorBars: Array<React.ReactNode> = continuingTreeDepths.map(treeDepth => {\n      const depth: number = unwrapTreeDepth(treeDepth);\n\n      if (depth === 0) {\n        // do not render a connector bar at depth 0,\n        // if we did render a connector bar, this bar would be placed at depth -1\n        // which does not exist.\n        return null;\n      }\n      const left = ((spanTreeDepth - depth) * (TOGGLE_BORDER_BOX / 2) + 2) * -1;\n\n      return (\n        <ConnectorBar\n          style={{left}}\n          key={`span-group-${depth}`}\n          orphanBranch={isOrphanTreeDepth(treeDepth)}\n        />\n      );\n    });\n\n    return (\n      <TreeConnector isLast={isLastSibling} hasToggler orphanBranch={isOrphanSpan(span)}>\n        {connectorBars}\n      </TreeConnector>\n    );\n  }\n\n  function renderSpanRectangles() {\n    return (\n      <Fragment>\n        {spanGrouping.map((_, index) => (\n          <SpanRectangle\n            key={index}\n            spanGrouping={spanGrouping}\n            bounds={getSpanGroupBounds([spanGrouping[index]], generateBounds)}\n          />\n        ))}\n        <SpanRectangleOverlay\n          spanGrouping={spanGrouping}\n          bounds={getSpanGroupBounds(spanGrouping, generateBounds)}\n        />\n      </Fragment>\n    );\n  }\n\n  return (\n    <SpanGroupBar\n      event={event}\n      span={span}\n      spanGrouping={spanGrouping}\n      treeDepth={props.treeDepth}\n      spanNumber={spanNumber}\n      generateBounds={generateBounds}\n      toggleSpanGroup={() => toggleSiblingSpanGroup?.(spanGrouping[0].span, occurrence)}\n      renderSpanTreeConnector={renderSpanTreeConnector}\n      renderGroupSpansTitle={renderGroupSpansTitle}\n      renderSpanRectangles={renderSpanRectangles}\n      onWheel={onWheel}\n      generateContentSpanBarRef={generateContentSpanBarRef}\n    />\n  );\n}\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\nimport isEqual from 'lodash/isEqual';\n\nimport {MessageRow} from 'sentry/components/performance/waterfall/messageRow';\nimport {pickBarColor} from 'sentry/components/performance/waterfall/utils';\nimport {t, tct} from 'sentry/locale';\nimport {Organization} from 'sentry/types';\n\nimport {DragManagerChildrenProps} from './dragManager';\nimport {ScrollbarManagerChildrenProps, withScrollbarManager} from './scrollbarManager';\nimport SpanBar from './spanBar';\nimport {SpanDescendantGroupBar} from './spanDescendantGroupBar';\nimport SpanSiblingGroupBar from './spanSiblingGroupBar';\nimport {\n  EnhancedProcessedSpanType,\n  EnhancedSpan,\n  FilterSpans,\n  GroupType,\n  ParsedTraceType,\n  SpanType,\n} from './types';\nimport {getSpanID, getSpanOperation, setSpansOnTransaction} from './utils';\nimport WaterfallModel from './waterfallModel';\n\ntype PropType = ScrollbarManagerChildrenProps & {\n  dragProps: DragManagerChildrenProps;\n  filterSpans: FilterSpans | undefined;\n  organization: Organization;\n  spans: EnhancedProcessedSpanType[];\n  traceViewRef: React.RefObject<HTMLDivElement>;\n  waterfallModel: WaterfallModel;\n};\n\nclass SpanTree extends Component<PropType> {\n  componentDidMount() {\n    setSpansOnTransaction(this.props.spans.length);\n  }\n\n  shouldComponentUpdate(nextProps: PropType) {\n    if (\n      this.props.dragProps.isDragging !== nextProps.dragProps.isDragging ||\n      this.props.dragProps.isWindowSelectionDragging !==\n        nextProps.dragProps.isWindowSelectionDragging\n    ) {\n      return true;\n    }\n\n    if (\n      nextProps.dragProps.isDragging ||\n      nextProps.dragProps.isWindowSelectionDragging ||\n      isEqual(this.props.spans, nextProps.spans)\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  componentDidUpdate(prevProps: PropType) {\n    if (\n      !isEqual(prevProps.filterSpans, this.props.filterSpans) ||\n      !isEqual(prevProps.spans, this.props.spans)\n    ) {\n      // Update horizontal scroll states after a search has been performed or if\n      // if the spans has changed\n      this.props.updateScrollState();\n    }\n  }\n\n  generateInfoMessage(input: {\n    isCurrentSpanFilteredOut: boolean;\n    isCurrentSpanHidden: boolean;\n    numOfFilteredSpansAbove: number;\n    numOfSpansOutOfViewAbove: number;\n  }): React.ReactNode {\n    const {\n      isCurrentSpanHidden,\n      numOfSpansOutOfViewAbove,\n      isCurrentSpanFilteredOut,\n      numOfFilteredSpansAbove,\n    } = input;\n\n    const messages: React.ReactNode[] = [];\n\n    const showHiddenSpansMessage = !isCurrentSpanHidden && numOfSpansOutOfViewAbove > 0;\n\n    if (showHiddenSpansMessage) {\n      messages.push(\n        <span key=\"spans-out-of-view\">\n          <strong>{numOfSpansOutOfViewAbove}</strong> {t('spans out of view')}\n        </span>\n      );\n    }\n\n    const showFilteredSpansMessage =\n      !isCurrentSpanFilteredOut && numOfFilteredSpansAbove > 0;\n\n    if (showFilteredSpansMessage) {\n      if (!isCurrentSpanHidden) {\n        if (numOfFilteredSpansAbove === 1) {\n          messages.push(\n            <span key=\"spans-filtered\">\n              {tct('[numOfSpans] hidden span', {\n                numOfSpans: <strong>{numOfFilteredSpansAbove}</strong>,\n              })}\n            </span>\n          );\n        } else {\n          messages.push(\n            <span key=\"spans-filtered\">\n              {tct('[numOfSpans] hidden spans', {\n                numOfSpans: <strong>{numOfFilteredSpansAbove}</strong>,\n              })}\n            </span>\n          );\n        }\n      }\n    }\n\n    if (messages.length <= 0) {\n      return null;\n    }\n\n    return <MessageRow>{messages}</MessageRow>;\n  }\n\n  generateLimitExceededMessage() {\n    const {waterfallModel} = this.props;\n    const {parsedTrace} = waterfallModel;\n\n    if (hasAllSpans(parsedTrace)) {\n      return null;\n    }\n\n    return (\n      <MessageRow>\n        {t(\n          'The next spans are unavailable. You may have exceeded the span limit or need to address missing instrumentation.'\n        )}\n      </MessageRow>\n    );\n  }\n\n  toggleSpanTree = (spanID: string) => () => {\n    this.props.waterfallModel.toggleSpanSubTree(spanID);\n    // Update horizontal scroll states after this subtree was either hidden or\n    // revealed.\n    this.props.updateScrollState();\n  };\n\n  render() {\n    const {\n      waterfallModel,\n      spans,\n      organization,\n      dragProps,\n      onWheel,\n      generateContentSpanBarRef,\n      markSpanOutOfView,\n      markSpanInView,\n      storeSpanBar,\n    } = this.props;\n    const generateBounds = waterfallModel.generateBounds({\n      viewStart: dragProps.viewWindowStart,\n      viewEnd: dragProps.viewWindowEnd,\n    });\n\n    type AccType = {\n      numOfFilteredSpansAbove: number;\n      numOfSpansOutOfViewAbove: number;\n      spanNumber: number;\n      spanTree: React.ReactNode[];\n    };\n\n    const numOfSpans = spans.reduce((sum: number, payload: EnhancedProcessedSpanType) => {\n      switch (payload.type) {\n        case 'root_span':\n        case 'span':\n        case 'span_group_chain': {\n          return sum + 1;\n        }\n\n        default: {\n          return sum;\n        }\n      }\n    }, 0);\n\n    const {spanTree, numOfSpansOutOfViewAbove, numOfFilteredSpansAbove} = spans.reduce(\n      (acc: AccType, payload: EnhancedProcessedSpanType) => {\n        const {type} = payload;\n\n        switch (payload.type) {\n          case 'filtered_out': {\n            acc.numOfFilteredSpansAbove += 1;\n            return acc;\n          }\n          case 'out_of_view': {\n            acc.numOfSpansOutOfViewAbove += 1;\n            return acc;\n          }\n          default: {\n            break;\n          }\n        }\n\n        const previousSpanNotDisplayed =\n          acc.numOfFilteredSpansAbove > 0 || acc.numOfSpansOutOfViewAbove > 0;\n\n        if (previousSpanNotDisplayed) {\n          const infoMessage = this.generateInfoMessage({\n            isCurrentSpanHidden: false,\n            numOfSpansOutOfViewAbove: acc.numOfSpansOutOfViewAbove,\n            isCurrentSpanFilteredOut: false,\n            numOfFilteredSpansAbove: acc.numOfFilteredSpansAbove,\n          });\n          acc.spanTree.push(infoMessage);\n        }\n\n        const spanNumber = acc.spanNumber;\n        const {span, treeDepth, continuingTreeDepths} = payload;\n\n        if (payload.type === 'span_group_chain') {\n          acc.spanTree.push(\n            <SpanDescendantGroupBar\n              key={`${spanNumber}-span-group`}\n              event={waterfallModel.event}\n              span={span}\n              generateBounds={generateBounds}\n              treeDepth={treeDepth}\n              continuingTreeDepths={continuingTreeDepths}\n              spanNumber={spanNumber}\n              spanGrouping={payload.spanNestedGrouping as EnhancedSpan[]}\n              toggleSpanGroup={payload.toggleNestedSpanGroup as () => void}\n              onWheel={onWheel}\n              generateContentSpanBarRef={generateContentSpanBarRef}\n            />\n          );\n          acc.spanNumber = spanNumber + 1;\n          return acc;\n        }\n\n        if (payload.type === 'span_group_siblings') {\n          acc.spanTree.push(\n            <SpanSiblingGroupBar\n              key={`${spanNumber}-span-sibling`}\n              event={waterfallModel.event}\n              span={span}\n              generateBounds={generateBounds}\n              treeDepth={treeDepth}\n              continuingTreeDepths={continuingTreeDepths}\n              spanNumber={spanNumber}\n              spanGrouping={payload.spanSiblingGrouping as EnhancedSpan[]}\n              toggleSiblingSpanGroup={payload.toggleSiblingSpanGroup}\n              isLastSibling={payload.isLastSibling ?? false}\n              occurrence={payload.occurrence}\n              onWheel={onWheel}\n              generateContentSpanBarRef={generateContentSpanBarRef}\n            />\n          );\n          acc.spanNumber = spanNumber + 1;\n          return acc;\n        }\n\n        const key = getSpanID(span, `span-${spanNumber}`);\n        const isLast = payload.isLastSibling;\n        const isRoot = type === 'root_span';\n        const spanBarColor: string = pickBarColor(getSpanOperation(span));\n        const numOfSpanChildren = payload.numOfSpanChildren;\n\n        acc.numOfFilteredSpansAbove = 0;\n        acc.numOfSpansOutOfViewAbove = 0;\n\n        let toggleSpanGroup: (() => void) | undefined = undefined;\n        if (payload.type === 'span') {\n          toggleSpanGroup = payload.toggleNestedSpanGroup;\n        }\n\n        let toggleSiblingSpanGroup:\n          | ((span: SpanType, occurrence: number) => void)\n          | undefined = undefined;\n        if (payload.type === 'span' && payload.isFirstSiblingOfGroup) {\n          toggleSiblingSpanGroup = payload.toggleSiblingSpanGroup;\n        }\n\n        let groupType;\n        if (toggleSpanGroup) {\n          groupType = GroupType.DESCENDANTS;\n        } else if (toggleSiblingSpanGroup) {\n          groupType = GroupType.SIBLINGS;\n        }\n\n        acc.spanTree.push(\n          <SpanBar\n            key={key}\n            organization={organization}\n            event={waterfallModel.event}\n            spanBarColor={spanBarColor}\n            spanBarHatch={type === 'gap'}\n            span={span}\n            showSpanTree={!waterfallModel.hiddenSpanSubTrees.has(getSpanID(span))}\n            numOfSpanChildren={numOfSpanChildren}\n            trace={waterfallModel.parsedTrace}\n            generateBounds={generateBounds}\n            toggleSpanTree={this.toggleSpanTree(getSpanID(span))}\n            treeDepth={treeDepth}\n            continuingTreeDepths={continuingTreeDepths}\n            spanNumber={spanNumber}\n            isLast={isLast}\n            isRoot={isRoot}\n            showEmbeddedChildren={payload.showEmbeddedChildren}\n            toggleEmbeddedChildren={payload.toggleEmbeddedChildren}\n            toggleSiblingSpanGroup={toggleSiblingSpanGroup}\n            fetchEmbeddedChildrenState={payload.fetchEmbeddedChildrenState}\n            toggleSpanGroup={toggleSpanGroup}\n            numOfSpans={numOfSpans}\n            groupType={groupType}\n            groupOccurrence={payload.groupOccurrence}\n            isEmbeddedTransactionTimeAdjusted={payload.isEmbeddedTransactionTimeAdjusted}\n            onWheel={onWheel}\n            generateContentSpanBarRef={generateContentSpanBarRef}\n            markSpanOutOfView={markSpanOutOfView}\n            markSpanInView={markSpanInView}\n            storeSpanBar={storeSpanBar}\n          />\n        );\n\n        acc.spanNumber = spanNumber + 1;\n        return acc;\n      },\n      {\n        numOfSpansOutOfViewAbove: 0,\n        numOfFilteredSpansAbove: 0,\n        spanTree: [],\n        spanNumber: 1, // 1-based indexing\n      }\n    );\n\n    const infoMessage = this.generateInfoMessage({\n      isCurrentSpanHidden: false,\n      numOfSpansOutOfViewAbove,\n      isCurrentSpanFilteredOut: false,\n      numOfFilteredSpansAbove,\n    });\n\n    return (\n      <TraceViewContainer ref={this.props.traceViewRef}>\n        {spanTree}\n        {infoMessage}\n        {this.generateLimitExceededMessage()}\n      </TraceViewContainer>\n    );\n  }\n}\n\nconst TraceViewContainer = styled('div')`\n  overflow-x: hidden;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n`;\n\n/**\n * Checks if a trace contains all of its spans.\n *\n * The heuristic used here favors false negatives over false positives.\n * This is because showing a warning that the trace is not showing all\n * spans when it has them all is more misleading than not showing a\n * warning when it is missing some spans.\n *\n * A simple heuristic to determine when there are unrecorded spans\n *\n * 1. We assume if there are less than 999 spans, then we have all\n *    the spans for a transaction. 999 was chosen because most SDKs\n *    have a default limit of 1000 spans per transaction, but the\n *    python SDK is 999 for historic reasons.\n *\n * 2. We assume that if there are unrecorded spans, they should be\n *    at least 100ms in duration.\n *\n * While not perfect, this simple heuristic is unlikely to report\n * false positives.\n */\nfunction hasAllSpans(trace: ParsedTraceType): boolean {\n  const {traceEndTimestamp, spans} = trace;\n  if (spans.length < 999) {\n    return true;\n  }\n\n  const lastSpan = spans.reduce((latest, span) =>\n    latest.timestamp > span.timestamp ? latest : span\n  );\n  const missingDuration = traceEndTimestamp - lastSpan.timestamp;\n\n  return missingDuration < 0.1;\n}\n\nexport default withScrollbarManager(SpanTree);\n","import {action, computed, makeObservable, observable} from 'mobx';\n\nimport {Client} from 'sentry/api';\nimport {t} from 'sentry/locale';\nimport {EventTransaction} from 'sentry/types/event';\n\nimport {ActiveOperationFilter} from './filter';\nimport {\n  DescendantGroup,\n  EnhancedProcessedSpanType,\n  EnhancedSpan,\n  FetchEmbeddedChildrenState,\n  FilterSpans,\n  FocusedSpanIDMap,\n  OrphanTreeDepth,\n  RawSpanType,\n  SpanChildrenLookupType,\n  SpanType,\n  TraceBound,\n  TreeDepthType,\n} from './types';\nimport {\n  generateRootSpan,\n  getSiblingGroupKey,\n  getSpanID,\n  getSpanOperation,\n  isEventFromBrowserJavaScriptSDK,\n  isOrphanSpan,\n  isSpanIdFocused,\n  parseTrace,\n  SpanBoundsType,\n  SpanGeneratedBoundsType,\n} from './utils';\n\nexport const MIN_SIBLING_GROUP_SIZE = 5;\n\nclass SpanTreeModel {\n  api: Client;\n\n  // readonly state\n  span: Readonly<SpanType>;\n  children: Array<SpanTreeModel> = [];\n  isRoot: boolean;\n\n  // readable/writable state\n  fetchEmbeddedChildrenState: FetchEmbeddedChildrenState = 'idle';\n  showEmbeddedChildren: boolean = false;\n  embeddedChildren: Array<SpanTreeModel> = [];\n  isEmbeddedTransactionTimeAdjusted: boolean = false;\n  // This controls if a chain of nested spans that are the only sibling to be visually grouped together or not.\n  // On initial render, they're visually grouped together.\n  isNestedSpanGroupExpanded: boolean = false;\n  // Entries in this set will follow the format 'op.description'.\n  // An entry in this set indicates that all siblings with the op and description should be left ungrouped\n  expandedSiblingGroups: Set<string> = new Set();\n\n  constructor(\n    parentSpan: SpanType,\n    childSpans: SpanChildrenLookupType,\n    api: Client,\n    isRoot: boolean = false\n  ) {\n    this.api = api;\n    this.span = parentSpan;\n    this.isRoot = isRoot;\n\n    const spanID = getSpanID(parentSpan);\n    const spanChildren: Array<RawSpanType> = childSpans?.[spanID] ?? [];\n\n    // Mark descendents as being rendered. This is to address potential recursion issues due to malformed data.\n    // For example if a span has a span_id that's identical to its parent_span_id.\n    childSpans = {\n      ...childSpans,\n    };\n    delete childSpans[spanID];\n\n    this.children = spanChildren.map(span => {\n      return new SpanTreeModel(span, childSpans, api);\n    });\n\n    makeObservable(this, {\n      operationNameCounts: computed.struct,\n      showEmbeddedChildren: observable,\n      embeddedChildren: observable,\n      fetchEmbeddedChildrenState: observable,\n      toggleEmbeddedChildren: action,\n      fetchEmbeddedTransactions: action,\n      isNestedSpanGroupExpanded: observable,\n      toggleNestedSpanGroup: action,\n      expandedSiblingGroups: observable,\n      toggleSiblingSpanGroup: action,\n      isEmbeddedTransactionTimeAdjusted: observable,\n    });\n  }\n\n  get operationNameCounts(): Map<string, number> {\n    const result = new Map<string, number>();\n\n    const operationName = this.span.op;\n\n    if (typeof operationName === 'string' && operationName.length > 0) {\n      result.set(operationName, 1);\n    }\n\n    for (const directChild of this.children) {\n      const operationNameCounts = directChild.operationNameCounts;\n      for (const [key, count] of operationNameCounts) {\n        result.set(key, (result.get(key) ?? 0) + count);\n      }\n    }\n\n    // sort alphabetically using case insensitive comparison\n    return new Map(\n      [...result].sort((a, b) =>\n        String(a[0]).localeCompare(b[0], undefined, {sensitivity: 'base'})\n      )\n    );\n  }\n\n  isSpanFilteredOut = (\n    props: {\n      filterSpans: FilterSpans | undefined;\n      operationNameFilters: ActiveOperationFilter;\n    },\n    spanModel: SpanTreeModel\n  ): boolean => {\n    const {operationNameFilters, filterSpans} = props;\n\n    if (operationNameFilters.type === 'active_filter') {\n      const operationName = getSpanOperation(spanModel.span);\n\n      if (\n        typeof operationName === 'string' &&\n        !operationNameFilters.operationNames.has(operationName)\n      ) {\n        return true;\n      }\n    }\n\n    if (!filterSpans) {\n      return false;\n    }\n\n    return !filterSpans.spanIDs.has(getSpanID(spanModel.span));\n  };\n\n  generateSpanGap(\n    event: Readonly<EventTransaction>,\n    previousSiblingEndTimestamp: number | undefined,\n    treeDepth: number,\n    continuingTreeDepths: Array<TreeDepthType>\n  ): EnhancedProcessedSpanType | undefined {\n    // hide gap spans (i.e. \"missing instrumentation\" spans) for browser js transactions,\n    // since they're not useful to indicate\n    const shouldIncludeGap = !isEventFromBrowserJavaScriptSDK(event);\n\n    const isValidGap =\n      shouldIncludeGap &&\n      typeof previousSiblingEndTimestamp === 'number' &&\n      previousSiblingEndTimestamp < this.span.start_timestamp &&\n      // gap is at least 100 ms\n      this.span.start_timestamp - previousSiblingEndTimestamp >= 0.1;\n    if (!isValidGap) {\n      return undefined;\n    }\n\n    const gapSpan: EnhancedProcessedSpanType = {\n      type: 'gap',\n      span: {\n        type: 'gap',\n        start_timestamp: previousSiblingEndTimestamp || this.span.start_timestamp,\n        timestamp: this.span.start_timestamp, // this is essentially end_timestamp\n        description: t('Missing instrumentation'),\n        isOrphan: isOrphanSpan(this.span),\n      },\n      numOfSpanChildren: 0,\n      treeDepth,\n      isLastSibling: false,\n      continuingTreeDepths,\n      fetchEmbeddedChildrenState: 'idle',\n      showEmbeddedChildren: false,\n      toggleEmbeddedChildren: undefined,\n      isEmbeddedTransactionTimeAdjusted: this.isEmbeddedTransactionTimeAdjusted,\n    };\n    return gapSpan;\n  }\n\n  getSpansList = (props: {\n    addTraceBounds: (bounds: TraceBound) => void;\n    continuingTreeDepths: Array<TreeDepthType>;\n    directParent: SpanTreeModel | null;\n    event: Readonly<EventTransaction>;\n    filterSpans: FilterSpans | undefined;\n    generateBounds: (bounds: SpanBoundsType) => SpanGeneratedBoundsType;\n    hiddenSpanSubTrees: Set<String>;\n    isLastSibling: boolean;\n    isNestedSpanGroupExpanded: boolean;\n    isOnlySibling: boolean;\n    operationNameFilters: ActiveOperationFilter;\n    previousSiblingEndTimestamp: number | undefined;\n    removeTraceBounds: (eventSlug: string) => void;\n    spanAncestors: Set<String>;\n    spanNestedGrouping: EnhancedSpan[] | undefined;\n    toggleNestedSpanGroup: (() => void) | undefined;\n    treeDepth: number;\n    focusedSpanIds?: FocusedSpanIDMap;\n  }): EnhancedProcessedSpanType[] => {\n    const {\n      operationNameFilters,\n      generateBounds,\n      isLastSibling,\n      hiddenSpanSubTrees,\n      // The set of ancestor span IDs whose sub-tree that the span belongs to\n      spanAncestors,\n      filterSpans,\n      previousSiblingEndTimestamp,\n      event,\n      isOnlySibling,\n      spanNestedGrouping,\n      toggleNestedSpanGroup,\n      isNestedSpanGroupExpanded,\n      addTraceBounds,\n      removeTraceBounds,\n      focusedSpanIds,\n      directParent,\n    } = props;\n    let {treeDepth, continuingTreeDepths} = props;\n    const parentSpanID = getSpanID(this.span);\n    const nextSpanAncestors = new Set(spanAncestors);\n    nextSpanAncestors.add(parentSpanID);\n\n    const descendantsSource = this.showEmbeddedChildren\n      ? [...this.embeddedChildren, ...this.children]\n      : this.children;\n\n    if (focusedSpanIds && this.span.span_id in focusedSpanIds) {\n      // Since this is a focused span, show this span's direct parent, and also its children\n      directParent && focusedSpanIds[this.span.span_id].add(directParent.span.span_id);\n\n      descendantsSource.forEach(descendant =>\n        focusedSpanIds[this.span.span_id].add(descendant.span.span_id)\n      );\n    }\n\n    const isNotLastSpanOfGroup =\n      isOnlySibling && !this.isRoot && descendantsSource.length === 1;\n    const shouldGroup = isNotLastSpanOfGroup;\n    const hideSpanTree = hiddenSpanSubTrees.has(parentSpanID);\n    const isLastSpanOfGroup =\n      isOnlySibling && !this.isRoot && (descendantsSource.length !== 1 || hideSpanTree);\n    const isFirstSpanOfGroup =\n      shouldGroup &&\n      (spanNestedGrouping === undefined ||\n        (Array.isArray(spanNestedGrouping) && spanNestedGrouping.length === 0));\n\n    if (\n      isLastSpanOfGroup &&\n      Array.isArray(spanNestedGrouping) &&\n      spanNestedGrouping.length >= 1 &&\n      !isNestedSpanGroupExpanded\n    ) {\n      // We always want to indent the last span of the span group chain\n      treeDepth = treeDepth + 1;\n\n      // For a collapsed span group chain to be useful, we prefer span groupings\n      // that are two or more spans.\n      // Since there is no concept of \"backtracking\" when constructing the span tree,\n      // we will need to reconstruct the tree depth information. This is only neccessary\n      // when the span group chain is hidden/collapsed.\n      if (spanNestedGrouping.length === 1) {\n        const treeDepthEntry = isOrphanSpan(spanNestedGrouping[0].span)\n          ? ({type: 'orphan', depth: spanNestedGrouping[0].treeDepth} as OrphanTreeDepth)\n          : spanNestedGrouping[0].treeDepth;\n\n        if (!spanNestedGrouping[0].isLastSibling) {\n          continuingTreeDepths = [...continuingTreeDepths, treeDepthEntry];\n        }\n      }\n    }\n\n    // Criteria for propagating information about the span group to the last span of the span group chain\n    const spanGroupingCriteria =\n      isLastSpanOfGroup &&\n      Array.isArray(spanNestedGrouping) &&\n      spanNestedGrouping.length > 1;\n\n    const wrappedSpan: EnhancedSpan = {\n      type: this.isRoot ? 'root_span' : 'span',\n      span: this.span,\n      numOfSpanChildren: descendantsSource.length,\n      treeDepth,\n      isLastSibling,\n      continuingTreeDepths,\n      fetchEmbeddedChildrenState: this.fetchEmbeddedChildrenState,\n      showEmbeddedChildren: this.showEmbeddedChildren,\n      toggleEmbeddedChildren: this.toggleEmbeddedChildren({\n        addTraceBounds,\n        removeTraceBounds,\n      }),\n      toggleNestedSpanGroup:\n        spanGroupingCriteria && toggleNestedSpanGroup && !isNestedSpanGroupExpanded\n          ? toggleNestedSpanGroup\n          : isFirstSpanOfGroup && this.isNestedSpanGroupExpanded && !hideSpanTree\n          ? this.toggleNestedSpanGroup\n          : undefined,\n      toggleSiblingSpanGroup: undefined,\n      isEmbeddedTransactionTimeAdjusted: this.isEmbeddedTransactionTimeAdjusted,\n    };\n\n    if (wrappedSpan.type === 'root_span') {\n      // @ts-expect-error\n      delete wrappedSpan.toggleNestedSpanGroup;\n    }\n\n    const treeDepthEntry = isOrphanSpan(this.span)\n      ? ({type: 'orphan', depth: treeDepth} as OrphanTreeDepth)\n      : treeDepth;\n\n    const shouldHideSpanOfGroup =\n      shouldGroup &&\n      !isLastSpanOfGroup &&\n      ((toggleNestedSpanGroup === undefined && !this.isNestedSpanGroupExpanded) ||\n        (toggleNestedSpanGroup !== undefined && !isNestedSpanGroupExpanded));\n\n    const descendantContinuingTreeDepths =\n      isLastSibling || shouldHideSpanOfGroup\n        ? continuingTreeDepths\n        : [...continuingTreeDepths, treeDepthEntry];\n\n    for (const hiddenSpanSubTree of hiddenSpanSubTrees) {\n      if (spanAncestors.has(hiddenSpanSubTree)) {\n        // If this span is hidden, then all the descendants are hidden as well\n        return [];\n      }\n    }\n\n    const groupedDescendants: DescendantGroup[] = [];\n    // Used to number sibling groups in case there are multiple groups with the same op and description\n    const siblingGroupOccurrenceMap = {};\n\n    const addGroupToMap = (prevSpanModel: SpanTreeModel, group: SpanTreeModel[]) => {\n      if (!group.length) {\n        return;\n      }\n\n      const groupKey = `${prevSpanModel.span.op}.${prevSpanModel.span.description}`;\n\n      if (!siblingGroupOccurrenceMap[groupKey]) {\n        siblingGroupOccurrenceMap[groupKey] = 1;\n      } else {\n        siblingGroupOccurrenceMap[groupKey] += 1;\n      }\n\n      groupedDescendants.push({\n        group,\n        occurrence: siblingGroupOccurrenceMap[groupKey],\n      });\n    };\n\n    if (descendantsSource?.length >= MIN_SIBLING_GROUP_SIZE) {\n      let prevSpanModel = descendantsSource[0];\n      let currentGroup = [prevSpanModel];\n\n      for (let i = 1; i < descendantsSource.length; i++) {\n        const currSpanModel = descendantsSource[i];\n\n        // We want to group siblings only if they share the same op and description, and if they have no children\n        if (\n          prevSpanModel.span.op === currSpanModel.span.op &&\n          prevSpanModel.span.description === currSpanModel.span.description &&\n          currSpanModel.children.length === 0\n        ) {\n          currentGroup.push(currSpanModel);\n        } else {\n          addGroupToMap(prevSpanModel, currentGroup);\n\n          if (currSpanModel.children.length) {\n            currentGroup = [currSpanModel];\n            groupedDescendants.push({group: currentGroup});\n            currentGroup = [];\n          } else {\n            currentGroup = [currSpanModel];\n          }\n        }\n\n        prevSpanModel = currSpanModel;\n      }\n\n      addGroupToMap(prevSpanModel, currentGroup);\n    } else if (descendantsSource.length >= 1) {\n      groupedDescendants.push({group: descendantsSource});\n    }\n\n    const descendants = (hideSpanTree ? [] : groupedDescendants).reduce(\n      (\n        acc: {\n          descendants: EnhancedProcessedSpanType[];\n          previousSiblingEndTimestamp: number | undefined;\n        },\n        {group, occurrence},\n        groupIndex\n      ) => {\n        // Groups less than 5 indicate that the spans should be left ungrouped\n        if (group.length < MIN_SIBLING_GROUP_SIZE) {\n          group.forEach((spanModel, index) => {\n            acc.descendants.push(\n              ...spanModel.getSpansList({\n                operationNameFilters,\n                generateBounds,\n                treeDepth: shouldHideSpanOfGroup ? treeDepth : treeDepth + 1,\n                isLastSibling:\n                  groupIndex === groupedDescendants.length - 1 &&\n                  index === group.length - 1,\n                continuingTreeDepths: descendantContinuingTreeDepths,\n                hiddenSpanSubTrees,\n                spanAncestors: new Set(nextSpanAncestors),\n                filterSpans,\n                previousSiblingEndTimestamp: acc.previousSiblingEndTimestamp,\n                event,\n                isOnlySibling: descendantsSource.length === 1,\n                spanNestedGrouping: shouldGroup\n                  ? [...(spanNestedGrouping ?? []), wrappedSpan]\n                  : undefined,\n                toggleNestedSpanGroup: isNotLastSpanOfGroup\n                  ? toggleNestedSpanGroup === undefined\n                    ? this.toggleNestedSpanGroup\n                    : toggleNestedSpanGroup\n                  : undefined,\n                isNestedSpanGroupExpanded: isNotLastSpanOfGroup\n                  ? toggleNestedSpanGroup === undefined\n                    ? this.isNestedSpanGroupExpanded\n                    : isNestedSpanGroupExpanded\n                  : false,\n                addTraceBounds,\n                removeTraceBounds,\n                focusedSpanIds,\n                directParent: this,\n              })\n            );\n\n            acc.previousSiblingEndTimestamp = spanModel.span.timestamp;\n          });\n\n          return acc;\n        }\n\n        // NOTE: I am making the assumption here that grouped sibling spans will not have children.\n        // By making this assumption, I can immediately wrap the grouped spans here without having\n        // to recursively traverse them.\n\n        // This may not be the case, and needs to be looked into later\n\n        const key = getSiblingGroupKey(group[0].span, occurrence);\n        if (this.expandedSiblingGroups.has(key)) {\n          // This check is needed here, since it is possible that a user could be filtering for a specific span ID.\n          // In this case, we must add only the specified span into the accumulator's descendants\n          group.forEach((spanModel, index) => {\n            if (\n              this.isSpanFilteredOut(props, spanModel) ||\n              (focusedSpanIds && !isSpanIdFocused(spanModel.span.span_id, focusedSpanIds))\n            ) {\n              acc.descendants.push({\n                type: 'filtered_out',\n                span: spanModel.span,\n              });\n            } else {\n              const enhancedSibling: EnhancedSpan = {\n                type: 'span',\n                span: spanModel.span,\n                numOfSpanChildren: 0,\n                treeDepth: treeDepth + 1,\n                isLastSibling:\n                  index === group.length - 1 &&\n                  groupIndex === groupedDescendants.length - 1,\n                isFirstSiblingOfGroup: index === 0,\n                groupOccurrence: occurrence,\n                continuingTreeDepths: descendantContinuingTreeDepths,\n                fetchEmbeddedChildrenState: spanModel.fetchEmbeddedChildrenState,\n                showEmbeddedChildren: spanModel.showEmbeddedChildren,\n                toggleEmbeddedChildren: spanModel.toggleEmbeddedChildren({\n                  addTraceBounds,\n                  removeTraceBounds,\n                }),\n                toggleNestedSpanGroup: undefined,\n                toggleSiblingSpanGroup:\n                  index === 0 ? this.toggleSiblingSpanGroup : undefined,\n                isEmbeddedTransactionTimeAdjusted:\n                  spanModel.isEmbeddedTransactionTimeAdjusted,\n              };\n\n              acc.previousSiblingEndTimestamp = spanModel.span.timestamp;\n              acc.descendants.push(enhancedSibling);\n            }\n          });\n\n          return acc;\n        }\n\n        // Since we are not recursively traversing elements in this group, need to check\n        // if the spans are filtered or out of bounds here\n\n        if (this.isSpanFilteredOut(props, group[0])) {\n          group.forEach(spanModel => {\n            acc.descendants.push({\n              type: 'filtered_out',\n              span: spanModel.span,\n            });\n          });\n          return acc;\n        }\n\n        // TODO: Check within the group if any of the focusedSpanIDs are present\n\n        const bounds = generateBounds({\n          startTimestamp: group[0].span.start_timestamp,\n          endTimestamp: group[group.length - 1].span.timestamp,\n        });\n\n        if (!bounds.isSpanVisibleInView) {\n          group.forEach(spanModel =>\n            acc.descendants.push({\n              type: 'out_of_view',\n              span: spanModel.span,\n            })\n          );\n          return acc;\n        }\n\n        // Since the group is not expanded, return a singular grouped span bar\n        const wrappedSiblings: EnhancedSpan[] = group.map((spanModel, index) => {\n          const enhancedSibling: EnhancedSpan = {\n            type: 'span',\n            span: spanModel.span,\n            numOfSpanChildren: 0,\n            treeDepth: treeDepth + 1,\n            isLastSibling:\n              index === group.length - 1 && groupIndex === groupedDescendants.length - 1,\n            isFirstSiblingOfGroup: index === 0,\n            groupOccurrence: occurrence,\n            continuingTreeDepths: descendantContinuingTreeDepths,\n            fetchEmbeddedChildrenState: spanModel.fetchEmbeddedChildrenState,\n            showEmbeddedChildren: spanModel.showEmbeddedChildren,\n            toggleEmbeddedChildren: spanModel.toggleEmbeddedChildren({\n              addTraceBounds,\n              removeTraceBounds,\n            }),\n            toggleNestedSpanGroup: undefined,\n            toggleSiblingSpanGroup: index === 0 ? this.toggleSiblingSpanGroup : undefined,\n            isEmbeddedTransactionTimeAdjusted:\n              spanModel.isEmbeddedTransactionTimeAdjusted,\n          };\n\n          return enhancedSibling;\n        });\n\n        const groupedSiblingsSpan: EnhancedProcessedSpanType = {\n          type: 'span_group_siblings',\n          span: this.span,\n          treeDepth: treeDepth + 1,\n          continuingTreeDepths: descendantContinuingTreeDepths,\n          spanSiblingGrouping: wrappedSiblings,\n          isLastSibling: groupIndex === groupedDescendants.length - 1,\n          occurrence: occurrence ?? 0,\n          toggleSiblingSpanGroup: this.toggleSiblingSpanGroup,\n        };\n\n        acc.previousSiblingEndTimestamp =\n          wrappedSiblings[wrappedSiblings.length - 1].span.timestamp;\n\n        acc.descendants.push(groupedSiblingsSpan);\n        return acc;\n      },\n      {\n        descendants: [],\n        previousSiblingEndTimestamp: undefined,\n      }\n    ).descendants;\n\n    if (\n      this.isSpanFilteredOut(props, this) ||\n      (focusedSpanIds && !isSpanIdFocused(this.span.span_id, focusedSpanIds))\n    ) {\n      return [\n        {\n          type: 'filtered_out',\n          span: this.span,\n        },\n        ...descendants,\n      ];\n    }\n\n    const bounds = generateBounds({\n      startTimestamp: this.span.start_timestamp,\n      endTimestamp: this.span.timestamp,\n    });\n    const isCurrentSpanOutOfView = !bounds.isSpanVisibleInView;\n\n    if (isCurrentSpanOutOfView) {\n      return [\n        {\n          type: 'out_of_view',\n          span: this.span,\n        },\n        ...descendants,\n      ];\n    }\n\n    if (shouldHideSpanOfGroup) {\n      return [...descendants];\n    }\n\n    if (\n      isLastSpanOfGroup &&\n      Array.isArray(spanNestedGrouping) &&\n      spanNestedGrouping.length > 1 &&\n      !isNestedSpanGroupExpanded &&\n      wrappedSpan.type === 'span'\n    ) {\n      const spanGroupChain: EnhancedProcessedSpanType = {\n        type: 'span_group_chain',\n        span: this.span,\n        treeDepth: treeDepth - 1,\n        continuingTreeDepths,\n        spanNestedGrouping,\n        isNestedSpanGroupExpanded,\n        toggleNestedSpanGroup: wrappedSpan.toggleNestedSpanGroup,\n        toggleSiblingSpanGroup: undefined,\n      };\n\n      return [\n        spanGroupChain,\n        {...wrappedSpan, toggleNestedSpanGroup: undefined},\n        ...descendants,\n      ];\n    }\n\n    if (\n      isFirstSpanOfGroup &&\n      this.isNestedSpanGroupExpanded &&\n      !hideSpanTree &&\n      descendants.length <= 1 &&\n      wrappedSpan.type === 'span'\n    ) {\n      // If we know the descendants will be one span or less, we remove the \"regroup\" feature (therefore hide it)\n      // by setting toggleNestedSpanGroup to be undefined for the first span of the group chain.\n      wrappedSpan.toggleNestedSpanGroup = undefined;\n    }\n\n    // Do not autogroup groups that will only have two spans\n    if (\n      isLastSpanOfGroup &&\n      Array.isArray(spanNestedGrouping) &&\n      spanNestedGrouping.length === 1\n    ) {\n      if (!isNestedSpanGroupExpanded) {\n        const parentSpan = spanNestedGrouping[0].span;\n        const parentSpanBounds = generateBounds({\n          startTimestamp: parentSpan.start_timestamp,\n          endTimestamp: parentSpan.timestamp,\n        });\n        const isParentSpanOutOfView = !parentSpanBounds.isSpanVisibleInView;\n        if (!isParentSpanOutOfView) {\n          return [spanNestedGrouping[0], wrappedSpan, ...descendants];\n        }\n      }\n\n      return [wrappedSpan, ...descendants];\n    }\n\n    const gapSpan = this.generateSpanGap(\n      event,\n      previousSiblingEndTimestamp,\n      treeDepth,\n      continuingTreeDepths\n    );\n\n    if (gapSpan) {\n      return [gapSpan, wrappedSpan, ...descendants];\n    }\n\n    return [wrappedSpan, ...descendants];\n  };\n\n  toggleEmbeddedChildren =\n    ({\n      addTraceBounds,\n      removeTraceBounds,\n    }: {\n      addTraceBounds: (bounds: TraceBound) => void;\n      removeTraceBounds: (eventSlug: string) => void;\n    }) =>\n    (props: {eventSlug: string; orgSlug: string}) => {\n      this.showEmbeddedChildren = !this.showEmbeddedChildren;\n      this.fetchEmbeddedChildrenState = 'idle';\n\n      if (!this.showEmbeddedChildren) {\n        if (this.embeddedChildren.length > 0) {\n          this.embeddedChildren.forEach(child => {\n            removeTraceBounds(child.generateTraceBounds().spanId);\n          });\n        }\n      }\n\n      if (this.showEmbeddedChildren) {\n        if (this.embeddedChildren.length === 0) {\n          return this.fetchEmbeddedTransactions({...props, addTraceBounds});\n        }\n        this.embeddedChildren.forEach(child => {\n          addTraceBounds(child.generateTraceBounds());\n        });\n      }\n\n      return Promise.resolve(undefined);\n    };\n\n  fetchEmbeddedTransactions({\n    orgSlug,\n    eventSlug,\n    addTraceBounds,\n  }: {\n    addTraceBounds: (bounds: TraceBound) => void;\n    eventSlug: string;\n    orgSlug: string;\n  }) {\n    const url = `/organizations/${orgSlug}/events/${eventSlug}/`;\n\n    this.fetchEmbeddedChildrenState = 'loading_embedded_transactions';\n\n    return this.api\n      .requestPromise(url, {\n        method: 'GET',\n        query: {},\n      })\n      .then(\n        action('fetchEmbeddedTransactionsSuccess', (event: EventTransaction) => {\n          if (!event) {\n            return;\n          }\n\n          const parsedTrace = parseTrace(event);\n\n          // We need to adjust the timestamps for this embedded transaction only if it is not within the bounds of its parent span\n          if (\n            parsedTrace.traceStartTimestamp < this.span.start_timestamp ||\n            parsedTrace.traceEndTimestamp > this.span.timestamp\n          ) {\n            const startTimeDelta =\n              this.span.start_timestamp - parsedTrace.traceStartTimestamp;\n\n            parsedTrace.traceStartTimestamp += startTimeDelta;\n            parsedTrace.traceEndTimestamp += startTimeDelta;\n\n            parsedTrace.spans.forEach(span => {\n              span.start_timestamp += startTimeDelta;\n              span.timestamp += startTimeDelta;\n            });\n\n            this.isEmbeddedTransactionTimeAdjusted = true;\n          }\n\n          const rootSpan = generateRootSpan(parsedTrace);\n          const parsedRootSpan = new SpanTreeModel(\n            rootSpan,\n            parsedTrace.childSpans,\n            this.api,\n            false\n          );\n          this.embeddedChildren = [parsedRootSpan];\n          this.fetchEmbeddedChildrenState = 'idle';\n          addTraceBounds(parsedRootSpan.generateTraceBounds());\n        })\n      )\n      .catch(\n        action('fetchEmbeddedTransactionsError', () => {\n          this.embeddedChildren = [];\n          this.fetchEmbeddedChildrenState = 'error_fetching_embedded_transactions';\n        })\n      );\n  }\n\n  toggleNestedSpanGroup = () => {\n    this.isNestedSpanGroupExpanded = !this.isNestedSpanGroupExpanded;\n  };\n\n  toggleSiblingSpanGroup = (span: SpanType, occurrence?: number) => {\n    const key = getSiblingGroupKey(span, occurrence);\n\n    if (this.expandedSiblingGroups.has(key)) {\n      this.expandedSiblingGroups.delete(key);\n    } else {\n      this.expandedSiblingGroups.add(key);\n    }\n  };\n\n  generateTraceBounds = (): TraceBound => {\n    return {\n      spanId: this.span.span_id,\n      traceStartTimestamp: this.span.start_timestamp,\n      traceEndTimestamp: this.span.timestamp,\n    };\n  };\n}\n\nexport default SpanTreeModel;\n","import styled from '@emotion/styled';\n\nimport {ROW_HEIGHT} from 'sentry/components/performance/waterfall/constants';\n\nexport const MeasurementMarker = styled('div')<{failedThreshold: boolean}>`\n  position: absolute;\n  top: 0;\n  height: ${ROW_HEIGHT}px;\n  user-select: none;\n  width: 1px;\n  background: repeating-linear-gradient(\n      to bottom,\n      transparent 0 4px,\n      ${p => (p.failedThreshold ? p.theme.red300 : p.theme.textColor)} 4px 8px\n    )\n    80%/2px 100% no-repeat;\n  z-index: ${p => p.theme.zIndex.traceView.dividerLine};\n  color: ${p => p.theme.textColor};\n`;\n","import {memo} from 'react';\nimport styled from '@emotion/styled';\nimport flatten from 'lodash/flatten';\nimport groupBy from 'lodash/groupBy';\n\nimport List from 'sentry/components/list';\nimport ListItem from 'sentry/components/list/listItem';\nimport {tct, tn} from 'sentry/locale';\nimport {TraceError} from 'sentry/utils/performance/quickTrace/types';\n\nimport {ParsedTraceType, SpanType} from './types';\n\ninterface TraceErrorListProps {\n  errors: TraceError[];\n  onClickSpan: (event: React.MouseEvent, spanId: SpanType['span_id']) => void;\n  trace: ParsedTraceType;\n}\n\nfunction TraceErrorList({trace, errors, onClickSpan}: TraceErrorListProps) {\n  return (\n    <List symbol=\"bullet\" data-test-id=\"trace-error-list\">\n      {flatten(\n        Object.entries(groupBy(errors, 'span')).map(([spanId, spanErrors]) => {\n          return Object.entries(groupBy(spanErrors, 'level')).map(\n            ([level, spanLevelErrors]) => (\n              <ListItem key={`${spanId}-${level}`}>\n                {tct('[errors] [link]', {\n                  errors: tn(\n                    '%s %s error in ',\n                    '%s %s errors in ',\n                    spanLevelErrors.length,\n                    level === 'error' ? '' : level // Prevents awkward \"error errors\" copy if the level is \"error\"\n                  ),\n                  link: (\n                    <ErrorLink onClick={event => onClickSpan(event, spanId)}>\n                      {findSpanById(trace, spanId).op}\n                    </ErrorLink>\n                  ),\n                })}\n              </ListItem>\n            )\n          );\n        })\n      )}\n    </List>\n  );\n}\n\nconst ErrorLink = styled('a')`\n  color: ${p => p.theme.textColor};\n  :hover {\n    color: ${p => p.theme.textColor};\n  }\n`;\n\n// Given a span ID, find the associated span. It might be the trace itself\n// (which is technically a type of span) or a specific span associated with\n// the trace\nconst findSpanById = (trace: ParsedTraceType, spanId: SpanType['span_id']) => {\n  return trace.spans.find(span => span.span_id === spanId && span?.op) || trace;\n};\n\nexport default memo(TraceErrorList);\n","import {createRef, PureComponent} from 'react';\nimport {Observer} from 'mobx-react';\n\nimport EmptyStateWarning from 'sentry/components/emptyStateWarning';\nimport {t} from 'sentry/locale';\nimport {Organization} from 'sentry/types';\nimport {CustomerProfiler} from 'sentry/utils/performanceForSentry';\n\nimport * as CursorGuideHandler from './cursorGuideHandler';\nimport * as DividerHandlerManager from './dividerHandlerManager';\nimport DragManager, {DragManagerChildrenProps} from './dragManager';\nimport TraceViewHeader from './header';\nimport * as ScrollbarManager from './scrollbarManager';\nimport SpanTree from './spanTree';\nimport {getTraceContext} from './utils';\nimport WaterfallModel from './waterfallModel';\n\ntype Props = {\n  organization: Organization;\n  waterfallModel: WaterfallModel;\n  isEmbedded?: boolean;\n};\n\nclass TraceView extends PureComponent<Props> {\n  traceViewRef = createRef<HTMLDivElement>();\n  virtualScrollBarContainerRef = createRef<HTMLDivElement>();\n  minimapInteractiveRef = createRef<HTMLDivElement>();\n\n  renderHeader = (dragProps: DragManagerChildrenProps) => (\n    <Observer>\n      {() => {\n        const {waterfallModel} = this.props;\n\n        return (\n          <TraceViewHeader\n            organization={this.props.organization}\n            minimapInteractiveRef={this.minimapInteractiveRef}\n            dragProps={dragProps}\n            trace={waterfallModel.parsedTrace}\n            event={waterfallModel.event}\n            virtualScrollBarContainerRef={this.virtualScrollBarContainerRef}\n            operationNameFilters={waterfallModel.operationNameFilters}\n            rootSpan={waterfallModel.rootSpan.span}\n            spans={waterfallModel.getWaterfall({\n              viewStart: 0,\n              viewEnd: 1,\n            })}\n            generateBounds={waterfallModel.generateBounds({\n              viewStart: 0,\n              viewEnd: 1,\n            })}\n          />\n        );\n      }}\n    </Observer>\n  );\n\n  render() {\n    const {organization, waterfallModel, isEmbedded} = this.props;\n\n    if (!getTraceContext(waterfallModel.event)) {\n      return (\n        <EmptyStateWarning>\n          <p>{t('There is no trace for this transaction')}</p>\n        </EmptyStateWarning>\n      );\n    }\n\n    return (\n      <DragManager interactiveLayerRef={this.minimapInteractiveRef}>\n        {(dragProps: DragManagerChildrenProps) => (\n          <Observer>\n            {() => {\n              const parsedTrace = waterfallModel.parsedTrace;\n              return (\n                <CursorGuideHandler.Provider\n                  interactiveLayerRef={this.minimapInteractiveRef}\n                  dragProps={dragProps}\n                  trace={parsedTrace}\n                >\n                  <DividerHandlerManager.Provider interactiveLayerRef={this.traceViewRef}>\n                    <DividerHandlerManager.Consumer>\n                      {dividerHandlerChildrenProps => {\n                        return (\n                          <ScrollbarManager.Provider\n                            dividerPosition={dividerHandlerChildrenProps.dividerPosition}\n                            interactiveLayerRef={this.virtualScrollBarContainerRef}\n                            dragProps={dragProps}\n                            isEmbedded={isEmbedded}\n                          >\n                            {this.renderHeader(dragProps)}\n                            <Observer>\n                              {() => {\n                                return (\n                                  <CustomerProfiler id=\"SpanTree\">\n                                    <SpanTree\n                                      traceViewRef={this.traceViewRef}\n                                      dragProps={dragProps}\n                                      organization={organization}\n                                      waterfallModel={waterfallModel}\n                                      filterSpans={waterfallModel.filterSpans}\n                                      spans={waterfallModel.getWaterfall({\n                                        viewStart: dragProps.viewWindowStart,\n                                        viewEnd: dragProps.viewWindowEnd,\n                                      })}\n                                    />\n                                  </CustomerProfiler>\n                                );\n                              }}\n                            </Observer>\n                          </ScrollbarManager.Provider>\n                        );\n                      }}\n                    </DividerHandlerManager.Consumer>\n                  </DividerHandlerManager.Provider>\n                </CursorGuideHandler.Provider>\n              );\n            }}\n          </Observer>\n        )}\n      </DragManager>\n    );\n  }\n}\n\nexport default TraceView;\n","import isEqual from 'lodash/isEqual';\nimport pick from 'lodash/pick';\nimport {action, computed, makeObservable, observable} from 'mobx';\n\nimport {Client} from 'sentry/api';\nimport {EventTransaction} from 'sentry/types/event';\nimport {createFuzzySearch, Fuse} from 'sentry/utils/fuzzySearch';\n\nimport {ActiveOperationFilter, noFilter, toggleAllFilters, toggleFilter} from './filter';\nimport SpanTreeModel from './spanTreeModel';\nimport {\n  FilterSpans,\n  FocusedSpanIDMap,\n  IndexedFusedSpan,\n  ParsedTraceType,\n  RawSpanType,\n  TraceBound,\n} from './types';\nimport {boundsGenerator, generateRootSpan, getSpanID, parseTrace} from './utils';\n\nclass WaterfallModel {\n  api: Client = new Client();\n\n  // readonly state\n  event: Readonly<EventTransaction>;\n  rootSpan: SpanTreeModel;\n  parsedTrace: ParsedTraceType;\n  fuse: Fuse<IndexedFusedSpan> | undefined = undefined;\n  focusedSpanIds?: FocusedSpanIDMap;\n\n  // readable/writable state\n  operationNameFilters: ActiveOperationFilter = noFilter;\n  filterSpans: FilterSpans | undefined = undefined;\n  searchQuery: string | undefined = undefined;\n  hiddenSpanSubTrees: Set<string>;\n  traceBounds: Array<TraceBound>;\n\n  constructor(event: Readonly<EventTransaction>, focusedSpanIds?: FocusedSpanIDMap) {\n    this.event = event;\n\n    this.parsedTrace = parseTrace(event);\n    const rootSpan = generateRootSpan(this.parsedTrace);\n    this.rootSpan = new SpanTreeModel(\n      rootSpan,\n      this.parsedTrace.childSpans,\n      this.api,\n      true\n    );\n\n    // Track the trace bounds of the current transaction and the trace bounds of\n    // any embedded transactions\n    this.traceBounds = [this.rootSpan.generateTraceBounds()];\n\n    this.indexSearch(this.parsedTrace, rootSpan);\n\n    // Set of span IDs whose sub-trees should be hidden. This is used for the\n    // span tree toggling product feature.\n    this.hiddenSpanSubTrees = new Set();\n\n    // When viewing the span waterfall from a Performance Issue, a set of span IDs may be provided\n    this.focusedSpanIds = focusedSpanIds;\n\n    makeObservable(this, {\n      parsedTrace: observable,\n      rootSpan: observable,\n\n      // operation names filtering\n      operationNameFilters: observable,\n      toggleOperationNameFilter: action,\n      toggleAllOperationNameFilters: action,\n      operationNameCounts: computed.struct,\n\n      // span search\n      filterSpans: observable,\n      searchQuery: observable,\n      querySpanSearch: action,\n\n      // span sub-tree toggling\n      hiddenSpanSubTrees: observable,\n      toggleSpanSubTree: action,\n\n      // trace bounds\n      traceBounds: observable,\n      addTraceBounds: action,\n      removeTraceBounds: action,\n    });\n  }\n\n  isEvent(otherEvent: Readonly<EventTransaction>) {\n    return isEqual(this.event, otherEvent);\n  }\n\n  toggleOperationNameFilter = (operationName: string) => {\n    this.operationNameFilters = toggleFilter(this.operationNameFilters, operationName);\n  };\n\n  toggleAllOperationNameFilters = () => {\n    const operationNames = Array.from(this.operationNameCounts.keys());\n\n    this.operationNameFilters = toggleAllFilters(\n      this.operationNameFilters,\n      operationNames\n    );\n  };\n\n  get operationNameCounts(): Map<string, number> {\n    return this.rootSpan.operationNameCounts;\n  }\n\n  async indexSearch(parsedTrace: ParsedTraceType, rootSpan: RawSpanType) {\n    this.filterSpans = undefined;\n    this.searchQuery = undefined;\n\n    const {spans} = parsedTrace;\n\n    const transformed: IndexedFusedSpan[] = [rootSpan, ...spans].map(\n      (span): IndexedFusedSpan => {\n        const indexed: string[] = [];\n\n        // basic properties\n\n        const pickedSpan = pick(span, [\n          // TODO: do we want this?\n          // 'trace_id',\n          'span_id',\n          'start_timestamp',\n          'timestamp',\n          'op',\n          'description',\n        ]);\n\n        const basicValues: string[] = Object.values(pickedSpan)\n          .filter(value => !!value)\n          .map(value => String(value));\n\n        indexed.push(...basicValues);\n\n        // tags\n\n        let tagKeys: string[] = [];\n        let tagValues: string[] = [];\n        const tags: {[tag_name: string]: string} | undefined = span?.tags;\n\n        if (tags) {\n          tagKeys = Object.keys(tags);\n          tagValues = Object.values(tags);\n        }\n\n        const data: {[data_name: string]: any} | undefined = span?.data ?? {};\n\n        let dataKeys: string[] = [];\n        let dataValues: string[] = [];\n        if (data) {\n          dataKeys = Object.keys(data);\n          dataValues = Object.values(data).map(\n            value => JSON.stringify(value, null, 4) || ''\n          );\n        }\n\n        return {\n          span,\n          indexed,\n          tagKeys,\n          tagValues,\n          dataKeys,\n          dataValues,\n        };\n      }\n    );\n\n    this.fuse = await createFuzzySearch(transformed, {\n      keys: ['indexed', 'tagKeys', 'tagValues', 'dataKeys', 'dataValues'],\n      includeMatches: false,\n      threshold: 0.6,\n      location: 0,\n      distance: 100,\n      maxPatternLength: 32,\n    });\n  }\n\n  querySpanSearch(searchQuery: string | undefined) {\n    if (!searchQuery) {\n      // reset\n      if (this.filterSpans !== undefined) {\n        this.filterSpans = undefined;\n        this.searchQuery = undefined;\n      }\n      return;\n    }\n\n    if (!this.fuse) {\n      return;\n    }\n\n    const results = this.fuse.search(searchQuery);\n\n    const spanIDs: Set<string> = results.reduce((setOfSpanIDs: Set<string>, result) => {\n      const spanID = getSpanID(result.item.span);\n\n      if (spanID) {\n        setOfSpanIDs.add(spanID);\n      }\n\n      return setOfSpanIDs;\n    }, new Set<string>());\n\n    this.searchQuery = searchQuery;\n    this.filterSpans = {spanIDs, results};\n  }\n\n  toggleSpanSubTree = (spanID: string) => {\n    if (this.hiddenSpanSubTrees.has(spanID)) {\n      this.hiddenSpanSubTrees.delete(spanID);\n      return;\n    }\n\n    this.hiddenSpanSubTrees.add(spanID);\n  };\n\n  addTraceBounds = (traceBound: TraceBound) => {\n    this.traceBounds.push(traceBound);\n\n    this.parsedTrace = {\n      ...this.parsedTrace,\n      ...this.getTraceBounds(),\n    };\n  };\n\n  removeTraceBounds = (spanId: string) => {\n    this.traceBounds = this.traceBounds.filter(bound => bound.spanId !== spanId);\n\n    // traceBounds must always be non-empty\n    if (this.traceBounds.length === 0) {\n      this.traceBounds = [this.rootSpan.generateTraceBounds()];\n    }\n\n    this.parsedTrace = {\n      ...this.parsedTrace,\n      ...this.getTraceBounds(),\n    };\n  };\n\n  getTraceBounds = () => {\n    // traceBounds must always be non-empty\n    if (this.traceBounds.length === 0) {\n      this.traceBounds = [this.rootSpan.generateTraceBounds()];\n    }\n\n    return this.traceBounds.reduce(\n      (acc, bounds) => {\n        return {\n          traceStartTimestamp: Math.min(\n            acc.traceStartTimestamp,\n            bounds.traceStartTimestamp\n          ),\n          traceEndTimestamp: Math.max(acc.traceEndTimestamp, bounds.traceEndTimestamp),\n        };\n      },\n      {\n        traceStartTimestamp: this.traceBounds[0].traceStartTimestamp,\n        traceEndTimestamp: this.traceBounds[0].traceEndTimestamp,\n      }\n    );\n  };\n\n  generateBounds = ({\n    viewStart,\n    viewEnd,\n  }: {\n    // in [0, 1]\n    viewEnd: number;\n    viewStart: number; // in [0, 1]\n  }) => {\n    return boundsGenerator({\n      ...this.getTraceBounds(),\n      viewStart,\n      viewEnd,\n    });\n  };\n\n  getWaterfall = ({\n    viewStart,\n    viewEnd,\n  }: {\n    // in [0, 1]\n    viewEnd: number;\n    viewStart: number; // in [0, 1]\n  }) => {\n    const generateBounds = this.generateBounds({\n      viewStart,\n      viewEnd,\n    });\n\n    return this.rootSpan.getSpansList({\n      operationNameFilters: this.operationNameFilters,\n      generateBounds,\n      treeDepth: 0,\n      directParent: null,\n      isLastSibling: true,\n      continuingTreeDepths: [],\n      hiddenSpanSubTrees: this.hiddenSpanSubTrees,\n      spanAncestors: new Set(),\n      filterSpans: this.filterSpans,\n      focusedSpanIds: this.focusedSpanIds,\n      previousSiblingEndTimestamp: undefined,\n      event: this.event,\n      isOnlySibling: true,\n      spanNestedGrouping: undefined,\n      toggleNestedSpanGroup: undefined,\n      isNestedSpanGroupExpanded: false,\n      addTraceBounds: this.addTraceBounds,\n      removeTraceBounds: this.removeTraceBounds,\n    });\n  };\n}\n\nexport default WaterfallModel;\n","import {useState} from 'react';\n\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport CrashContent from 'sentry/components/events/interfaces/crashContent';\nimport CrashActions from 'sentry/components/events/interfaces/crashHeader/crashActions';\nimport CrashTitle from 'sentry/components/events/interfaces/crashHeader/crashTitle';\nimport {t} from 'sentry/locale';\nimport {Group, Project} from 'sentry/types';\nimport {EntryType, Event} from 'sentry/types/event';\nimport {STACK_TYPE, STACK_VIEW} from 'sentry/types/stacktrace';\n\nimport NoStackTraceMessage from './noStackTraceMessage';\nimport {isStacktraceNewestFirst} from './utils';\n\ntype CrashContentProps = React.ComponentProps<typeof CrashContent>;\n\ntype Props = Pick<\n  CrashContentProps,\n  'groupingCurrentLevel' | 'hasHierarchicalGrouping'\n> & {\n  data: NonNullable<CrashContentProps['stacktrace']>;\n  event: Event;\n  projectId: Project['id'];\n  groupingCurrentLevel?: Group['metadata']['current_level'];\n  hideGuide?: boolean;\n};\n\nfunction StacktraceInterface({\n  hideGuide = false,\n  projectId,\n  event,\n  data,\n  hasHierarchicalGrouping,\n  groupingCurrentLevel,\n}: Props) {\n  const [stackView, setStackView] = useState<STACK_VIEW>(\n    data.hasSystemFrames ? STACK_VIEW.APP : STACK_VIEW.FULL\n  );\n  const [newestFirst, setNewestFirst] = useState(isStacktraceNewestFirst());\n\n  const stackTraceNotFound = !(data.frames ?? []).length;\n\n  return (\n    <EventDataSection\n      type={EntryType.STACKTRACE}\n      title={\n        <CrashTitle\n          title={t('Stack Trace')}\n          hideGuide={hideGuide}\n          newestFirst={newestFirst}\n          onChange={\n            !stackTraceNotFound ? value => setNewestFirst(value.newestFirst) : undefined\n          }\n        />\n      }\n      actions={\n        !stackTraceNotFound && (\n          <CrashActions\n            stackView={stackView}\n            platform={event.platform}\n            stacktrace={data}\n            hasHierarchicalGrouping={hasHierarchicalGrouping}\n            onChange={value => setStackView(value.stackView ?? stackView)}\n          />\n        )\n      }\n      wrapTitle={false}\n    >\n      {stackTraceNotFound ? (\n        <NoStackTraceMessage />\n      ) : (\n        <CrashContent\n          projectId={projectId}\n          event={event}\n          stackView={stackView}\n          newestFirst={newestFirst}\n          stacktrace={data}\n          stackType={STACK_TYPE.ORIGINAL}\n          groupingCurrentLevel={groupingCurrentLevel}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n        />\n      )}\n    </EventDataSection>\n  );\n}\n\nexport default StacktraceInterface;\n","import CrashContent from 'sentry/components/events/interfaces/crashContent';\nimport {t} from 'sentry/locale';\nimport {Group, PlatformType, Project} from 'sentry/types';\nimport {EntryType, Event} from 'sentry/types/event';\nimport {STACK_TYPE, STACK_VIEW} from 'sentry/types/stacktrace';\n\nimport {PermalinkTitle, TraceEventDataSection} from '../traceEventDataSection';\n\nimport CrashContentStackTrace from './crashContent/stackTrace';\nimport NoStackTraceMessage from './noStackTraceMessage';\nimport {isStacktraceNewestFirst} from './utils';\n\ntype CrashContentProps = React.ComponentProps<typeof CrashContent>;\n\ntype Props = Pick<\n  CrashContentProps,\n  'groupingCurrentLevel' | 'hasHierarchicalGrouping'\n> & {\n  data: NonNullable<CrashContentProps['stacktrace']>;\n  event: Event;\n  projectId: Project['id'];\n  groupingCurrentLevel?: Group['metadata']['current_level'];\n  hideGuide?: boolean;\n};\n\nfunction StackTrace({\n  projectId,\n  event,\n  data,\n  hasHierarchicalGrouping,\n  groupingCurrentLevel,\n}: Props) {\n  const entryIndex = event.entries.findIndex(\n    eventEntry => eventEntry.type === EntryType.STACKTRACE\n  );\n\n  const meta = event._meta?.entries?.[entryIndex]?.data;\n\n  function getPlatform(): PlatformType {\n    const framePlatform = data.frames?.find(frame => !!frame.platform);\n    return framePlatform?.platform ?? event.platform ?? 'other';\n  }\n\n  const platform = getPlatform();\n  const stackTraceNotFound = !(data.frames ?? []).length;\n\n  return (\n    <TraceEventDataSection\n      type={EntryType.STACKTRACE}\n      stackType={STACK_TYPE.ORIGINAL}\n      projectId={projectId}\n      eventId={event.id}\n      platform={platform}\n      stackTraceNotFound={stackTraceNotFound}\n      recentFirst={isStacktraceNewestFirst()}\n      fullStackTrace={!data.hasSystemFrames}\n      title={<PermalinkTitle>{t('Stack Trace')}</PermalinkTitle>}\n      wrapTitle={false}\n      hasMinified={false}\n      hasVerboseFunctionNames={\n        !!data.frames?.some(\n          frame =>\n            !!frame.rawFunction &&\n            !!frame.function &&\n            frame.rawFunction !== frame.function\n        )\n      }\n      hasAbsoluteFilePaths={!!data.frames?.some(frame => !!frame.filename)}\n      hasAbsoluteAddresses={!!data.frames?.some(frame => !!frame.instructionAddr)}\n      hasAppOnlyFrames={!!data.frames?.some(frame => frame.inApp !== true)}\n      hasNewestFirst={(data.frames ?? []).length > 1}\n    >\n      {({recentFirst, display, fullStackTrace}) =>\n        stackTraceNotFound ? (\n          <NoStackTraceMessage />\n        ) : (\n          <CrashContentStackTrace\n            meta={meta}\n            event={event}\n            platform={platform}\n            stackView={\n              display.includes('raw-stack-trace')\n                ? STACK_VIEW.RAW\n                : fullStackTrace\n                ? STACK_VIEW.FULL\n                : STACK_VIEW.APP\n            }\n            newestFirst={recentFirst}\n            stacktrace={data}\n            groupingCurrentLevel={groupingCurrentLevel}\n            hasHierarchicalGrouping={hasHierarchicalGrouping}\n            nativeV2\n          />\n        )\n      }\n    </TraceEventDataSection>\n  );\n}\n\nexport default StackTrace;\n","import {t} from 'sentry/locale';\nimport {EntryType, Event, Frame} from 'sentry/types';\n\nimport EventDataSection from '../../events/eventDataSection';\n\nimport Line from './frame/line';\n\ntype Props = {\n  data: Frame;\n  event: Event;\n};\n\nexport function Template({data, event}: Props) {\n  const entryIndex = event.entries.findIndex(entry => entry.type === EntryType.TEMPLATE);\n  const meta = event._meta?.entries?.[entryIndex]?.data?.values;\n  return (\n    <EventDataSection type={EntryType.TEMPLATE} title={t('Template')}>\n      <div className=\"traceback no-exception\">\n        <ul>\n          <Line\n            data={data}\n            event={event}\n            registers={{}}\n            components={[]}\n            frameMeta={meta}\n            isExpanded\n          />\n        </ul>\n      </div>\n    </EventDataSection>\n  );\n}\n","import isNil from 'lodash/isNil';\n\nimport CrashContent from 'sentry/components/events/interfaces/crashContent';\nimport Pill from 'sentry/components/pill';\nimport Pills from 'sentry/components/pills';\nimport {t} from 'sentry/locale';\nimport {Event, Project, STACK_TYPE, STACK_VIEW, Thread} from 'sentry/types';\n\nimport NoStackTraceMessage from '../noStackTraceMessage';\n\ntype CrashContentProps = React.ComponentProps<typeof CrashContent>;\n\ntype Props = {\n  event: Event;\n  newestFirst: boolean;\n  projectId: Project['id'];\n  stackTraceNotFound: boolean;\n  stackType: STACK_TYPE;\n  data?: Thread;\n  stackView?: STACK_VIEW;\n} & Pick<\n  CrashContentProps,\n  'exception' | 'stacktrace' | 'hasHierarchicalGrouping' | 'groupingCurrentLevel'\n>;\n\nconst Content = ({\n  event,\n  projectId,\n  data,\n  stackView,\n  groupingCurrentLevel,\n  stackType,\n  newestFirst,\n  exception,\n  stacktrace,\n  stackTraceNotFound,\n  hasHierarchicalGrouping,\n}: Props) => (\n  <div className=\"thread\">\n    {data && (!isNil(data?.id) || !!data?.name) && (\n      <Pills>\n        {!isNil(data.id) && <Pill name={t('id')} value={String(data.id)} />}\n        {!!data.name?.trim() && <Pill name={t('name')} value={data.name} />}\n        <Pill name={t('was active')} value={data.current} />\n        <Pill name={t('errored')} className={data.crashed ? 'false' : 'true'}>\n          {data.crashed ? t('yes') : t('no')}\n        </Pill>\n      </Pills>\n    )}\n\n    {stackTraceNotFound ? (\n      <NoStackTraceMessage message={data?.crashed ? t('Thread Errored') : undefined} />\n    ) : (\n      <CrashContent\n        event={event}\n        stackType={stackType}\n        stackView={stackView}\n        newestFirst={newestFirst}\n        projectId={projectId}\n        exception={exception}\n        stacktrace={stacktrace}\n        groupingCurrentLevel={groupingCurrentLevel}\n        hasHierarchicalGrouping={hasHierarchicalGrouping}\n      />\n    )}\n  </div>\n);\n\nexport default Content;\n","import {useState} from 'react';\n\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport CrashActions from 'sentry/components/events/interfaces/crashHeader/crashActions';\nimport CrashTitle from 'sentry/components/events/interfaces/crashHeader/crashTitle';\nimport {t} from 'sentry/locale';\nimport {EntryType, Event, Project, STACK_TYPE, STACK_VIEW, Thread} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nimport {PermalinkTitle} from '../../traceEventDataSection';\nimport {isStacktraceNewestFirst} from '../utils';\n\nimport findBestThread from './threadSelector/findBestThread';\nimport getThreadException from './threadSelector/getThreadException';\nimport getThreadStacktrace from './threadSelector/getThreadStacktrace';\nimport Content from './content';\nimport ThreadSelector from './threadSelector';\n\ntype Props = Pick<\n  React.ComponentProps<typeof Content>,\n  'groupingCurrentLevel' | 'hasHierarchicalGrouping'\n> & {\n  data: {\n    values?: Array<Thread>;\n  };\n  event: Event;\n  projectId: Project['id'];\n  hideGuide?: boolean;\n};\n\ntype State = {\n  newestFirst: boolean;\n  stackType: STACK_TYPE;\n  activeThread?: Thread;\n  stackView?: STACK_VIEW;\n};\n\nfunction getIntendedStackView(thread: Thread, event: Event) {\n  const exception = getThreadException(event, thread);\n  if (exception) {\n    return !!exception.values.find(value => !!value.stacktrace?.hasSystemFrames)\n      ? STACK_VIEW.APP\n      : STACK_VIEW.FULL;\n  }\n\n  const stacktrace = getThreadStacktrace(false, thread);\n\n  return stacktrace?.hasSystemFrames ? STACK_VIEW.APP : STACK_VIEW.FULL;\n}\n\nfunction Threads({\n  data,\n  event,\n  projectId,\n  hasHierarchicalGrouping,\n  groupingCurrentLevel,\n  hideGuide = false,\n}: Props) {\n  const [state, setState] = useState<State>(() => {\n    const thread = defined(data.values) ? findBestThread(data.values) : undefined;\n    return {\n      activeThread: thread,\n      stackView: thread ? getIntendedStackView(thread, event) : undefined,\n      stackType: STACK_TYPE.ORIGINAL,\n      newestFirst: isStacktraceNewestFirst(),\n    };\n  });\n\n  if (!data.values) {\n    return null;\n  }\n\n  function handleSelectNewThread(thread: Thread) {\n    setState({\n      ...state,\n      activeThread: thread,\n      stackView:\n        state.stackView !== STACK_VIEW.RAW\n          ? getIntendedStackView(thread, event)\n          : state.stackView,\n      stackType: STACK_TYPE.ORIGINAL,\n    });\n  }\n\n  function handleChangeNewestFirst({newestFirst}: Pick<State, 'newestFirst'>) {\n    setState({...state, newestFirst});\n  }\n\n  function handleChangeStackView({\n    stackView,\n    stackType,\n  }: Partial<Pick<State, 'stackType' | 'stackView'>>) {\n    setState({\n      ...state,\n      stackView: stackView ?? state.stackView,\n      stackType: stackType ?? state.stackType,\n    });\n  }\n\n  const threads = data.values;\n  const {stackView, stackType, newestFirst, activeThread} = state;\n\n  const exception = getThreadException(event, activeThread);\n\n  const stacktrace = !exception\n    ? getThreadStacktrace(stackType !== STACK_TYPE.ORIGINAL, activeThread)\n    : undefined;\n\n  const stackTraceNotFound = !(exception || stacktrace);\n  const hasMoreThanOneThread = threads.length > 1;\n\n  return (\n    <EventDataSection\n      type={EntryType.THREADS}\n      title={\n        hasMoreThanOneThread ? (\n          <CrashTitle\n            title=\"\"\n            newestFirst={newestFirst}\n            hideGuide={hideGuide}\n            onChange={handleChangeNewestFirst}\n            beforeTitle={\n              activeThread && (\n                <ThreadSelector\n                  threads={threads}\n                  activeThread={activeThread}\n                  event={event}\n                  onChange={handleSelectNewThread}\n                  exception={exception}\n                />\n              )\n            }\n          />\n        ) : (\n          <PermalinkTitle>\n            <CrashTitle\n              title={t('Stack Trace')}\n              newestFirst={newestFirst}\n              hideGuide={hideGuide}\n              onChange={!stackTraceNotFound ? handleChangeNewestFirst : undefined}\n            />\n          </PermalinkTitle>\n        )\n      }\n      actions={\n        !stackTraceNotFound && (\n          <CrashActions\n            stackView={stackView}\n            platform={event.platform}\n            stacktrace={stacktrace}\n            stackType={stackType}\n            thread={hasMoreThanOneThread ? activeThread : undefined}\n            exception={exception}\n            onChange={handleChangeStackView}\n            hasHierarchicalGrouping={hasHierarchicalGrouping}\n          />\n        )\n      }\n      wrapTitle={false}\n    >\n      <Content\n        data={activeThread}\n        exception={exception}\n        stackView={stackView}\n        stackType={stackType}\n        stacktrace={stacktrace}\n        event={event}\n        newestFirst={newestFirst}\n        projectId={projectId}\n        groupingCurrentLevel={groupingCurrentLevel}\n        stackTraceNotFound={stackTraceNotFound}\n        hasHierarchicalGrouping={hasHierarchicalGrouping}\n      />\n    </EventDataSection>\n  );\n}\n\nexport default Threads;\n","import {trimPackage} from 'sentry/components/events/interfaces/frame/utils';\nimport {\n  EntryData,\n  Event,\n  ExceptionType,\n  Frame,\n  StacktraceType,\n  Thread,\n} from 'sentry/types';\n\nimport getRelevantFrame from './getRelevantFrame';\nimport getThreadException from './getThreadException';\nimport getThreadStacktrace from './getThreadStacktrace';\nimport trimFilename from './trimFilename';\n\ntype ThreadInfo = {\n  crashedInfo?: EntryData;\n  filename?: string;\n  label?: string;\n};\n\nfunction filterThreadInfo(\n  event: Event,\n  thread: Thread,\n  exception?: Required<ExceptionType>\n): ThreadInfo {\n  const threadInfo: ThreadInfo = {};\n\n  let stacktrace: StacktraceType | undefined = getThreadStacktrace(false, thread);\n\n  if (thread.crashed) {\n    const threadException = exception ?? getThreadException(event, thread);\n\n    const matchedStacktraceAndExceptionThread = threadException?.values.find(\n      exceptionDataValue => exceptionDataValue.threadId === thread.id\n    );\n\n    if (matchedStacktraceAndExceptionThread) {\n      stacktrace = matchedStacktraceAndExceptionThread.stacktrace ?? undefined;\n    }\n\n    threadInfo.crashedInfo = threadException;\n  }\n\n  if (!stacktrace) {\n    return threadInfo;\n  }\n\n  const relevantFrame: Frame = getRelevantFrame(stacktrace);\n\n  if (relevantFrame.filename) {\n    threadInfo.filename = trimFilename(relevantFrame.filename);\n  }\n\n  if (relevantFrame.function) {\n    threadInfo.label = relevantFrame.function;\n    return threadInfo;\n  }\n\n  if (relevantFrame.package) {\n    threadInfo.label = trimPackage(relevantFrame.package);\n    return threadInfo;\n  }\n\n  if (relevantFrame.module) {\n    threadInfo.label = relevantFrame.module;\n    return threadInfo;\n  }\n\n  return threadInfo;\n}\n\nexport default filterThreadInfo;\n","import {Frame} from 'sentry/types';\n\n// TODO(ts): define correct stack trace type\nfunction getRelevantFrame(stacktrace: any): Frame {\n  if (!stacktrace.hasSystemFrames) {\n    return stacktrace.frames[stacktrace.frames.length - 1];\n  }\n  for (let i = stacktrace.frames.length - 1; i >= 0; i--) {\n    const frame = stacktrace.frames[i];\n    if (frame.inApp) {\n      return frame;\n    }\n  }\n  // this should not happen\n  return stacktrace.frames[stacktrace.frames.length - 1];\n}\n\nexport default getRelevantFrame;\n","import {Event, ExceptionType, ExceptionValue, Thread} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\nfunction getException(\n  exceptionData: ExceptionType,\n  exceptionDataValues: ExceptionValue[],\n  thread: Thread\n) {\n  if (exceptionDataValues.length === 1 && !exceptionDataValues[0].stacktrace) {\n    return {\n      ...exceptionData,\n      values: [\n        {\n          ...exceptionDataValues[0],\n          stacktrace: thread.stacktrace,\n          rawStacktrace: thread.rawStacktrace,\n        },\n      ],\n    };\n  }\n\n  const exceptionHasAtLeastOneStacktrace = !!exceptionDataValues.find(\n    exceptionDataValue => exceptionDataValue.stacktrace\n  );\n\n  if (!!exceptionHasAtLeastOneStacktrace) {\n    return exceptionData as Required<ExceptionType>;\n  }\n\n  return undefined;\n}\n\nfunction getThreadException(\n  event: Event,\n  thread?: Thread\n): Required<ExceptionType> | undefined {\n  const exceptionEntry = event.entries.find(entry => entry.type === 'exception');\n\n  if (!exceptionEntry) {\n    return undefined;\n  }\n\n  const exceptionData = exceptionEntry.data as ExceptionType;\n  const exceptionDataValues = exceptionData.values;\n\n  if (!exceptionDataValues?.length || !thread) {\n    return undefined;\n  }\n\n  const matchedStacktraceAndExceptionThread = exceptionDataValues.find(\n    exceptionDataValue => exceptionDataValue.threadId === thread.id\n  );\n\n  if (matchedStacktraceAndExceptionThread) {\n    return getException(exceptionData, exceptionDataValues, thread);\n  }\n\n  if (\n    exceptionDataValues.every(\n      exceptionDataValue => !defined(exceptionDataValue.threadId)\n    ) &&\n    thread.crashed\n  ) {\n    return getException(exceptionData, exceptionDataValues, thread);\n  }\n\n  return undefined;\n}\n\nexport default getThreadException;\n","import {t} from 'sentry/locale';\n\nimport {Grid, GridCell} from './styles';\n\nconst Header = () => (\n  <Grid>\n    <GridCell />\n    <GridCell>{t('Id')}</GridCell>\n    <GridCell>{t('Name')}</GridCell>\n    <GridCell>{t('Label')}</GridCell>\n  </Grid>\n);\n\nexport default Header;\n","import {ClassNames} from '@emotion/react';\nimport styled from '@emotion/styled';\nimport partition from 'lodash/partition';\n\nimport DropdownAutoComplete from 'sentry/components/dropdownAutoComplete';\nimport DropdownButton from 'sentry/components/dropdownButton';\nimport {t} from 'sentry/locale';\nimport {Event, ExceptionType, Thread} from 'sentry/types';\nimport theme from 'sentry/utils/theme';\n\nimport filterThreadInfo from './filterThreadInfo';\nimport Header from './header';\nimport Option from './option';\nimport SelectedOption from './selectedOption';\n\ntype Props = {\n  activeThread: Thread;\n  event: Event;\n  threads: Array<Thread>;\n  exception?: Required<ExceptionType>;\n  fullWidth?: boolean;\n  onChange?: (thread: Thread) => void;\n};\n\nconst DROPDOWN_MAX_HEIGHT = 400;\n\nconst ThreadSelector = ({\n  threads,\n  event,\n  exception,\n  activeThread,\n  onChange,\n  fullWidth = false,\n}: Props) => {\n  const getDropDownItem = (thread: Thread) => {\n    const {label, filename, crashedInfo} = filterThreadInfo(event, thread, exception);\n    const threadInfo = {label, filename};\n    return {\n      value: `#${thread.id}: ${thread.name} ${label} ${filename}`,\n      threadInfo,\n      thread,\n      label: (\n        <Option\n          id={thread.id}\n          details={threadInfo}\n          name={thread.name}\n          crashed={thread.crashed}\n          crashedInfo={crashedInfo}\n        />\n      ),\n    };\n  };\n\n  const getItems = () => {\n    const [crashed, notCrashed] = partition(threads, thread => !!thread?.crashed);\n    return [...crashed, ...notCrashed].map(getDropDownItem);\n  };\n\n  const handleChange = (thread: Thread) => {\n    if (onChange) {\n      onChange(thread);\n    }\n  };\n\n  return (\n    <ClassNames>\n      {({css}) => (\n        <StyledDropdownAutoComplete\n          data-test-id=\"thread-selector\"\n          items={getItems()}\n          onSelect={item => {\n            handleChange(item.thread);\n          }}\n          maxHeight={DROPDOWN_MAX_HEIGHT}\n          searchPlaceholder={t('Filter Threads')}\n          emptyMessage={t('You have no threads')}\n          noResultsMessage={t('No threads found')}\n          menuHeader={<Header />}\n          rootClassName={\n            fullWidth\n              ? css`\n                  width: 100%;\n                `\n              : undefined\n          }\n          closeOnSelect\n          emptyHidesInput\n        >\n          {({isOpen, selectedItem}) => (\n            <StyledDropdownButton isOpen={isOpen} size=\"xs\" align=\"left\">\n              {selectedItem ? (\n                <SelectedOption\n                  id={selectedItem.thread.id}\n                  details={selectedItem.threadInfo}\n                />\n              ) : (\n                <SelectedOption\n                  id={activeThread.id}\n                  details={filterThreadInfo(event, activeThread, exception)}\n                />\n              )}\n            </StyledDropdownButton>\n          )}\n        </StyledDropdownAutoComplete>\n      )}\n    </ClassNames>\n  );\n};\n\nexport default ThreadSelector;\n\nconst StyledDropdownAutoComplete = styled(DropdownAutoComplete)`\n  min-width: 300px;\n  @media (min-width: ${theme.breakpoints.small}) {\n    width: 500px;\n  }\n  @media (max-width: ${p => p.theme.breakpoints.large}) {\n    top: calc(100% - 2px);\n  }\n`;\n\nconst StyledDropdownButton = styled(DropdownButton)`\n  > *:first-child {\n    justify-content: space-between;\n    width: 100%;\n  }\n  width: 100%;\n  min-width: 150px;\n  @media (min-width: ${props => props.theme.breakpoints.small}) {\n    > *:first-child {\n      width: auto;\n    }\n  }\n`;\n","import styled from '@emotion/styled';\n\nimport TextOverflow from 'sentry/components/textOverflow';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconFire} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport {EntryData} from 'sentry/types';\nimport {Color} from 'sentry/utils/theme';\n\nimport {Grid, GridCell} from './styles';\n\ntype Props = {\n  details: ThreadInfo;\n  id: number;\n  crashed?: boolean;\n  crashedInfo?: EntryData;\n  name?: string | null;\n};\n\ntype ThreadInfo = {\n  filename?: string;\n  label?: string;\n};\n\nconst Option = ({id, details, name, crashed, crashedInfo}: Props) => {\n  const label = details.label ?? `<${t('unknown')}>`;\n  const optionName = name || `<${t('unknown')}>`;\n\n  return (\n    <Grid>\n      <GridCell>\n        {crashed && (\n          <InnerCell isCentered>\n            {crashedInfo ? (\n              <Tooltip\n                skipWrapper\n                title={tct('Errored with [crashedInfo]', {\n                  crashedInfo: crashedInfo.values[0].type,\n                })}\n                disabled={!crashedInfo}\n                position=\"top\"\n              >\n                <IconFire color=\"red300\" />\n              </Tooltip>\n            ) : (\n              <IconFire color=\"red300\" />\n            )}\n          </InnerCell>\n        )}\n      </GridCell>\n      <GridCell>\n        <InnerCell>\n          <Tooltip title={`#${id}`} position=\"top\">\n            <TextOverflow>{`#${id}`}</TextOverflow>\n          </Tooltip>\n        </InnerCell>\n      </GridCell>\n      <GridCell>\n        <InnerCell isBold>\n          <Tooltip title={optionName} position=\"top\">\n            <TextOverflow>{optionName}</TextOverflow>\n          </Tooltip>\n        </InnerCell>\n      </GridCell>\n      <GridCell>\n        <InnerCell color=\"blue300\">\n          <Tooltip title={label} position=\"top\">\n            <TextOverflow>{label}</TextOverflow>\n          </Tooltip>\n        </InnerCell>\n      </GridCell>\n    </Grid>\n  );\n};\n\nexport default Option;\n\nconst InnerCell = styled('div')<{color?: Color; isBold?: boolean; isCentered?: boolean}>`\n  display: flex;\n  align-items: center;\n  justify-content: ${p => (p.isCentered ? 'center' : 'flex-start')};\n  font-weight: ${p => (p.isBold ? 600 : 400)};\n  ${p => p.color && `color: ${p.theme[p.color]}`}\n`;\n","import styled from '@emotion/styled';\n\nimport TextOverflow from 'sentry/components/textOverflow';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\n\ntype Props = {\n  details: ThreadInfo;\n  id: number;\n};\n\ntype ThreadInfo = {\n  filename?: string;\n  label?: string;\n};\n\nconst SelectedOption = ({id, details}: Props) => (\n  <Wrapper>\n    <ThreadId>{tct('Thread #[id]:', {id})}</ThreadId>\n    <Label>{details?.label || `<${t('unknown')}>`}</Label>\n  </Wrapper>\n);\n\nexport default SelectedOption;\n\nconst Wrapper = styled('div')`\n  grid-template-columns: auto 1fr;\n  display: grid;\n`;\n\nconst ThreadId = styled(TextOverflow)`\n  padding-right: ${space(1)};\n  max-width: 100%;\n  text-align: left;\n`;\n\nconst Label = styled(ThreadId)`\n  font-weight: 400;\n`;\n","import styled from '@emotion/styled';\n\nimport space from 'sentry/styles/space';\n\nconst Grid = styled('div')`\n  font-size: ${p => p.theme.fontSizeSmall};\n  display: grid;\n  gap: ${space(1)};\n  align-items: center;\n  grid-template-columns: 16px repeat(2, 1fr) 3fr;\n`;\n\nconst GridCell = styled('div')`\n  ${p => p.theme.overflowEllipsis};\n`;\n\nexport {Grid, GridCell};\n","function trimFilename(filename: string) {\n  const pieces = filename.split(/\\//g);\n  return pieces[pieces.length - 1];\n}\n\nexport default trimFilename;\n","import {Fragment, useState} from 'react';\nimport isNil from 'lodash/isNil';\n\nimport Pill from 'sentry/components/pill';\nimport Pills from 'sentry/components/pills';\nimport {t} from 'sentry/locale';\nimport {\n  EntryType,\n  Event,\n  Frame,\n  PlatformType,\n  Project,\n  STACK_TYPE,\n  STACK_VIEW,\n  Thread,\n} from 'sentry/types';\n\nimport {PermalinkTitle, TraceEventDataSection} from '../traceEventDataSection';\n\nimport Exception from './crashContent/exception';\nimport StackTrace from './crashContent/stackTrace';\nimport ThreadSelector from './threads/threadSelector';\nimport findBestThread from './threads/threadSelector/findBestThread';\nimport getThreadException from './threads/threadSelector/getThreadException';\nimport getThreadStacktrace from './threads/threadSelector/getThreadStacktrace';\nimport NoStackTraceMessage from './noStackTraceMessage';\nimport {isStacktraceNewestFirst} from './utils';\n\ntype ExceptionProps = React.ComponentProps<typeof Exception>;\n\ntype Props = Pick<ExceptionProps, 'groupingCurrentLevel' | 'hasHierarchicalGrouping'> & {\n  data: {\n    values?: Array<Thread>;\n  };\n  event: Event;\n  projectId: Project['id'];\n};\n\ntype State = {\n  activeThread?: Thread;\n};\n\nfunction getIntendedStackView(\n  thread: Thread,\n  exception: ReturnType<typeof getThreadException>\n): STACK_VIEW {\n  if (exception) {\n    return !!exception.values.find(value => !!value.stacktrace?.hasSystemFrames)\n      ? STACK_VIEW.APP\n      : STACK_VIEW.FULL;\n  }\n\n  const stacktrace = getThreadStacktrace(false, thread);\n\n  return stacktrace?.hasSystemFrames ? STACK_VIEW.APP : STACK_VIEW.FULL;\n}\n\nfunction Threads({\n  data,\n  event,\n  projectId,\n  hasHierarchicalGrouping,\n  groupingCurrentLevel,\n}: Props) {\n  const threads = data.values ?? [];\n\n  const [state, setState] = useState<State>(() => {\n    const thread = !!threads.length ? findBestThread(threads) : undefined;\n    return {activeThread: thread};\n  });\n\n  const stackTraceNotFound = !threads.length;\n  const {activeThread} = state;\n\n  const hasMoreThanOneThread = threads.length > 1;\n\n  const exception = getThreadException(event, activeThread);\n\n  const entryIndex = exception\n    ? event.entries.findIndex(entry => entry.type === EntryType.EXCEPTION)\n    : event.entries.findIndex(entry => entry.type === EntryType.THREADS);\n\n  const meta = event._meta?.entries?.[entryIndex]?.data?.values;\n\n  const stackView = activeThread\n    ? getIntendedStackView(activeThread, exception)\n    : undefined;\n\n  function getPlatform(): PlatformType {\n    let exceptionFramePlatform: Frame | undefined = undefined;\n\n    for (const value of exception?.values ?? []) {\n      exceptionFramePlatform = value.stacktrace?.frames?.find(frame => !!frame.platform);\n      if (exceptionFramePlatform) {\n        break;\n      }\n    }\n\n    if (exceptionFramePlatform?.platform) {\n      return exceptionFramePlatform.platform;\n    }\n\n    const threadFramePlatform = activeThread?.stacktrace?.frames?.find(\n      frame => !!frame.platform\n    );\n\n    if (threadFramePlatform?.platform) {\n      return threadFramePlatform.platform;\n    }\n\n    return event.platform ?? 'other';\n  }\n\n  function renderPills() {\n    const {id, name, current, crashed} = activeThread ?? {};\n\n    if (isNil(id) || !name) {\n      return null;\n    }\n\n    return (\n      <Pills>\n        {!isNil(id) && <Pill name={t('id')} value={String(id)} />}\n        {!!name?.trim() && <Pill name={t('name')} value={name} />}\n        {current !== undefined && <Pill name={t('was active')} value={current} />}\n        {crashed !== undefined && (\n          <Pill name={t('errored')} className={crashed ? 'false' : 'true'}>\n            {crashed ? t('yes') : t('no')}\n          </Pill>\n        )}\n      </Pills>\n    );\n  }\n\n  function renderContent({\n    display,\n    recentFirst,\n    fullStackTrace,\n  }: Parameters<React.ComponentProps<typeof TraceEventDataSection>['children']>[0]) {\n    const stackType = display.includes('minified')\n      ? STACK_TYPE.MINIFIED\n      : STACK_TYPE.ORIGINAL;\n\n    if (exception) {\n      return (\n        <Exception\n          stackType={stackType}\n          stackView={\n            display.includes('raw-stack-trace')\n              ? STACK_VIEW.RAW\n              : fullStackTrace\n              ? STACK_VIEW.FULL\n              : STACK_VIEW.APP\n          }\n          projectId={projectId}\n          newestFirst={recentFirst}\n          event={event}\n          platform={platform}\n          values={exception.values}\n          groupingCurrentLevel={groupingCurrentLevel}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n          meta={meta}\n        />\n      );\n    }\n\n    const stackTrace = getThreadStacktrace(\n      stackType !== STACK_TYPE.ORIGINAL,\n      activeThread\n    );\n\n    if (stackTrace) {\n      return (\n        <StackTrace\n          stacktrace={stackTrace}\n          stackView={\n            display.includes('raw-stack-trace')\n              ? STACK_VIEW.RAW\n              : fullStackTrace\n              ? STACK_VIEW.FULL\n              : STACK_VIEW.APP\n          }\n          newestFirst={recentFirst}\n          event={event}\n          platform={platform}\n          groupingCurrentLevel={groupingCurrentLevel}\n          hasHierarchicalGrouping={hasHierarchicalGrouping}\n          meta={meta}\n          nativeV2\n        />\n      );\n    }\n\n    return (\n      <NoStackTraceMessage\n        message={activeThread?.crashed ? t('Thread Errored') : undefined}\n      />\n    );\n  }\n\n  const platform = getPlatform();\n\n  return (\n    <TraceEventDataSection\n      type={EntryType.THREADS}\n      stackType={STACK_TYPE.ORIGINAL}\n      projectId={projectId}\n      eventId={event.id}\n      recentFirst={isStacktraceNewestFirst()}\n      fullStackTrace={stackView === STACK_VIEW.FULL}\n      title={\n        hasMoreThanOneThread && activeThread ? (\n          <ThreadSelector\n            threads={threads}\n            activeThread={activeThread}\n            event={event}\n            onChange={thread => {\n              setState({\n                ...state,\n                activeThread: thread,\n              });\n            }}\n            exception={exception}\n            fullWidth\n          />\n        ) : (\n          <PermalinkTitle>{t('Stack Trace')}</PermalinkTitle>\n        )\n      }\n      platform={platform}\n      hasMinified={\n        !!exception?.values?.find(value => value.rawStacktrace) ||\n        !!activeThread?.rawStacktrace\n      }\n      hasVerboseFunctionNames={\n        !!exception?.values?.some(\n          value =>\n            !!value.stacktrace?.frames?.some(\n              frame =>\n                !!frame.rawFunction &&\n                !!frame.function &&\n                frame.rawFunction !== frame.function\n            )\n        ) ||\n        !!activeThread?.stacktrace?.frames?.some(\n          frame =>\n            !!frame.rawFunction &&\n            !!frame.function &&\n            frame.rawFunction !== frame.function\n        )\n      }\n      hasAbsoluteFilePaths={\n        !!exception?.values?.some(\n          value => !!value.stacktrace?.frames?.some(frame => !!frame.filename)\n        ) || !!activeThread?.stacktrace?.frames?.some(frame => !!frame.filename)\n      }\n      hasAbsoluteAddresses={\n        !!exception?.values?.some(\n          value => !!value.stacktrace?.frames?.some(frame => !!frame.instructionAddr)\n        ) || !!activeThread?.stacktrace?.frames?.some(frame => !!frame.instructionAddr)\n      }\n      hasAppOnlyFrames={\n        !!exception?.values?.some(\n          value => !!value.stacktrace?.frames?.some(frame => frame.inApp !== true)\n        ) || !!activeThread?.stacktrace?.frames?.some(frame => frame.inApp !== true)\n      }\n      hasNewestFirst={\n        !!exception?.values?.some(value => (value.stacktrace?.frames ?? []).length > 1) ||\n        (activeThread?.stacktrace?.frames ?? []).length > 1\n      }\n      stackTraceNotFound={stackTraceNotFound}\n      wrapTitle={false}\n    >\n      {childrenProps => (\n        <Fragment>\n          {renderPills()}\n          {renderContent(childrenProps)}\n        </Fragment>\n      )}\n    </TraceEventDataSection>\n  );\n}\n\nexport default Threads;\n","import ClippedBox from 'sentry/components/clippedBox';\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport {t} from 'sentry/locale';\nimport {Event} from 'sentry/types/event';\n\ntype Props = {\n  event: Event;\n};\n\nexport function EventPackageData({event}: Props) {\n  let longKeys: boolean, title: string;\n\n  const packages = Object.entries(event.packages || {}).map(([key, value]) => ({\n    key,\n    value,\n    subject: key,\n    meta: event._meta?.packages?.[key]?.[''],\n  }));\n\n  switch (event.platform) {\n    case 'csharp':\n      longKeys = true;\n      title = t('Assemblies');\n      break;\n    default:\n      longKeys = false;\n      title = t('Packages');\n  }\n\n  return (\n    <EventDataSection type=\"packages\" title={title}>\n      <ClippedBox>\n        <ErrorBoundary mini>\n          <KeyValueList data={packages} longKeys={longKeys} />\n        </ErrorBoundary>\n      </ClippedBox>\n    </EventDataSection>\n  );\n}\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport LazyLoad from 'sentry/components/lazyLoad';\nimport {IssueAttachment, Organization, Project} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\n\ntype Props = {\n  event: Event;\n  orgId: Organization['id'];\n  projectId: Project['id'];\n  renderer?: Function;\n} & AsyncComponent['props'];\n\ntype State = {\n  attachmentList: Array<IssueAttachment> | null;\n} & AsyncComponent['state'];\n\nclass RRWebIntegration extends AsyncComponent<Props, State> {\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {orgId, projectId, event} = this.props;\n    return [\n      [\n        'attachmentList',\n        `/projects/${orgId}/${projectId}/events/${event.id}/attachments/`,\n\n        // This was changed from `rrweb.json`, so that we can instead\n        // support incremental rrweb events as attachments. This is to avoid\n        // having clients uploading a single, large sized replay.\n        //\n        // Note: This will include all attachments that contain `rrweb`\n        // anywhere its name. We need to maintain compatibility with existing\n        // rrweb plugin users (single replay), but also support incremental\n        // replays as well. I can't think of a reason why someone would have\n        // a non-rrweb replay containing the string `rrweb`, but people have\n        // surprised me before.\n        {query: {query: 'rrweb'}},\n      ],\n    ];\n  }\n\n  renderLoading() {\n    // hide loading indicator\n    return null;\n  }\n\n  renderBody() {\n    const {attachmentList} = this.state;\n    const renderer = this.props.renderer || (children => children);\n\n    if (!attachmentList?.length) {\n      return null;\n    }\n\n    const {orgId, projectId, event} = this.props;\n\n    function createAttachmentUrl(attachment: IssueAttachment) {\n      return `/api/0/projects/${orgId}/${projectId}/events/${event.id}/attachments/${attachment.id}/?download`;\n    }\n\n    return renderer(\n      <LazyLoad\n        component={() => import('./rrwebReplayer')}\n        urls={attachmentList.map(createAttachmentUrl)}\n      />\n    );\n  }\n}\n\nexport default RRWebIntegration;\n","import Alert from 'sentry/components/alert';\nimport EventDataSection from 'sentry/components/events/eventDataSection';\nimport {t, tct} from 'sentry/locale';\nimport {Event} from 'sentry/types/event';\nimport getSdkUpdateSuggestion from 'sentry/utils/getSdkUpdateSuggestion';\n\ntype Props = {\n  event: Omit<Event, 'sdkUpdates'> & {\n    sdkUpdates: NonNullable<Event['sdkUpdates']>;\n  };\n};\n\nconst SdkUpdates = ({event}: Props) => {\n  const {sdkUpdates} = event;\n\n  const eventDataSectinContent = sdkUpdates\n    .map((sdkUpdate, index) => {\n      const suggestion = getSdkUpdateSuggestion({suggestion: sdkUpdate, sdk: event.sdk});\n\n      if (!suggestion) {\n        return null;\n      }\n\n      return (\n        <Alert key={index} type=\"info\" showIcon>\n          {tct('We recommend you [suggestion] ', {suggestion})}\n          {sdkUpdate.type === 'updateSdk' &&\n            t('(All sentry packages should be updated and their versions should match)')}\n        </Alert>\n      );\n    })\n    .filter(alert => !!alert);\n\n  if (!eventDataSectinContent.length) {\n    return null;\n  }\n\n  return (\n    <EventDataSection title={null} type=\"sdk-updates\">\n      {eventDataSectinContent}\n    </EventDataSection>\n  );\n};\n\nexport default SdkUpdates;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport ActivityAuthor from 'sentry/components/activity/author';\nimport ActivityItem from 'sentry/components/activity/item';\nimport Clipboard from 'sentry/components/clipboard';\nimport Link from 'sentry/components/links/link';\nimport {IconCopy} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {UserReport} from 'sentry/types';\nimport {escape, nl2br} from 'sentry/utils';\n\ntype Props = {\n  issueId: string;\n  orgId: string;\n  report: UserReport;\n  className?: string;\n};\n\nclass EventUserFeedback extends Component<Props> {\n  getUrl() {\n    const {report, orgId, issueId} = this.props;\n\n    return `/organizations/${orgId}/issues/${issueId}/events/${report.eventID}/`;\n  }\n\n  render() {\n    const {className, report} = this.props;\n    const user = report.user || {\n      name: report.name,\n      email: report.email,\n      id: '',\n      username: '',\n      ip_address: '',\n    };\n\n    return (\n      <div className={className}>\n        <ActivityItem\n          date={report.dateCreated}\n          author={{type: 'user', user}}\n          header={\n            <div>\n              <ActivityAuthor>{report.name}</ActivityAuthor>\n              <Clipboard value={report.email}>\n                <Email>\n                  {report.email}\n                  <StyledIconCopy size=\"xs\" />\n                </Email>\n              </Clipboard>\n              {report.eventID && (\n                <ViewEventLink to={this.getUrl()}>{t('View event')}</ViewEventLink>\n              )}\n            </div>\n          }\n        >\n          <p\n            dangerouslySetInnerHTML={{\n              __html: nl2br(escape(report.comments)),\n            }}\n          />\n        </ActivityItem>\n      </div>\n    );\n  }\n}\n\nexport default EventUserFeedback;\n\nconst Email = styled('span')`\n  font-size: ${p => p.theme.fontSizeSmall};\n  font-weight: normal;\n  cursor: pointer;\n  margin-left: ${space(1)};\n`;\n\nconst ViewEventLink = styled(Link)`\n  font-weight: 300;\n  margin-left: ${space(1)};\n  font-size: 0.9em;\n`;\n\nconst StyledIconCopy = styled(IconCopy)`\n  margin-left: ${space(1)};\n`;\n","import {Component, Fragment} from 'react';\nimport {Location, LocationDescriptor} from 'history';\n\nimport DropdownLink from 'sentry/components/dropdownLink';\nimport ProjectBadge from 'sentry/components/idBadge/projectBadge';\nimport {\n  ErrorDestination,\n  generateSingleErrorTarget,\n  generateSingleTransactionTarget,\n  generateTraceTarget,\n  isQuickTraceEvent,\n  TransactionDestination,\n} from 'sentry/components/quickTrace/utils';\nimport Tooltip from 'sentry/components/tooltip';\nimport {backend, frontend, mobile, serverless} from 'sentry/data/platformCategories';\nimport {IconFire} from 'sentry/icons';\nimport {t, tct, tn} from 'sentry/locale';\nimport {OrganizationSummary} from 'sentry/types';\nimport {Event} from 'sentry/types/event';\nimport {trackAnalyticsEvent} from 'sentry/utils/analytics';\nimport {getDocsPlatform} from 'sentry/utils/docs';\nimport {getDuration} from 'sentry/utils/formatters';\nimport localStorage from 'sentry/utils/localStorage';\nimport {\n  QuickTrace as QuickTraceType,\n  QuickTraceEvent,\n  TraceError,\n} from 'sentry/utils/performance/quickTrace/types';\nimport {parseQuickTrace} from 'sentry/utils/performance/quickTrace/utils';\nimport Projects from 'sentry/utils/projects';\nimport {Theme} from 'sentry/utils/theme';\n\nconst FRONTEND_PLATFORMS: string[] = [...frontend, ...mobile];\nconst BACKEND_PLATFORMS: string[] = [...backend, ...serverless];\n\nimport {\n  DropdownContainer,\n  DropdownItem,\n  DropdownItemSubContainer,\n  DropdownMenuHeader,\n  ErrorNodeContent,\n  EventNode,\n  ExternalDropdownLink,\n  QuickTraceContainer,\n  QuickTraceValue,\n  SectionSubtext,\n  SingleEventHoverText,\n  TraceConnector,\n} from './styles';\n\nconst TOOLTIP_PREFIX = {\n  root: 'root',\n  ancestors: 'ancestor',\n  parent: 'parent',\n  current: '',\n  children: 'child',\n  descendants: 'descendant',\n};\n\ntype QuickTraceProps = Pick<\n  EventNodeSelectorProps,\n  'anchor' | 'errorDest' | 'transactionDest'\n> & {\n  event: Event;\n  location: Location;\n  organization: OrganizationSummary;\n  quickTrace: QuickTraceType;\n};\n\nexport default function QuickTrace({\n  event,\n  quickTrace,\n  location,\n  organization,\n  anchor,\n  errorDest,\n  transactionDest,\n}: QuickTraceProps) {\n  let parsedQuickTrace;\n  try {\n    parsedQuickTrace = parseQuickTrace(quickTrace, event, organization);\n  } catch (error) {\n    return <Fragment>{'\\u2014'}</Fragment>;\n  }\n\n  const traceLength = quickTrace.trace && quickTrace.trace.length;\n  const {root, ancestors, parent, children, descendants, current} = parsedQuickTrace;\n\n  const nodes: React.ReactNode[] = [];\n\n  if (root) {\n    nodes.push(\n      <EventNodeSelector\n        key=\"root-node\"\n        location={location}\n        organization={organization}\n        events={[root]}\n        currentEvent={event}\n        text={t('Root')}\n        anchor={anchor}\n        nodeKey=\"root\"\n        errorDest={errorDest}\n        transactionDest={transactionDest}\n      />\n    );\n    nodes.push(<TraceConnector key=\"root-connector\" />);\n  }\n\n  if (ancestors?.length) {\n    nodes.push(\n      <EventNodeSelector\n        key=\"ancestors-node\"\n        location={location}\n        organization={organization}\n        events={ancestors}\n        currentEvent={event}\n        text={tn('%s Ancestor', '%s Ancestors', ancestors.length)}\n        anchor={anchor}\n        nodeKey=\"ancestors\"\n        errorDest={errorDest}\n        transactionDest={transactionDest}\n      />\n    );\n    nodes.push(<TraceConnector key=\"ancestors-connector\" />);\n  }\n\n  if (parent) {\n    nodes.push(\n      <EventNodeSelector\n        key=\"parent-node\"\n        location={location}\n        organization={organization}\n        events={[parent]}\n        currentEvent={event}\n        text={t('Parent')}\n        anchor={anchor}\n        nodeKey=\"parent\"\n        errorDest={errorDest}\n        transactionDest={transactionDest}\n      />\n    );\n    nodes.push(<TraceConnector key=\"parent-connector\" />);\n  }\n\n  const currentNode = (\n    <EventNodeSelector\n      key=\"current-node\"\n      location={location}\n      organization={organization}\n      text={t('This Event')}\n      events={[current]}\n      currentEvent={event}\n      anchor={anchor}\n      nodeKey=\"current\"\n      errorDest={errorDest}\n      transactionDest={transactionDest}\n    />\n  );\n\n  if (traceLength === 1) {\n    nodes.push(\n      <Projects\n        key=\"missing-services\"\n        orgId={organization.slug}\n        slugs={[current.project_slug]}\n      >\n        {({projects}) => {\n          const project = projects.find(p => p.slug === current.project_slug);\n          if (project?.platform) {\n            if (BACKEND_PLATFORMS.includes(project.platform as string)) {\n              return (\n                <Fragment>\n                  <MissingServiceNode\n                    anchor={anchor}\n                    organization={organization}\n                    platform={project.platform}\n                    connectorSide=\"right\"\n                  />\n                  {currentNode}\n                </Fragment>\n              );\n            }\n            if (FRONTEND_PLATFORMS.includes(project.platform as string)) {\n              return (\n                <Fragment>\n                  {currentNode}\n                  <MissingServiceNode\n                    anchor={anchor}\n                    organization={organization}\n                    platform={project.platform}\n                    connectorSide=\"left\"\n                  />\n                </Fragment>\n              );\n            }\n          }\n          return currentNode;\n        }}\n      </Projects>\n    );\n  } else {\n    nodes.push(currentNode);\n  }\n\n  if (children.length) {\n    nodes.push(<TraceConnector key=\"children-connector\" />);\n    nodes.push(\n      <EventNodeSelector\n        key=\"children-node\"\n        location={location}\n        organization={organization}\n        events={children}\n        currentEvent={event}\n        text={tn('%s Child', '%s Children', children.length)}\n        anchor={anchor}\n        nodeKey=\"children\"\n        errorDest={errorDest}\n        transactionDest={transactionDest}\n      />\n    );\n  }\n\n  if (descendants?.length) {\n    nodes.push(<TraceConnector key=\"descendants-connector\" />);\n    nodes.push(\n      <EventNodeSelector\n        key=\"descendants-node\"\n        location={location}\n        organization={organization}\n        events={descendants}\n        currentEvent={event}\n        text={tn('%s Descendant', '%s Descendants', descendants.length)}\n        anchor={anchor}\n        nodeKey=\"descendants\"\n        errorDest={errorDest}\n        transactionDest={transactionDest}\n      />\n    );\n  }\n\n  return <QuickTraceContainer>{nodes}</QuickTraceContainer>;\n}\n\nfunction handleNode(key: string, organization: OrganizationSummary) {\n  trackAnalyticsEvent({\n    eventKey: 'quick_trace.node.clicked',\n    eventName: 'Quick Trace: Node clicked',\n    organization_id: parseInt(organization.id, 10),\n    node_key: key,\n  });\n}\n\nfunction handleDropdownItem(\n  key: string,\n  organization: OrganizationSummary,\n  extra: boolean\n) {\n  trackAnalyticsEvent({\n    eventKey: 'quick_trace.dropdown.clicked' + (extra ? '_extra' : ''),\n    eventName: 'Quick Trace: Dropdown clicked',\n    organization_id: parseInt(organization.id, 10),\n    node_key: key,\n  });\n}\n\ntype EventNodeSelectorProps = {\n  anchor: 'left' | 'right';\n  currentEvent: Event;\n  errorDest: ErrorDestination;\n  events: QuickTraceEvent[];\n  location: Location;\n  nodeKey: keyof typeof TOOLTIP_PREFIX;\n  organization: OrganizationSummary;\n  text: React.ReactNode;\n  transactionDest: TransactionDestination;\n  numEvents?: number;\n};\n\nfunction EventNodeSelector({\n  location,\n  organization,\n  events = [],\n  text,\n  currentEvent,\n  nodeKey,\n  anchor,\n  errorDest,\n  transactionDest,\n  numEvents = 5,\n}: EventNodeSelectorProps) {\n  let errors: TraceError[] = events.flatMap(event => event.errors ?? []);\n\n  let type: keyof Theme['tag'] = nodeKey === 'current' ? 'black' : 'white';\n\n  const hasErrors = errors.length > 0;\n\n  if (hasErrors) {\n    type = nodeKey === 'current' ? 'error' : 'warning';\n    text = (\n      <ErrorNodeContent>\n        <IconFire size=\"xs\" />\n        {text}\n      </ErrorNodeContent>\n    );\n  }\n\n  // make sure to exclude the current event from the dropdown\n  events = events.filter(event => event.event_id !== currentEvent.id);\n  errors = errors.filter(error => error.event_id !== currentEvent.id);\n\n  if (events.length + errors.length === 0) {\n    return <EventNode type={type}>{text}</EventNode>;\n  }\n  if (events.length + errors.length === 1) {\n    /**\n     * When there is only 1 event, clicking the node should take the user directly to\n     * the event without additional steps.\n     */\n    const hoverText = errors.length ? (\n      t('View the error for this Transaction')\n    ) : (\n      <SingleEventHoverText event={events[0]} />\n    );\n    const target = errors.length\n      ? generateSingleErrorTarget(errors[0], organization, location, errorDest)\n      : generateSingleTransactionTarget(\n          events[0],\n          organization,\n          location,\n          transactionDest\n        );\n    return (\n      <StyledEventNode\n        text={text}\n        hoverText={hoverText}\n        to={target}\n        onClick={() => handleNode(nodeKey, organization)}\n        type={type}\n      />\n    );\n  }\n  /**\n   * When there is more than 1 event, clicking the node should expand a dropdown to\n   * allow the user to select which event to go to.\n   */\n  const hoverText = tct('View [eventPrefix] [eventType]', {\n    eventPrefix: TOOLTIP_PREFIX[nodeKey],\n    eventType:\n      errors.length && events.length\n        ? 'events'\n        : events.length\n        ? 'transactions'\n        : 'errors',\n  });\n  return (\n    <DropdownContainer>\n      <DropdownLink\n        caret={false}\n        title={<StyledEventNode text={text} hoverText={hoverText} type={type} />}\n        anchorRight={anchor === 'right'}\n      >\n        {errors.length > 0 && (\n          <DropdownMenuHeader first>\n            {tn('Related Error', 'Related Errors', errors.length)}\n          </DropdownMenuHeader>\n        )}\n        {errors.slice(0, numEvents).map(error => {\n          const target = generateSingleErrorTarget(\n            error,\n            organization,\n            location,\n            errorDest\n          );\n          return (\n            <DropdownNodeItem\n              key={error.event_id}\n              event={error}\n              to={target}\n              allowDefaultEvent\n              onSelect={() => handleDropdownItem(nodeKey, organization, false)}\n              organization={organization}\n              anchor={anchor}\n            />\n          );\n        })}\n        {events.length > 0 && (\n          <DropdownMenuHeader first={errors.length === 0}>\n            {tn('Transaction', 'Transactions', events.length)}\n          </DropdownMenuHeader>\n        )}\n        {events.slice(0, numEvents).map(event => {\n          const target = generateSingleTransactionTarget(\n            event,\n            organization,\n            location,\n            transactionDest\n          );\n          return (\n            <DropdownNodeItem\n              key={event.event_id}\n              event={event}\n              to={target}\n              onSelect={() => handleDropdownItem(nodeKey, organization, false)}\n              allowDefaultEvent\n              organization={organization}\n              subtext={getDuration(\n                event['transaction.duration'] / 1000,\n                event['transaction.duration'] < 1000 ? 0 : 2,\n                true\n              )}\n              anchor={anchor}\n            />\n          );\n        })}\n        {(errors.length > numEvents || events.length > numEvents) && (\n          <DropdownItem\n            to={generateTraceTarget(currentEvent, organization)}\n            allowDefaultEvent\n            onSelect={() => handleDropdownItem(nodeKey, organization, true)}\n          >\n            {t('View all events')}\n          </DropdownItem>\n        )}\n      </DropdownLink>\n    </DropdownContainer>\n  );\n}\n\ntype DropdownNodeProps = {\n  anchor: 'left' | 'right';\n  event: TraceError | QuickTraceEvent;\n  organization: OrganizationSummary;\n  allowDefaultEvent?: boolean;\n  onSelect?: (eventKey: any) => void;\n  subtext?: string;\n  to?: LocationDescriptor;\n};\n\nfunction DropdownNodeItem({\n  event,\n  onSelect,\n  to,\n  allowDefaultEvent,\n  organization,\n  subtext,\n  anchor,\n}: DropdownNodeProps) {\n  return (\n    <DropdownItem to={to} onSelect={onSelect} allowDefaultEvent={allowDefaultEvent}>\n      <DropdownItemSubContainer>\n        <Projects orgId={organization.slug} slugs={[event.project_slug]}>\n          {({projects}) => {\n            const project = projects.find(p => p.slug === event.project_slug);\n            return (\n              <ProjectBadge\n                disableLink\n                hideName\n                project={project ? project : {slug: event.project_slug}}\n                avatarSize={16}\n              />\n            );\n          }}\n        </Projects>\n        {isQuickTraceEvent(event) ? (\n          <QuickTraceValue\n            value={event.transaction}\n            // expand in the opposite direction of the anchor\n            expandDirection={anchor === 'left' ? 'right' : 'left'}\n            maxLength={35}\n            leftTrim\n            trimRegex={/\\.|\\//g}\n          />\n        ) : (\n          <QuickTraceValue\n            value={event.title}\n            // expand in the opposite direction of the anchor\n            expandDirection={anchor === 'left' ? 'right' : 'left'}\n            maxLength={45}\n          />\n        )}\n      </DropdownItemSubContainer>\n      {subtext && <SectionSubtext>{subtext}</SectionSubtext>}\n    </DropdownItem>\n  );\n}\n\ntype EventNodeProps = {\n  hoverText: React.ReactNode;\n  text: React.ReactNode;\n  onClick?: (eventKey: any) => void;\n  to?: LocationDescriptor;\n  type?: keyof Theme['tag'];\n};\n\nfunction StyledEventNode({text, hoverText, to, onClick, type = 'white'}: EventNodeProps) {\n  return (\n    <Tooltip position=\"top\" containerDisplayMode=\"inline-flex\" title={hoverText}>\n      <EventNode type={type} icon={null} to={to} onClick={onClick}>\n        {text}\n      </EventNode>\n    </Tooltip>\n  );\n}\n\ntype MissingServiceProps = Pick<QuickTraceProps, 'anchor' | 'organization'> & {\n  connectorSide: 'left' | 'right';\n  platform: string;\n};\ntype MissingServiceState = {\n  hideMissing: boolean;\n};\n\nconst HIDE_MISSING_SERVICE_KEY = 'quick-trace:hide-missing-services';\n// 30 days\nconst HIDE_MISSING_EXPIRES = 1000 * 60 * 60 * 24 * 30;\n\nfunction readHideMissingServiceState() {\n  const value = localStorage.getItem(HIDE_MISSING_SERVICE_KEY);\n  if (value === null) {\n    return false;\n  }\n  const expires = parseInt(value, 10);\n  const now = new Date().getTime();\n  return expires > now;\n}\n\nclass MissingServiceNode extends Component<MissingServiceProps, MissingServiceState> {\n  state: MissingServiceState = {\n    hideMissing: readHideMissingServiceState(),\n  };\n\n  dismissMissingService = () => {\n    const {organization, platform} = this.props;\n    const now = new Date().getTime();\n    localStorage.setItem(\n      HIDE_MISSING_SERVICE_KEY,\n      (now + HIDE_MISSING_EXPIRES).toString()\n    );\n    this.setState({hideMissing: true});\n    trackAnalyticsEvent({\n      eventKey: 'quick_trace.missing_service.dismiss',\n      eventName: 'Quick Trace: Missing Service Dismissed',\n      organization_id: parseInt(organization.id, 10),\n      platform,\n    });\n  };\n\n  trackExternalLink = () => {\n    const {organization, platform} = this.props;\n    trackAnalyticsEvent({\n      eventKey: 'quick_trace.missing_service.docs',\n      eventName: 'Quick Trace: Missing Service Clicked',\n      organization_id: parseInt(organization.id, 10),\n      platform,\n    });\n  };\n\n  render() {\n    const {hideMissing} = this.state;\n    const {anchor, connectorSide, platform} = this.props;\n    if (hideMissing) {\n      return null;\n    }\n\n    const docPlatform = getDocsPlatform(platform, true);\n    const docsHref =\n      docPlatform === null || docPlatform === 'javascript'\n        ? 'https://docs.sentry.io/platforms/javascript/performance/connect-services/'\n        : `https://docs.sentry.io/platforms/${docPlatform}/performance/connect-services`;\n    return (\n      <Fragment>\n        {connectorSide === 'left' && <TraceConnector />}\n        <DropdownContainer>\n          <DropdownLink\n            caret={false}\n            title={\n              <StyledEventNode\n                type=\"white\"\n                hoverText={t('No services connected')}\n                text=\"???\"\n              />\n            }\n            anchorRight={anchor === 'right'}\n          >\n            <DropdownItem width=\"small\">\n              <ExternalDropdownLink href={docsHref} onClick={this.trackExternalLink}>\n                {t('Connect to a service')}\n              </ExternalDropdownLink>\n            </DropdownItem>\n            <DropdownItem onSelect={this.dismissMissingService} width=\"small\">\n              {t('Dismiss')}\n            </DropdownItem>\n          </DropdownLink>\n        </DropdownContainer>\n        {connectorSide === 'right' && <TraceConnector />}\n      </Fragment>\n    );\n  }\n}\n","export enum JavascriptProcessingErrors {\n  JS_GENERIC_FETCH_ERROR = 'js_generic_fetch_error',\n  JS_INVALID_HTTP_CODE = 'js_invalid_http_code',\n  JS_INVALID_CONTENT = 'js_invalid_content',\n  JS_NO_COLUMN = 'js_no_column',\n  JS_MISSING_SOURCE = 'js_no_source',\n  JS_INVALID_SOURCEMAP = 'js_invalid_source',\n  JS_TOO_MANY_REMOTE_SOURCES = 'js_too_many_sources',\n  JS_INVALID_SOURCE_ENCODING = 'js_invalid_source_encoding',\n  JS_INVALID_SOURCEMAP_LOCATION = 'js_invalid_sourcemap_location',\n  JS_TOO_LARGE = 'js_too_large',\n  JS_FETCH_TIMEOUT = 'js_fetch_timeout',\n}\n","import {createStore} from 'reflux';\n\nimport type {Committer, ReleaseCommitter} from 'sentry/types';\nimport {makeSafeRefluxStore} from 'sentry/utils/makeSafeRefluxStore';\n\ntype State = {\n  // Use `getCommitterStoreKey` to generate key\n  [key: string]: {\n    committers?: Committer[];\n    committersError?: Error;\n    committersLoading?: boolean;\n    releaseCommitters?: ReleaseCommitter[];\n  };\n};\n\ninterface CommitterStoreDefinition extends Reflux.StoreDefinition {\n  get(\n    orgSlug: string,\n    projectSlug: string,\n    eventId: string\n  ): {\n    committers?: Committer[];\n    committersError?: Error;\n    committersLoading?: boolean;\n  };\n  getState(): State;\n\n  init(): void;\n\n  load(orgSlug: string, projectSlug: string, eventId: string): void;\n  loadError(orgSlug: string, projectSlug: string, eventId: string, error: Error): void;\n  loadSuccess(\n    orgSlug: string,\n    projectSlug: string,\n    eventId: string,\n    committers: Committer[],\n    releaseCommitters?: ReleaseCommitter[]\n  ): void;\n\n  state: State;\n}\n\nexport const storeConfig: CommitterStoreDefinition = {\n  state: {},\n\n  init() {\n    this.reset();\n  },\n\n  reset() {\n    this.state = {};\n    this.trigger(this.state);\n  },\n\n  load(orgSlug: string, projectSlug: string, eventId: string) {\n    const key = getCommitterStoreKey(orgSlug, projectSlug, eventId);\n    this.state = {\n      ...this.state,\n      [key]: {\n        committers: undefined,\n        committersLoading: true,\n        committersError: undefined,\n      },\n    };\n\n    this.trigger(this.state);\n  },\n\n  loadError(orgSlug: string, projectSlug: string, eventId: string, err: Error) {\n    const key = getCommitterStoreKey(orgSlug, projectSlug, eventId);\n    this.state = {\n      ...this.state,\n      [key]: {\n        committers: undefined,\n        committersLoading: false,\n        committersError: err,\n      },\n    };\n\n    this.trigger(this.state);\n  },\n\n  loadSuccess(\n    orgSlug: string,\n    projectSlug: string,\n    eventId: string,\n    committers: Committer[],\n    releaseCommitters?: ReleaseCommitter[]\n  ) {\n    const key = getCommitterStoreKey(orgSlug, projectSlug, eventId);\n    this.state = {\n      ...this.state,\n      [key]: {\n        committers,\n        releaseCommitters,\n        committersLoading: false,\n        committersError: undefined,\n      },\n    };\n\n    this.trigger(this.state);\n  },\n\n  get(orgSlug: string, projectSlug: string, eventId: string) {\n    const key = getCommitterStoreKey(orgSlug, projectSlug, eventId);\n    return {...this.state[key]};\n  },\n\n  getState() {\n    return this.state;\n  },\n};\n\nexport function getCommitterStoreKey(\n  orgSlug: string,\n  projectSlug: string,\n  eventId: string\n): string {\n  return `${orgSlug} ${projectSlug} ${eventId}`;\n}\n\nconst CommitterStore = createStore(makeSafeRefluxStore(storeConfig));\nexport default CommitterStore;\n","import type {Color} from 'sentry/utils/theme';\n\nexport enum BreadcrumbLevelType {\n  FATAL = 'fatal',\n  ERROR = 'error',\n  WARNING = 'warning',\n  INFO = 'info',\n  DEBUG = 'debug',\n  UNDEFINED = 'undefined',\n  LOG = 'log',\n}\n\nexport enum BreadcrumbType {\n  INFO = 'info',\n  DEBUG = 'debug',\n  MESSAGE = 'message',\n  QUERY = 'query',\n  UI = 'ui',\n  USER = 'user',\n  EXCEPTION = 'exception',\n  WARNING = 'warning',\n  ERROR = 'error',\n  DEFAULT = 'default',\n  HTTP = 'http',\n  NAVIGATION = 'navigation',\n  SYSTEM = 'system',\n  SESSION = 'session',\n  TRANSACTION = 'transaction',\n  INIT = 'init',\n}\n\ninterface BreadcrumbTypeBase {\n  level: BreadcrumbLevelType;\n  // it's recommended\n  category?: string | null;\n  event_id?: string | null;\n  message?: string;\n  timestamp?: string;\n}\n\nexport interface BreadcrumbTypeSystem extends BreadcrumbTypeBase {\n  action: string;\n  extras: Record<string, any>;\n  type: BreadcrumbType.SYSTEM;\n}\n\nexport interface BreadcrumbTypeSession extends BreadcrumbTypeBase {\n  action: string;\n  extras: Record<string, any>;\n  type: BreadcrumbType.SESSION;\n}\n\nexport interface BreadcrumbTypeNavigation extends BreadcrumbTypeBase {\n  type: BreadcrumbType.NAVIGATION;\n  data?: null | {\n    from?: string;\n    to?: string;\n  };\n}\n\nexport interface BreadcrumbTypeHTTP extends BreadcrumbTypeBase {\n  type: BreadcrumbType.HTTP;\n  data?: null | {\n    method?:\n      | 'POST'\n      | 'PUT'\n      | 'GET'\n      | 'HEAD'\n      | 'DELETE'\n      | 'CONNECT'\n      | 'OPTIONS'\n      | 'TRACE'\n      | 'PATCH';\n    reason?: string;\n    status_code?: number;\n    url?: string;\n  };\n}\n\nexport interface BreadcrumbTypeDefault extends BreadcrumbTypeBase {\n  type:\n    | BreadcrumbType.INFO\n    | BreadcrumbType.DEBUG\n    | BreadcrumbType.QUERY\n    | BreadcrumbType.UI\n    | BreadcrumbType.USER\n    | BreadcrumbType.EXCEPTION\n    | BreadcrumbType.WARNING\n    | BreadcrumbType.ERROR\n    | BreadcrumbType.DEFAULT\n    | BreadcrumbType.INIT\n    | BreadcrumbType.SESSION\n    | BreadcrumbType.SYSTEM\n    | BreadcrumbType.TRANSACTION;\n  data?: Record<string, any> | null;\n}\n\nexport type RawCrumb =\n  | BreadcrumbTypeNavigation\n  | BreadcrumbTypeHTTP\n  | BreadcrumbTypeDefault;\n\nexport type Crumb = RawCrumb & {\n  color: Color;\n  description: string;\n  id: number;\n};\n\nexport function isBreadcrumbTypeDefault(\n  breadcrumb: Crumb\n): breadcrumb is Extract<Crumb, BreadcrumbTypeDefault> {\n  return ![BreadcrumbType.HTTP, BreadcrumbType.NAVIGATION].includes(breadcrumb.type);\n}\n","import {memo} from 'react';\n\nimport {Role} from 'sentry/components/acl/role';\nimport {IssueAttachment, Organization} from 'sentry/types';\nimport withOrganization from 'sentry/utils/withOrganization';\n\ntype Props = {\n  attachment: IssueAttachment;\n  children: (downloadUrl: string | null) => React.ReactElement | null;\n  eventId: string;\n  organization: Organization;\n  projectId: string;\n};\n\nfunction AttachmentUrl({attachment, organization, eventId, projectId, children}: Props) {\n  function getDownloadUrl() {\n    return `/api/0/projects/${organization.slug}/${projectId}/events/${eventId}/attachments/${attachment.id}/`;\n  }\n\n  return (\n    <Role role={organization.attachmentsRole}>\n      {({hasRole}) => children(hasRole ? getDownloadUrl() : null)}\n    </Role>\n  );\n}\n\nexport default withOrganization(memo(AttachmentUrl));\n","import {AvatarProject} from 'sentry/types';\n\nconst platforms = [\n  'dotnet',\n  'android',\n  'apple',\n  'dart',\n  'elixir',\n  'flutter',\n  'go',\n  'java',\n  'javascript',\n  'native',\n  'node',\n  'perl',\n  'php',\n  'python',\n  'react-native',\n  'ruby',\n  'rust',\n  'unity',\n] as const;\n\nexport type DocPlatform = typeof platforms[number];\n\nconst performancePlatforms: DocPlatform[] = [\n  'dotnet',\n  'android',\n  'apple',\n  'go',\n  'java',\n  'javascript',\n  'node',\n  'php',\n  'python',\n  'react-native',\n  'ruby',\n];\n\nfunction validDocPlatform(platform: any): platform is DocPlatform {\n  return platforms.includes(platform);\n}\n\nexport function getDocsPlatform(\n  platform: string,\n  performanceOnly: boolean\n): DocPlatform | null {\n  // react-native is the only platform that has a dash, and supports performance so we can skip that check\n  if (platform === 'react-native') {\n    return 'react-native';\n  }\n  const index = platform.indexOf('-');\n  const prefix = index >= 0 ? platform.substring(0, index) : platform;\n  if (validDocPlatform(prefix)) {\n    const validPerformancePrefix = performancePlatforms.includes(prefix);\n    if ((performanceOnly && validPerformancePrefix) || !performanceOnly) {\n      return prefix;\n    }\n  }\n  // can't find a matching docs platform\n  return null;\n}\n\nexport function getConfigureTracingDocsLink(\n  project: AvatarProject | undefined\n): string | null {\n  const platform = project?.platform ?? null;\n  const docsPlatform = platform ? getDocsPlatform(platform, true) : null;\n  return docsPlatform === null\n    ? null // this platform does not support performance\n    : `https://docs.sentry.io/platforms/${docsPlatform}/performance/`;\n}\n","import type Fuse from 'fuse.js';\n\n// See http://fusejs.io/ for more information\nconst DEFAULT_FUSE_OPTIONS: Fuse.IFuseOptions<any> = {\n  includeScore: true,\n  includeMatches: true,\n  threshold: 0.4,\n  location: 0,\n  distance: 75,\n  minMatchCharLength: 2,\n};\n\nexport async function createFuzzySearch<\n  T = string,\n  Options extends Fuse.IFuseOptions<T> = Fuse.IFuseOptions<T>\n>(objects: T[], options: Options): Promise<Fuse<T>> {\n  if (!options.keys) {\n    throw new Error('You need to define `options.keys`');\n  }\n\n  const fuseImported = await import('fuse.js');\n  const fuse = {Fuse: fuseImported.default};\n\n  return new fuse.Fuse(objects, {\n    ...DEFAULT_FUSE_OPTIONS,\n    ...options,\n  });\n}\n\n// re-export fuse type to make it easier to use\nexport type {Fuse};\n","import omit from 'lodash/omit';\n\nimport GenericDiscoverQuery, {\n  DiscoverQueryProps,\n  GenericChildrenProps,\n} from 'sentry/utils/discover/genericDiscoverQuery';\nimport {DataFilter, HistogramData} from 'sentry/utils/performance/histogram/types';\nimport withApi from 'sentry/utils/withApi';\n\ntype HistogramProps = {\n  numBuckets: number;\n  spanOp: string;\n  dataFilter?: DataFilter;\n  max?: string;\n  min?: string;\n  precision?: number;\n};\n\ntype RequestProps = DiscoverQueryProps & HistogramProps;\n\nexport type HistogramQueryChildrenProps = Omit<\n  GenericChildrenProps<HistogramProps>,\n  'tableData'\n> & {\n  histogram: HistogramData | null;\n};\n\ntype Props = RequestProps & {\n  children: (props: HistogramQueryChildrenProps) => React.ReactNode;\n};\n\nfunction getHistogramRequestPayload(props: RequestProps) {\n  const {spanOp, numBuckets, min, max, precision, dataFilter, eventView, location} =\n    props;\n  const baseApiPayload = {\n    spanOp,\n    numBuckets,\n    min,\n    max,\n    precision,\n    dataFilter,\n  };\n  const additionalApiPayload = omit(eventView.getEventsAPIPayload(location), [\n    'sort',\n    'per_page',\n    'cursor',\n  ]);\n  const apiPayload = {...baseApiPayload, ...additionalApiPayload};\n  return apiPayload;\n}\n\nfunction SpanCountHistogramQuery(props: Props) {\n  return (\n    <GenericDiscoverQuery<HistogramData, HistogramProps>\n      route=\"events-spans-counts-histogram\"\n      getRequestPayload={getHistogramRequestPayload}\n      {...omit(props, 'children')}\n    >\n      {({tableData, ...rest}) => {\n        return props.children({histogram: tableData, ...rest});\n      }}\n    </GenericDiscoverQuery>\n  );\n}\n\nexport default withApi(SpanCountHistogramQuery);\n","import {createContext} from 'react';\n\nimport {QuickTraceQueryChildrenProps} from 'sentry/utils/performance/quickTrace/types';\n\nexport type QuickTraceContextChildrenProps = QuickTraceQueryChildrenProps | undefined;\n\nexport const QuickTraceContext = createContext<QuickTraceContextChildrenProps>(undefined);\n","import createLocalStorage from './createStorage';\n\nconst Storage = createLocalStorage(() => window.sessionStorage);\n\nexport default Storage;\n","import {useCallback, useEffect} from 'react';\n\nimport {getCommitters} from 'sentry/actionCreators/committers';\nimport {Client} from 'sentry/api';\nimport CommitterStore, {getCommitterStoreKey} from 'sentry/stores/committerStore';\nimport {useLegacyStore} from 'sentry/stores/useLegacyStore';\nimport type {Committer, Group, Organization, ReleaseCommitter} from 'sentry/types';\nimport useApi from 'sentry/utils/useApi';\n\nimport useOrganization from './useOrganization';\n\ninterface Props {\n  eventId: string;\n  projectSlug: string;\n  group?: Group;\n}\n\ninterface Result {\n  committers: Committer[];\n  fetching: boolean;\n  // TODO(scttcper): Not optional on GA of release-committer-assignees flag\n  releaseCommitters?: ReleaseCommitter[];\n}\n\nasync function fetchCommitters(\n  api: Client,\n  organization: Organization,\n  projectSlug: string,\n  eventId: string\n) {\n  const repoData = CommitterStore.get(organization.slug, projectSlug, eventId);\n\n  if ((!repoData.committers && !repoData.committersLoading) || repoData.committersError) {\n    await getCommitters(api, {\n      orgSlug: organization.slug,\n      projectSlug,\n      eventId,\n    });\n  }\n}\n\nfunction useCommitters({group, eventId, projectSlug}: Props): Result {\n  const api = useApi();\n  const organization = useOrganization();\n  const store = useLegacyStore(CommitterStore);\n\n  const loadCommitters = useCallback(async () => {\n    await fetchCommitters(api, organization!, projectSlug, eventId);\n  }, [api, organization, projectSlug, eventId]);\n\n  useEffect(() => {\n    // No committers if group doesn't have any releases\n    if (!group?.firstRelease || !organization) {\n      return;\n    }\n\n    loadCommitters();\n  }, [eventId, group?.firstRelease, loadCommitters, organization]);\n\n  const key = getCommitterStoreKey(organization?.slug ?? '', projectSlug, eventId);\n  return {\n    committers: store[key]?.committers ?? [],\n    releaseCommitters: store[key]?.releaseCommitters ?? [],\n    fetching: store[key]?.committersLoading ?? false,\n  };\n}\n\nexport default useCommitters;\n","import {Location, Query} from 'history';\n\nimport {useRouteContext} from 'sentry/utils/useRouteContext';\n\ntype DefaultQuery<T = string> = {\n  [key: string]: T | T[] | null | undefined;\n};\n\nexport function useLocation<Q extends Query = DefaultQuery>(): Location<Q> {\n  const route = useRouteContext();\n  return route.location;\n}\n","import {useCallback, useEffect, useState} from 'react';\n\nimport sessionStorageWrapper from 'sentry/utils/sessionStorage';\n\nconst isBrowser = typeof window !== 'undefined';\n\nfunction readStorageValue<T>(key, initialValue: T) {\n  const value = sessionStorage.getItem(key);\n\n  // We check for 'undefined' because the value may have\n  // previously been serialized as 'undefined'. This should no longer\n  // happen, but want to handle it gracefully.\n  if (value === null || value === 'undefined') {\n    return initialValue;\n  }\n\n  // Try parse storage value.\n  try {\n    return JSON.parse(value);\n  } catch {\n    // If parsing fails, return initial value.\n    return initialValue;\n  }\n}\n\nfunction useSessionStorage<T>(\n  key: string,\n  initialValue?: T\n): [T | undefined, (value: T | undefined) => void, () => void] {\n  const [state, setState] = useState<T | undefined>(() =>\n    readStorageValue(key, initialValue)\n  );\n\n  useEffect(() => {\n    setState(readStorageValue(key, initialValue));\n    // We want to re-initialized the storage value only when the key changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [key]);\n\n  const wrappedSetState = useCallback(\n    (value: T | undefined) => {\n      setState(value);\n\n      try {\n        sessionStorageWrapper.setItem(key, JSON.stringify(value));\n      } catch {\n        // Best effort and just update the in-memory value.\n      }\n    },\n    [key]\n  );\n\n  const removeItem = useCallback(() => {\n    setState(undefined);\n    sessionStorageWrapper.removeItem(key);\n  }, [key]);\n\n  if (!isBrowser) {\n    return [initialValue, () => {}, () => {}];\n  }\n\n  return [state, wrappedSetState, removeItem];\n}\n\nexport default useSessionStorage;\n","// eslint-disable-next-line no-restricted-imports\nimport {withRouter, WithRouterProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport omit from 'lodash/omit';\nimport xor from 'lodash/xor';\n\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\n\nconst crashReportTypes = ['event.minidump', 'event.applecrashreport'];\n\nconst GroupEventAttachmentsFilter = (props: WithRouterProps) => {\n  const {query, pathname} = props.location;\n  const {types} = query;\n  const allAttachmentsQuery = omit(query, 'types');\n  const onlyCrashReportsQuery = {\n    ...query,\n    types: crashReportTypes,\n  };\n\n  let activeButton = '';\n\n  if (types === undefined) {\n    activeButton = 'all';\n  } else if (xor(crashReportTypes, types).length === 0) {\n    activeButton = 'onlyCrash';\n  }\n\n  return (\n    <FilterWrapper>\n      <ButtonBar merged active={activeButton}>\n        <Button barId=\"all\" size=\"sm\" to={{pathname, query: allAttachmentsQuery}}>\n          {t('All Attachments')}\n        </Button>\n        <Button barId=\"onlyCrash\" size=\"sm\" to={{pathname, query: onlyCrashReportsQuery}}>\n          {t('Only Crash Reports')}\n        </Button>\n      </ButtonBar>\n    </FilterWrapper>\n  );\n};\n\nconst FilterWrapper = styled('div')`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: ${space(3)};\n`;\n\nexport {crashReportTypes};\nexport default withRouter(GroupEventAttachmentsFilter);\n"],"names":["CommitterStore","getCommitterStoreKey","getCommitters","api","params","orgSlug","projectSlug","eventId","path","storeKey","state","committersLoading","load","requestPromise","method","then","res","loadSuccess","committers","releaseCommitters","catch","err","loadError","useMemo","ConfigStore","isActiveSuperuser","isRenderFunc","withOrganization","checkUserRole","user","organization","role","Array","isArray","orgRoleList","roleIds","map","r","id","includes","requiredIndex","indexOf","currentIndex","Role","children","get","hasRole","withOrganizationRole","ActionLink","MenuItem","MenuItemActionLink","className","props","disabled","InnerActionLink","p","theme","textColor","overflowEllipsis","background","getAttachmentUrl","PanelItem","ImageViewer","onLoad","onError","Container","AsyncComponent","ContextData","PreviewPanelItem","JsonViewer","getEndpoints","renderBody","attachmentJson","json","JSON","parse","e","width","StyledContextData","Ansi","space","LogFileViewer","attachmentText","COLOR_MAP","red","green","blue","yellow","magenta","cyan","SentryStyleAnsi","Object","entries","ansiColor","themeColor","black","white","CodeWrapper","Component","Fragment","PanelAlert","tct","RRWebJsonViewer","showRawJson","render","replayLink","jsonLink","setState","StyledPanelAlert","border","withPrefix","orgId","projectId","event","attachment","DeviceName","AnnotatedText","TextOverflow","t","defined","ContextSummaryNoSummary","generateClassName","Item","ContextSummaryDevice","data","meta","keys","length","renderName","model","deviceName","name","getSubTitle","arch","subject","value","subTitle","Subject","ContextSummaryGPU","getVersionElement","vendor_name","versionElement","ContextSummaryGeneric","unknownTitle","omitUnknownVersion","version","title","ContextSummaryOS","kernel_version","UserAvatar","removeFilterMaskedEntries","ContextSummaryUser","renderUserDetails","key","userDetails","username","getUserTitle","email","ip_address","undefined","userTitle","icon","filterContexts","context","contexts","device","os","client_os","toLowerCase","runtime","raw_description","generateClassname","lowerCaseName","startsWith","formattedName","split","replace","majorVersion","isLegacyEdge","objectIsEmpty","MIN_CONTEXTS","MAX_CONTEXTS","KNOWN_CONTEXTS","ContextSummary","contextCount","filter","k","find","_k","d","_meta","index","Wrapper","breakpoints","small","classNames","Details","innerBorder","getRelativeTimeFromEventDateCreated","AppKnownDataType","getAppKnownDataDetails","type","ID","app_id","START_TIME","dateCreated","dateReceived","app_start_time","DEVICE_HASH","device_app_hash","TYPE","build_type","IDENTIFIER","app_identifier","NAME","app_name","VERSION","app_version","BUILD","app_build","ContextBlock","geKnownData","getUnknownData","appKnownDataValues","appIgnoredDataValues","AppEventContext","app","knownDataTypes","onGetKnownDataDetails","v","allData","knownKeys","BrowserKnownDataType","getBrowserKnownDataDetails","browserKnownDataValues","BrowserEventContext","browser","EventDataSection","plugins","toTitleCase","getContextComponent","getSourcePlugin","Chunk","isLoading","UNSAFE_componentWillMount","syncPlugin","componentDidUpdate","prevProps","group","alias","sourcePlugin","pluginContexts","pluginLoading","getTitle","ContextComponent","isObjectValueEmpty","values","ErrorBoundary","KeyValueList","raw","startCase","getKnownData","DefaultContextType","FileSize","getFullLanguageDescription","DeviceKnownDataType","formatMemory","formatStorage","getDeviceKnownDataDetails","FAMILY","family","MODEL_ID","model_id","MODEL","RENDERED_MODEL","renderedModel","CPU_DESCRIPTION","cpu_description","ARCH","BATTERY_LEVEL","battery_level","BATTERY_STATUS","battery_status","ORIENTATION","orientation","MEMORY","memory_size","free_memory","usable_memory","STORAGE","storage_size","free_storage","external_storage_size","external_free_storage","FREE_STORAGE","STORAGE_SIZE","EXTERNAL_STORAGE_SIZE","EXTERNAL_FREE_STORAGE","SIMULATOR","simulator","BOOT_TIME","boot_time","TIMEZONE","timezone","DEVICE_TYPE","device_type","ARCHS","archs","BRAND","brand","CHARGING","charging","CONNECTION_TYPE","connection_type","LANGUAGE","language","LOW_MEMORY","low_memory","FREE_MEMORY","MEMORY_SIZE","USABLE_MEMORY","MANUFACTURER","manufacturer","ONLINE","online","SCREEN_DENSITY","screen_density","SCREEN_DPI","screen_dpi","SCREEN_HEIGHT_PIXELS","screen_height_pixels","SCREEN_RESOLUTION","screen_resolution","SCREEN_WIDTH_PIXELS","screen_width_pixels","getInferredData","deviceKnownDataValues","deviceIgnoredDataValues","DeviceEventContext","inferredData","subjectDataTestId","formatBytesBase2","Number","isInteger","memory","storage","commonDisplayResolutions","screenResolution","screenWidth","screenHeight","displayResolutionDescription","commonData","height","displayResolution","MEGABYTE_IN_BYTES","GPUKnownDataType","getGPUKnownDataDetails","NPOT_SUPPORT","npot_support","VENDOR_NAME","MULTI_THREAD_RENDERING","multi_threaded_rendering","API_TYPE","api_type","VENDOR_ID","vendor_id","gpuKnownDataValues","gpuIgnoredDataValues","GPUEventContext","gpu","unshift","Contexts","OperatingSystemKnownDataType","getOperatingSystemKnownDataDetails","build","KERNEL_VERSION","ROOTED","rooted","OperatingSystemIgnoredDataType","operatingSystemKnownDataValues","operatingSystemIgnoredDataValues","OperatingSystemEventContext","ClippedBox","ReduxContextType","RuntimeKnownDataType","getRuntimeKnownDataDetails","RuntimeIgnoredDataType","runtimeKnownDataValues","runtimeIgnoredDataValues","RuntimeEventContext","upperFirst","StateEventContext","getStateTitle","Button","generateTraceTarget","transactionSummaryRouteWithQuery","TraceKnownDataType","getTraceKnownDataDetails","TRACE_ID","traceId","trace_id","features","actionButton","SPAN_ID","span_id","PARENT_SPAN_ID","parent_span_id","OP_NAME","op","STATUS","status","TRANSACTION_NAME","eventTag","tags","tag","transactionName","to","slug","transaction","projectID","query","useOrganization","traceKnownDataValues","traceIgnoredDataValues","TraceEventContext","trace","ExternalLink","IconMail","UserKnownDataType","EMAIL_REGEX","getUserKnownDataDetails","USERNAME","IP_ADDRESS","EMAIL","subjectIcon","test","UserIgnoredDataType","userKnownDataValues","userIgnoredDataValues","DATA","UserEventContext","moment","CONTEXT_TYPES","default","require","contextType","plugin","eventDateCreated","timestamp","showTimestamp","dateTime","isValid","relativeTime","from","locale","sentryAppLanguageCode","languageAbbreviation","countryAbbreviation","languageNames","Intl","DisplayNames","languageName","of","regionNames","countryName","toUpperCase","filteredTypes","knownDataType","knownDataDetails","RelativeTime","subText","DeviceInterface","extras","useState","ListItem","JavascriptProcessingErrors","keyMapping","image_uuid","image_name","image_path","ErrorItem","error","expanded","setExpanded","cleanedData","message","separator","splice","join","server_time","sdk_time","duration","utc","diff","humanize","docsLink","stopPropagation","ToggleButton","StyledListItem","StyledExternalLink","OverallInfo","Sentry","isEqual","uniqWith","Alert","List","tn","withApi","DataSection","MAX_ERRORS","Errors","componentDidMount","checkSourceCodeErrors","shouldComponentUpdate","nextProps","fetchReleaseArtifacts","release","releaseVersion","releaseArtifacts","encodeURIComponent","captureException","errors","sourceCodeErrors","url","pathNames","sourceCodeError","pathName","getURLPathname","push","URL","pathname","proGuardErrors","dist","eventDistribution","eventErrors","otherErrors","errorIdx","JS_MISSING_SOURCE","releaseArtifact","releaseArt","releaseArtifactDistribution","StyledDataSection","StyledAlert","ErrorList","ButtonBar","Confirm","IconDelete","IconDownload","IconShow","EventAttachmentActions","handlePreview","onPreview","attachmentId","withPreviewButton","hasPreview","previewIsOpen","onDelete","DownloadButton","PanelTable","AttachmentUrl","EventAttachmentsCrashReportsNotice","EventAttachments","attachmentPreviews","getInlineAttachmentRenderer","mimetype","size","hasInlineAttachmentRenderer","renderInlineAttachment","AttachmentComponent","attachmentPreviewIsOpen","togglePreview","location","attachments","onDeleteAttachment","crashFileStripped","metadata","stripped_crash","lastAttachmentPreviewed","groupID","_attachmentId","display","StyledPanelTable","Name","Size","AttachmentPreviewWrapper","crashReportTypes","Link","groupId","settingsUrl","attachmentsUrl","types","attachmentsLink","settingsLink","flatMap","uniqBy","CommitRow","CauseHeader","Panel","IconAdd","IconSubtract","useCommitters","EventCause","project","isExpanded","setIsExpanded","getUniqueCommitsWithAuthors","commitsWithAuthors","commits","author","commit","slice","ExpandButton","codesworth","promptsCheck","promptsUpdate","RepositoryStatus","trackAdvancedAnalyticsEvent","getDynamicText","promptCanShow","promptIsDismissed","EXAMPLE_COMMITS","DUMMY_COMMIT","Math","floor","random","fixed","lastSeen","lastLogin","isSuperuser","isAuthenticated","emails","isManaged","lastActive","isStaff","identities","isActive","has2fa","canReset2fa","authenticators","dateJoined","options","stacktraceOrder","clock24Hours","avatarType","flags","newsletter_consent_prompt","hasPasswordAuth","permissions","Set","experiments","subtract","format","repository","integrationId","externalSlug","provider","ACTIVE","releases","SUSPECT_COMMITS_FEATURE","EventCauseEmpty","shouldShow","fetchData","_prevProps","prevState","trackAnalytics","eventID","organizationId","feature","handleClick","action","eventKey","project_id","platform","StyledPanel","Description","gray300","ButtonList","DocsButton","SnoozeButton","DismissButton","ExampleCommitPanel","CustomAvatar","BoxHeader","useCallback","useEffect","uniq","addErrorMessage","EventContexts","EventContextSummary","EventDevice","EventErrors","EventExtraData","EventSdk","EventTags","EventGroupingInfo","EventPackageData","RRWebIntegration","EventSdkUpdates","EventUserFeedback","EntryType","isNotSharedOrganization","projectProcessingIssuesMessages","findBestThread","getThreadException","EventEntry","EventReplay","EventTagsAndScreenshot","MINIFIED_DATA_JAVA_EVENT_REGEX_MATCH","isDataMinified","str","matchAll","hasThreadOrExceptionMinifiedFrameData","definedEvent","bestThread","exceptionValues","EXCEPTION","exceptionValue","stacktrace","frames","frame","module","threadExceptionValues","threadExceptionValue","EventEntries","router","route","isShare","showExampleCommit","showTagSummary","setIsLoading","setProGuardErrors","setAttachments","orgFeatures","hasEventAttachmentsFeature","replayId","recordIssueError","errorTypes","errorEntries","errorMessages","error_type","error_message","fetchProguardMappingFiles","proguardMappingFiles","file_formats","checkProGuardError","hasEventErrorsProGuardMissingMapping","newProGuardErrors","debugImages","DEBUGMETA","images","proGuardImage","debugImage","proGuardImageUuid","uuid","proguard_missing_mapping","mapping_uuid","withScope","s","setLevel","sdk","setTag","captureMessage","threads","THREADS","hasThreadOrExceptionMinifiedData","fetchAttachments","response","handleDeleteAttachment","hasMobileScreenshotsFeature","hasContext","hasErrors","userReport","packages","sdkUpdates","Entries","entry","entryIdx","MiniReplayView","hasSessionReplayFeature","StyledEventDataSection","LatestEventNotAvailable","ErrorContainer","BorderlessEventEntries","StyledEventUserFeedback","includeBorder","StyledReplayEventDataSection","Breadcrumbs","Csp","DebugMeta","Exception","ExceptionV2","Generic","Message","PerformanceIssueSection","Request","Spans","StackTrace","StackTraceV2","Template","Threads","ThreadsV2","EmbeddedSpanTree","hasHierarchicalGrouping","current_tree_label","finest_tree_label","hasNativeStackTraceV2","groupingCurrentLevel","current_level","MESSAGE","REQUEST","STACKTRACE","TEMPLATE","CSP","EXPECTCT","EXPECTSTAPLE","HPKP","hpkp","BREADCRUMBS","SPANS","SPANTREE","focusedSpanIds","_focusedSpanIds","forEach","spanId","INTERNAL_PROJECT","PERFORMANCE","window","console","EventExtraDataType","getEventExtraDataKnownDataDetails","CRASHED_PROCESS","memo","EventExtraDataContext","setRaw","LazyLoad","Pills","generateQueryWithTag","EventTagsPill","streamPath","kebabCase","GuideAnchor","SectionContents","QuestionTooltip","description","TitleWrapper","Title","Screenshot","Tags","TagsHighlight","EventTagsAndScreenshots","onDeleteScreenshot","screenshot","showScreenshot","hasEventContext","showTags","VerticalDivider","ScreenshotWrapper","TagWrapper","TagsHighlightWrapper","HorizontalDivider","ImageVisualization","openModal","DropdownLink","LoadingIndicator","PanelBody","PanelFooter","IconEllipsis","Modal","modalCss","loadingImage","setLoadingImage","handleOpenVisualizationModal","eventAttachment","downloadUrl","modalProps","renderContent","screenshotAttachment","attachmentsRole","StyledPanelBody","borderRadius","StyledPanelFooter","StyledLoadingIndicator","StyledImageVisualization","StyledButtonbar","css","Buttonbar","DateTime","NotAvailable","Header","Body","Footer","Date","GeralInfo","Label","coloredBg","backgroundSecondary","Value","text","familyMono","Highlight","Category","category","searchTerm","fontSizeSmall","generateEventSlug","getTransactionDetailsUrl","withProjects","Summary","Default","breadcrumb","linkedEvent","isEventId","maybeEventId","FormatMessage","FormatMessageInner","projects","loadingProjects","content","maybeProject","eventSlug","omit","Http","renderUrl","match","stringify","status_code","BreadcrumbType","LinkedEvent","Data","event_id","HTTP","WARNING","ERROR","ProjectBadge","Placeholder","ShortId","handleXhrErrorResponse","useApi","useSessionStorage","errorMessage","storedLinkedEvent","setStoredLinkedEvent","removeStoredLinkedEvent","eventIdLookup","setEventIdLookup","hasError","setHasError","fetchEventById","setRouteLeaveHook","onRouteLeave","fetchIssueByGroupId","shortId","StyledShortId","StyledPlaceholder","kvData","ContextDataWrapper","StyledCode","Level","Time","Type","Breadcrumb","displayRelativeTime","scrollbarSize","style","dataTestId","color","level","red300","Tag","Background","BreadcrumbLevelType","FATAL","INFO","LevelTag","fontSizeMedium","Tooltip","getFormattedTimestamp","date","time","displayTime","shouldUse24Hours","getDuration","timeFormat","timeDateFormat","getRelativeTime","parsedTime","parsedTimeToCompareWith","formattedTime","formattedTimeToCompareWith","timeDiff","abs","shortRelativeTime","round","getAbsoluteTimeFormat","relativeTimestamp","parsedTimestamp","displayMilliSeconds","milliseconds","IconFire","IconFix","IconInfo","IconLocation","IconMobile","IconRefresh","IconSort","IconSpan","IconStack","IconTerminal","IconUser","IconWarning","Icon","USER","UI","NAVIGATION","DEBUG","QUERY","SYSTEM","SESSION","TRANSACTION","IconWrapper","dropShadowLightest","useRef","AutoSizer","CellMeasurer","CellMeasurerCache","PANEL_MAX_HEIGHT","cache","fixedWidth","minHeight","breadcrumbs","onSwitchTimeFormat","emptyMessage","scrollToIndex","setScrollToIndex","setScrollbarSize","entryIndex","findIndex","listRef","contentRef","updateGrid","clearAll","forceUpdateGrid","renderRow","parent","isLastItem","measure","String","current","offsetHeight","el","rowHeight","isEmpty","StyledIconSort","Content","StyledList","pick","SearchBarAction","getVirtualCrumb","transformCrumbs","BreadcrumbsContainer","filteredByFilter","filteredBySearch","filterOptions","filterSelections","loadBreadcrumbs","crumbs","virtualCrumb","transformedCrumbs","getFilterOptions","typeOptions","getFilterTypes","levels","getFilterLevels","label","typeOption","filterTypes","foundFilterType","f","leadingItems","filterLevels","indexType","indexLevel","some","filterBySearch","newSearchTerm","trim","searchFor","toLocaleLowerCase","obj","info","getFilteredCrumbsByFilter","selectedFilterOptions","checkedTypeOptions","option","checkedLevelOptions","filteredCrumb","has","handleSearch","handleFilter","newfilterOptions","newfilteredByFilter","handleSwitchTimeFormat","handleResetFilter","handleResetSearchBar","getEmptyMessage","hasActiveFilter","emptyAction","StyledSearchBarAction","LevelWrap","lineHeightBody","convertCrumbType","DEFAULT","subcategory","getCrumbDescriptionAndColor","convertedCrumbType","UNDEFINED","moduleToCategory","exception","mdl","levelTag","STACK_TYPE","Mechanism","newestFirst","stackView","exc","excIdx","exceptionModule","mechanism","ORIGINAL","rawStacktrace","reverse","StyledPre","STACK_VIEW","RawContent","stackType","RAW","forOwn","isNil","isObject","Hovercard","Pill","IconOpen","isUrl","mechanismMeta","help_link","handled","errno","signal","mach_exception","linkElement","descriptionElement","pills","number","code","code_name","iconStyle","gray500","StyledPills","StyledIconInfo","LoadingError","rawStacktraceContent","loading","crashReport","isNative","fetchAppleCrashReport","getAppleCrashReportEndpoint","minified","getContent","output","downloadButton","appleCrashReportEndpoint","baseUrl","DownloadBtnWrapper","useContext","isNativePlatform","OrganizationContext","EmptyMessage","StackTraceContent","StacktraceContentV2","StacktraceContentV3","chainedException","expandFirstFrame","APP","inApp","includeSystemFrames","FULL","every","Stacktrace","CrashContent","ContentV2","ContentV3","nativeV2","trimPackage","getJavaScriptFrame","result","function","filename","lineNo","colNo","getRubyFrame","getPHPFrame","idx","funcName","getPythonFrame","item","getJavaFrame","ljust","len","max","getNativeFrame","package","instructionAddr","symbolAddr","getJavaPreamble","getPreamble","getFrame","frameIdx","CrashActions","thread","onChange","hasSystemFrames","hasMinified","notify","setStackType","setStackView","view","getOriginalButtonLabel","getMinifiedButtonLabel","MINIFIED","ButtonGroupWrapper","CrashTitle","beforeTitle","hideGuide","handleToggleOrder","StyledH3","effectiveDirectives","referrer","linkOverrides","CSPHelp","effective_directive","getHelp","__html","getLinkHref","baseLink","getLink","href","StyledP","Help","getView","TypeError","setView","cleanData","original_policy","actions","layout","getFileName","getImageAddress","Processings","Status","DebugImage","image","onOpenImageDetailsModal","unwind_status","debug_status","debug_file","debug_id","code_file","code_id","codeFilename","debugFilename","imageAddress","Column","StatusColumn","FileName","CodeFilename","ImageColumn","ImageAddress","DebugFilesColumn","IconCheckmark","ImageStatus","ProcessingIcon","TIMEOUT","FETCHING_FAILED","MALFORMED","MISSING","FOUND","UNUSED","OTHER","scope","Error","ProcessingItem","ProcessingList","items","StyledProcessingList","StyledProcessingItem","StyledTag","createRef","PureComponent","withRouter","openReprocessEventModal","getImageRange","parseAddress","DebugMetaStore","DebugMetaActions","combineStatus","IMAGE_AND_CANDIDATE_LIST_MAX_HEIGHT","normalizeId","shouldSkipSection","IMAGE_INFO_UNAVAILABLE","defaultHeight","scrollbarWidth","isOpen","filteredImages","filteredImagesByFilter","filteredImagesBySearch","store","filterImagesBySearchTerm","getScrollbarWidth","projSlug","imageCodeId","imageDebugId","mod","deps","handleReprocessEvent","onClose","handleCloseImageDetailsModal","getFilteredImagesByFilter","updateFilter","openImageDetailsModal","handleOpenImageDetailsModal","unsubscribeFromDebugMetaStore","listen","onDebugMetaStoreChange","getRelevantImages","getPanelBodyHeight","componentWillUnmount","panelTableWidth","panelTableRef","clientWidth","gridInnerWidth","querySelector","isValidImage","filterImage","needle","image_addr","startAddress","endAddress","relMatch","idSearchTerm","panelTableHeight","relevantImages","formattedRelevantImages","releventImage","sort","a","b","unusedImages","usedImages","defaultFilterSelections","opt","checkedOptions","renderList","showFilters","section","toggleImagesLoaded","handleChangeSearchTerm","handleChangeFilter","xlarge","xxlarge","getLabel","isStacktraceNewestFirst","setNewestFirst","eventHasThreads","handleChange","newStackView","newStackType","newNewestFirst","commonCrashHeaderProps","PermalinkTitle","TraceEventDataSection","CrashContentException","NoStackTraceMessage","eventEntry","getPlatform","dataValue","framePlatform","stackTraceNotFound","rawFunction","recentFirst","fullStackTrace","renderParams","arrayData","i","objectData","formatted","useTheme","EventsRequest","LineChart","LoadingPanel","getInterval","findRangeOfMultiSeries","getDurationUnit","tooltipFormatter","aggregateOutputType","ErrorPanel","DurationChart","issue","transactionNameTag","spanHashTag","allEventsQuery","affectedEventsQuery","allEventsApi","affectedEventsApi","nowRef","PROJECT_ID","issueStart","firstSeen","timeFromFirstSeen","start","interval","end","timeseriesData","allEvents","allEventsLoading","errored","allEventsErrored","affectedEventsLoading","affectedEventsErrored","affectedEvents","durationUnit","range","min","yAxis","show","minInterval","axisLabel","chartLabel","formatter","left","right","top","bottom","smooth","axisLine","onZero","valueFormatter","seriesName","useLocation","SpanCountChart","medium","Section","BarChart","EventView","SpanCountHistogramQuery","formatHistogramData","toString","environment","spanOp","performance_issue","renderChart","_data","xAxis","truncate","axisTick","alignWithLabel","colors","charts","previousPeriod","getColorPalette","tooltip","series","seriesData","contents","toLocaleString","marker","seriesLabel","_series","_","fromNewQueryWithLocation","fields","affectedEventsEventView","histogram","_histogram","_isLoading","_error","getTransformedData","getCurlCommand","getFullUrl","Truncate","RichHttpContentClippedBoxBodySection","RichHttpContentClippedBoxKeyValueList","isPartial","fullUrl","parsedUrl","document","createElement","hostname","fragment","inferredContentType","cookies","headers","env","MonoButton","Path","StyledIconOpen","transformedData","defaultCollapsed","isContextData","DropdownButton","CompactSelect","SearchBar","placeholder","onFilterChange","trigger","ref","StyledSearchBar","blendWithFilter","borderRadiusRight","StyledTrigger","borderRadiusLeft","clamp","rectOfContent","PerformanceInteraction","setBodyUserSelect","MINIMUM_WINDOW_SIZE","ViewHandleType","DragManager","isDragging","currentDraggingHandle","leftHandlePosition","rightHandlePosition","isWindowSelectionDragging","windowSelectionInitial","windowSelectionCurrent","windowSelectionSize","viewWindowStart","viewWindowEnd","interactiveLayerRef","viewHandle","hasInteractiveLayer","startInteraction","previousUserSelect","userSelect","MozUserSelect","msUserSelect","webkitUserSelect","addEventListener","onDragMove","onDragEnd","onDragStart","Left","Right","rect","rawMouseX","pageX","x","finishInteraction","cleanUpListeners","onWindowSelectionDragMove","onWindowSelectionDragEnd","removeEventListener","childrenProps","onLeftHandleDragStart","onRightHandleDragStart","onWindowSelectionDragStart","React","QuickTrace","GenericDiscoverQuery","QuickTraceContext","TraceView","WaterfallModel","quickTrace","eventView","currentEvent","_results","tableData","pickBarColor","IconFilter","noFilter","Filter","operationNameCounts","operationNameFilter","toggleOperationNameFilter","checkedQuantity","operationNames","selectedOptions","menuOptions","operationName","operationCount","trailingItems","selectedOpts","mappedValues","operation","opepationAlreadySelected","priority","OperationDot","backgroundColor","OperationCount","toggleFilter","previousState","delete","add","toggleAllFilters","Observer","AnchorLinkManager","TraceErrorList","getCumulativeAlertLevelFromErrors","parseTrace","scrollToSpan","SpansInterface","parsedTrace","waterfallModel","searchQuery","querySpanSearch","getDerivedStateFromProps","isEvent","renderTraceErrorsAlert","scrollToHash","operationNameFilters","handleSpanFilter","GuideAnchorWrapper","Search","AlertContainer","ErrorLabel","Count","ROW_HEIGHT","MessageRow","Row","RowCell","RowCellContainer","DurationPill","RowRectangle","DividerContainer","DividerLine","DividerLineGhostContainer","EmbeddedTransactionBadge","ErrorBadge","RowTitle","RowTitleContainer","RowTitleContent","ConnectorBar","TOGGLE_BORDER_BOX","TreeConnector","TreeToggle","TreeToggleContainer","TreeToggleIcon","getDurationDisplay","getHumanDuration","toPercent","isTraceFull","MINIMAP_CONTAINER_HEIGHT","MINIMAP_SPAN_BAR_HEIGHT","NUM_OF_SPANS_FIT_IN_MINI_MAP","DividerHandlerManager","SpanBarCursorGuide","SpanDetail","MeasurementMarker","GroupType","durationlessBrowserOps","getMeasurementBounds","getMeasurements","getSpanID","getSpanOperation","isEventFromBrowserJavaScriptSDK","isGapSpan","isOrphanSpan","isOrphanTreeDepth","spanTargetHash","unwrapTreeDepth","INTERSECTION_THRESHOLDS","MARGIN_LEFT","SpanBar","showDetail","deltaY","deltaX","preventDefault","onWheel","element","spanRowDOMRef","boundingRect","getBoundingClientRect","offset","scrollY","scrollTo","_mounted","storeSpanBar","connectObservers","spanTitleRef","handleWheel","passive","disconnectObservers","span","markSpanOutOfView","renderDetail","isVisible","transactions","isRoot","registerScrollFn","scrollIntoView","getBounds","generateBounds","bounds","startTimestamp","start_timestamp","endTimestamp","shouldHideSpanWarnings","warning","isSpanVisibleInView","_exhaustiveCheck","renderMeasurements","measurements","verticalMark","mark","marks","shouldDisplay","failedThreshold","renderSpanTreeConnector","hasToggler","isLast","treeDepth","spanTreeDepth","continuingTreeDepths","showSpanTree","spanID","connectorBars","depth","renderSpanTreeToggler","numOfSpanChildren","chevron","chevronElement","toggleSpanTree","renderTitle","generateContentSpanBarRef","groupOccurrence","toggleSpanGroup","toggleSiblingSpanGroup","groupType","titleFragments","SIBLINGS","spanOperationName","Boolean","intersectionObserver","IntersectionObserver","shouldMoveMinimap","numOfSpans","spanNumber","minimapSlider","getElementById","rootBounds","actualRootTop","ceil","normalizedActualTop","zoomLevel","rectRelativeToRoot","boundingClientRect","bottomYCoord","y","isOutOfViewAbove","relativeToMinimap","rectBelowMinimap","isIntersecting","markSpanInView","inAndAboveMinimap","numberOfMovedSpans","totalHeightOfHiddenSpans","currentSpanHiddenRatio","intersectionRatio","panYPixels","spanNumberToStopMoving","threshold","rootMargin","observe","disconnect","renderDivider","dividerHandlerChildrenProps","position","addDividerLineRef","setHover","getRelatedErrors","getChildTransactions","renderErrorBadge","renderEmbeddedTransactionsBadge","toggleEmbeddedChildren","showEmbeddedChildren","project_slug","renderWarningText","warningText","isEmbeddedTransactionTimeAdjusted","embeddedWarningText","renderHeader","spanBarColor","spanBarHatch","durationString","dividerPosition","addGhostDividerLineRef","displaySpanBar","durationDisplay","paddingTop","toggleDisplayDetail","renderEmbeddedChildrenState","fetchEmbeddedChildrenState","StyledIconWarning","Regroup","CursorGuideHandler","showCursorGuide","traceViewMouseLeft","CursorGuide","countBy","SpanGroupBar","getSpanGroupBounds","getSpanGroupTimestamps","SpanDescendantGroupBar","spanGrouping","renderGroupSpansTitle","operationCounts","enhancedSpan","hasOthers","mostFrequentOperationName","reduce","acc","operationNameKey","count","renderSpanRectangles","blue300","SpanGroupRowTitleContent","renderGroupedSpansToggler","currentRef","isSpanVisible","spanObj","SpanRectangle","SpanRectangleOverlay","SpanSiblingGroupBar","isLastSibling","occurrence","withScrollbarManager","setSpansOnTransaction","SpanTree","toggleSpanSubTree","updateScrollState","spans","dragProps","filterSpans","generateInfoMessage","input","isCurrentSpanHidden","numOfSpansOutOfViewAbove","isCurrentSpanFilteredOut","numOfFilteredSpansAbove","messages","showHiddenSpansMessage","showFilteredSpansMessage","generateLimitExceededMessage","hasAllSpans","viewStart","viewEnd","sum","payload","spanTree","previousSpanNotDisplayed","infoMessage","spanNestedGrouping","toggleNestedSpanGroup","spanSiblingGrouping","isFirstSiblingOfGroup","DESCENDANTS","hiddenSpanSubTrees","traceViewRef","TraceViewContainer","traceEndTimestamp","lastSpan","latest","missingDuration","computed","makeObservable","observable","generateRootSpan","getSiblingGroupKey","isSpanIdFocused","MIN_SIBLING_GROUP_SIZE","SpanTreeModel","constructor","parentSpan","childSpans","spanModel","spanIDs","spanAncestors","previousSiblingEndTimestamp","isOnlySibling","isNestedSpanGroupExpanded","addTraceBounds","removeTraceBounds","directParent","parentSpanID","nextSpanAncestors","descendantsSource","embeddedChildren","descendant","isNotLastSpanOfGroup","shouldGroup","hideSpanTree","isLastSpanOfGroup","isFirstSpanOfGroup","treeDepthEntry","spanGroupingCriteria","wrappedSpan","shouldHideSpanOfGroup","descendantContinuingTreeDepths","hiddenSpanSubTree","groupedDescendants","siblingGroupOccurrenceMap","addGroupToMap","prevSpanModel","groupKey","currentGroup","currSpanModel","descendants","groupIndex","getSpansList","expandedSiblingGroups","isSpanFilteredOut","enhancedSibling","wrappedSiblings","groupedSiblingsSpan","isCurrentSpanOutOfView","spanGroupChain","parentSpanBounds","isParentSpanOutOfView","gapSpan","generateSpanGap","child","generateTraceBounds","fetchEmbeddedTransactions","Promise","resolve","traceStartTimestamp","spanChildren","struct","Map","set","directChild","localeCompare","sensitivity","shouldIncludeGap","isValidGap","isOrphan","startTimeDelta","rootSpan","parsedRootSpan","zIndex","traceView","dividerLine","flatten","groupBy","onClickSpan","spanErrors","spanLevelErrors","link","findSpanById","ErrorLink","EmptyStateWarning","CustomerProfiler","TraceViewHeader","ScrollbarManager","getTraceContext","minimapInteractiveRef","virtualScrollBarContainerRef","getWaterfall","isEmbedded","Client","createFuzzySearch","boundsGenerator","traceBound","traceBounds","getTraceBounds","bound","indexSearch","toggleAllOperationNameFilters","otherEvent","transformed","indexed","pickedSpan","basicValues","tagKeys","tagValues","dataKeys","dataValues","fuse","includeMatches","distance","maxPatternLength","results","search","setOfSpanIDs","StacktraceInterface","CrashContentStackTrace","Line","crashed","getThreadStacktrace","ThreadSelector","getIntendedStackView","activeThread","handleSelectNewThread","handleChangeNewestFirst","handleChangeStackView","hasMoreThanOneThread","getRelevantFrame","trimFilename","filterThreadInfo","threadInfo","threadException","matchedStacktraceAndExceptionThread","exceptionDataValue","threadId","crashedInfo","relevantFrame","getException","exceptionData","exceptionDataValues","exceptionHasAtLeastOneStacktrace","exceptionEntry","Grid","GridCell","ClassNames","partition","DropdownAutoComplete","Option","SelectedOption","DROPDOWN_MAX_HEIGHT","fullWidth","getDropDownItem","getItems","notCrashed","selectedItem","StyledDropdownAutoComplete","large","StyledDropdownButton","details","optionName","InnerCell","isCentered","isBold","ThreadId","pieces","exceptionFramePlatform","threadFramePlatform","renderPills","stackTrace","longKeys","renderLoading","attachmentList","renderer","createAttachmentUrl","getSdkUpdateSuggestion","SdkUpdates","eventDataSectinContent","sdkUpdate","suggestion","alert","ActivityAuthor","ActivityItem","Clipboard","IconCopy","escape","nl2br","getUrl","report","issueId","comments","Email","ViewEventLink","StyledIconCopy","generateSingleErrorTarget","generateSingleTransactionTarget","isQuickTraceEvent","backend","frontend","mobile","serverless","trackAnalyticsEvent","getDocsPlatform","localStorage","parseQuickTrace","Projects","FRONTEND_PLATFORMS","BACKEND_PLATFORMS","DropdownContainer","DropdownItem","DropdownItemSubContainer","DropdownMenuHeader","ErrorNodeContent","EventNode","ExternalDropdownLink","QuickTraceContainer","QuickTraceValue","SectionSubtext","SingleEventHoverText","TraceConnector","TOOLTIP_PREFIX","root","ancestors","anchor","errorDest","transactionDest","parsedQuickTrace","traceLength","nodes","currentNode","handleNode","eventName","organization_id","parseInt","node_key","handleDropdownItem","extra","EventNodeSelector","events","nodeKey","numEvents","hoverText","target","eventPrefix","eventType","DropdownNodeItem","onSelect","allowDefaultEvent","subtext","StyledEventNode","onClick","HIDE_MISSING_SERVICE_KEY","HIDE_MISSING_EXPIRES","readHideMissingServiceState","getItem","expires","now","getTime","MissingServiceNode","hideMissing","setItem","connectorSide","docPlatform","docsHref","trackExternalLink","dismissMissingService","createStore","makeSafeRefluxStore","storeConfig","init","reset","committersError","getState","isBreadcrumbTypeDefault","getDownloadUrl","platforms","performancePlatforms","validDocPlatform","performanceOnly","prefix","substring","validPerformancePrefix","getConfigureTracingDocsLink","docsPlatform","DEFAULT_FUSE_OPTIONS","includeScore","minMatchCharLength","objects","fuseImported","Fuse","getHistogramRequestPayload","numBuckets","precision","dataFilter","baseApiPayload","additionalApiPayload","getEventsAPIPayload","apiPayload","rest","createContext","createLocalStorage","Storage","sessionStorage","useLegacyStore","fetchCommitters","repoData","loadCommitters","firstRelease","fetching","useRouteContext","sessionStorageWrapper","isBrowser","readStorageValue","initialValue","wrappedSetState","removeItem","xor","GroupEventAttachmentsFilter","allAttachmentsQuery","onlyCrashReportsQuery","activeButton","FilterWrapper"],"sourceRoot":""}