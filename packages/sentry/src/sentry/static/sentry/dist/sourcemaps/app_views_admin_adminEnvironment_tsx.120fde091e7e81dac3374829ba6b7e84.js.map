{"version":3,"file":"chunks/app_views_admin_adminEnvironment_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/views/admin/adminEnvironment.tsx","webpack:///./app/views/asyncView.tsx"],"sourcesContent":["import {Fragment} from 'react';\nimport styled from '@emotion/styled';\nimport moment from 'moment';\n\nimport Button from 'sentry/components/button';\nimport {IconQuestion} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport ConfigStore from 'sentry/stores/configStore';\nimport space from 'sentry/styles/space';\nimport AsyncView from 'sentry/views/asyncView';\n\ntype Data = {\n  config: [key: string, value: string][];\n  environment: {\n    config: string;\n    start_date: string;\n  };\n  pythonVersion: string;\n};\n\ntype State = AsyncView['state'] & {data: Data};\n\nexport default class AdminEnvironment extends AsyncView<{}, State> {\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    return [['data', '/internal/environment/']];\n  }\n\n  renderBody() {\n    const {data} = this.state;\n    const {environment, config, pythonVersion} = data;\n\n    const {version} = ConfigStore.getConfig();\n\n    return (\n      <div>\n        <h3>{t('Environment')}</h3>\n\n        {environment ? (\n          <dl className=\"vars\">\n            <VersionLabel>\n              {t('Server Version')}\n              {version.upgradeAvailable && (\n                <Button\n                  title={t(\n                    \"You're running an old version of Sentry, did you know %s is available?\",\n                    version.latest\n                  )}\n                  aria-label={t(\n                    \"You're running an old version of Sentry, did you know %s is available?\",\n                    version.latest\n                  )}\n                  priority=\"link\"\n                  href=\"https://github.com/getsentry/sentry/releases\"\n                  icon={<IconQuestion size=\"sm\" />}\n                  size=\"sm\"\n                  external\n                />\n              )}\n            </VersionLabel>\n            <dd>\n              <pre className=\"val\">{version.current}</pre>\n            </dd>\n\n            <dt>{t('Python Version')}</dt>\n            <dd>\n              <pre className=\"val\">{pythonVersion}</pre>\n            </dd>\n            <dt>{t('Configuration File')}</dt>\n            <dd>\n              <pre className=\"val\">{environment.config}</pre>\n            </dd>\n            <dt>{t('Uptime')}</dt>\n            <dd>\n              <pre className=\"val\">\n                {moment(environment.start_date).toNow(true)} (since{' '}\n                {environment.start_date})\n              </pre>\n            </dd>\n          </dl>\n        ) : (\n          <p>\n            {t('Environment not found (are you using the builtin Sentry webserver?).')}\n          </p>\n        )}\n\n        <h3>\n          {tct('Configuration [configPath]', {\n            configPath: environment.config && <small>{environment.config}</small>,\n          })}\n        </h3>\n\n        <dl className=\"vars\">\n          {config.map(([key, value]) => (\n            <Fragment key={key}>\n              <dt>{key}</dt>\n              <dd>\n                <pre className=\"val\">{value}</pre>\n              </dd>\n            </Fragment>\n          ))}\n        </dl>\n      </div>\n    );\n  }\n}\n\nconst VersionLabel = styled('dt')`\n  display: inline-grid;\n  grid-auto-flow: column;\n  gap: ${space(1)};\n  align-items: center;\n`;\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n"],"names":["Fragment","moment","Button","IconQuestion","t","tct","ConfigStore","space","AsyncView","AdminEnvironment","getEndpoints","renderBody","data","state","environment","config","pythonVersion","version","getConfig","upgradeAvailable","latest","current","start_date","toNow","configPath","map","key","value","VersionLabel","AsyncComponent","SentryDocumentTitle","getTitle","render","renderComponent"],"sourceRoot":""}