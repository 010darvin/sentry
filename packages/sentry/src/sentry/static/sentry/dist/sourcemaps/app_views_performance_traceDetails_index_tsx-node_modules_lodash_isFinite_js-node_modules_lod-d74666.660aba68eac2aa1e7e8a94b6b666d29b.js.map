{"version":3,"file":"chunks/app_views_performance_traceDetails_index_tsx-node_modules_lodash_isFinite_js-node_modules_lod-d74666.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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AAQpJ,KAA7B,GAAqCmJ,CAAC,CAACC,KAAF,CAAQI,OADnC,iBAEZL,CAAC,IAAIA,CAAC,CAACC,KAAF,CAAQK,cAFD,yBAApB;;;;;;;;;;AC1DP,WAAW,mBAAO,CAAC,gDAAS;;AAE5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnCA,mBAAmB,mBAAO,CAAC,gEAAiB;AAC5C,aAAa,mBAAO,CAAC,oDAAW;AAChC,mBAAmB,mBAAO,CAAC,gEAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,GAAG;AAChB;AACA;AACA,oBAAoB,QAAQ,IAAI,QAAQ;AACxC;AACA,kCAAkC,aAAa;AAC/C,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjCA,eAAe,mBAAO,CAAC,sDAAY;AACnC,eAAe,mBAAO,CAAC,sDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,mBAAmB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA","sources":["webpack:///./app/utils/fuzzySearch.tsx","webpack:///./app/utils/performance/quickTrace/traceFullQuery.tsx","webpack:///./app/utils/performance/quickTrace/traceMetaQuery.tsx","webpack:///./app/views/performance/traceDetails/content.tsx","webpack:///./app/views/performance/traceDetails/index.tsx","webpack:///./app/views/performance/transactionDetails/styles.tsx","webpack:///../node_modules/lodash/isFinite.js","webpack:///../node_modules/lodash/maxBy.js","webpack:///../node_modules/lodash/throttle.js"],"sourcesContent":["import type Fuse from 'fuse.js';\n\n// See http://fusejs.io/ for more information\nconst DEFAULT_FUSE_OPTIONS: Fuse.IFuseOptions<any> = {\n  includeScore: true,\n  includeMatches: true,\n  threshold: 0.4,\n  location: 0,\n  distance: 75,\n  minMatchCharLength: 2,\n};\n\nexport async function createFuzzySearch<\n  T = string,\n  Options extends Fuse.IFuseOptions<T> = Fuse.IFuseOptions<T>\n>(objects: T[], options: Options): Promise<Fuse<T>> {\n  if (!options.keys) {\n    throw new Error('You need to define `options.keys`');\n  }\n\n  const fuseImported = await import('fuse.js');\n  const fuse = {Fuse: fuseImported.default};\n\n  return new fuse.Fuse(objects, {\n    ...DEFAULT_FUSE_OPTIONS,\n    ...options,\n  });\n}\n\n// re-export fuse type to make it easier to use\nexport type {Fuse};\n","import {Fragment} from 'react';\n\nimport GenericDiscoverQuery, {\n  DiscoverQueryProps,\n} from 'sentry/utils/discover/genericDiscoverQuery';\nimport {\n  BaseTraceChildrenProps,\n  FullQuickTrace,\n  TraceFull,\n  TraceFullDetailed,\n  TraceRequestProps,\n} from 'sentry/utils/performance/quickTrace/types';\nimport {\n  getTraceRequestPayload,\n  makeEventView,\n} from 'sentry/utils/performance/quickTrace/utils';\nimport withApi from 'sentry/utils/withApi';\n\ntype AdditionalQueryProps = {\n  detailed?: boolean;\n  eventId?: string;\n};\n\ntype TraceFullQueryChildrenProps<T> = BaseTraceChildrenProps &\n  Omit<FullQuickTrace, 'trace'> & {\n    /**\n     * The `event-trace` endpoint returns a full trace with the parent-child\n     * relationships. It can be flattened into a `QuickTraceEvent` if necessary.\n     */\n    traces: T | null;\n  };\n\ntype QueryProps<T> = Omit<TraceRequestProps, 'eventView'> &\n  AdditionalQueryProps & {\n    children: (props: TraceFullQueryChildrenProps<T>) => React.ReactNode;\n  };\n\nfunction getTraceFullRequestPayload({\n  detailed,\n  eventId,\n  ...props\n}: DiscoverQueryProps & AdditionalQueryProps) {\n  const additionalApiPayload: any = getTraceRequestPayload(props);\n  additionalApiPayload.detailed = detailed ? '1' : '0';\n  if (eventId) {\n    additionalApiPayload.event_id = eventId;\n  }\n  return additionalApiPayload;\n}\n\nfunction EmptyTrace<T>({children}: Pick<QueryProps<T>, 'children'>) {\n  return (\n    <Fragment>\n      {children({\n        isLoading: false,\n        error: null,\n        traces: null,\n        type: 'full',\n      })}\n    </Fragment>\n  );\n}\n\nfunction GenericTraceFullQuery<T>({\n  traceId,\n  start,\n  end,\n  statsPeriod,\n  children,\n  ...props\n}: QueryProps<T>) {\n  if (!traceId) {\n    return <EmptyTrace<T>>{children}</EmptyTrace>;\n  }\n\n  const eventView = makeEventView({start, end, statsPeriod});\n\n  return (\n    <GenericDiscoverQuery<T, AdditionalQueryProps>\n      route={`events-trace/${traceId}`}\n      getRequestPayload={getTraceFullRequestPayload}\n      eventView={eventView}\n      {...props}\n    >\n      {({tableData, ...rest}) =>\n        children({\n          // This is using '||` instead of '??` here because\n          // the client returns a empty string when the response\n          // is 204. And we want the empty string, undefined and\n          // null to be converted to null.\n          traces: tableData || null,\n          type: 'full',\n          ...rest,\n        })\n      }\n    </GenericDiscoverQuery>\n  );\n}\n\nexport const TraceFullQuery = withApi(\n  (props: Omit<QueryProps<TraceFull[]>, 'detailed'>) => (\n    <GenericTraceFullQuery<TraceFull[]> {...props} detailed={false} />\n  )\n);\n\nexport const TraceFullDetailedQuery = withApi(\n  (props: Omit<QueryProps<TraceFullDetailed[]>, 'detailed'>) => (\n    <GenericTraceFullQuery<TraceFullDetailed[]> {...props} detailed />\n  )\n);\n","import {Fragment} from 'react';\n\nimport GenericDiscoverQuery from 'sentry/utils/discover/genericDiscoverQuery';\nimport {\n  BaseTraceChildrenProps,\n  TraceMeta,\n  TraceRequestProps,\n} from 'sentry/utils/performance/quickTrace/types';\nimport {\n  getTraceRequestPayload,\n  makeEventView,\n} from 'sentry/utils/performance/quickTrace/utils';\nimport withApi from 'sentry/utils/withApi';\n\nexport type TraceMetaQueryChildrenProps = BaseTraceChildrenProps & {\n  meta: TraceMeta | null;\n};\n\ntype QueryProps = Omit<TraceRequestProps, 'eventView'> & {\n  children: (props: TraceMetaQueryChildrenProps) => React.ReactNode;\n};\n\nfunction TraceMetaQuery({\n  traceId,\n  start,\n  end,\n  statsPeriod,\n  children,\n  ...props\n}: QueryProps) {\n  if (!traceId) {\n    return (\n      <Fragment>\n        {children({\n          isLoading: false,\n          error: null,\n          meta: null,\n        })}\n      </Fragment>\n    );\n  }\n\n  const eventView = makeEventView({start, end, statsPeriod});\n\n  return (\n    <GenericDiscoverQuery<TraceMeta, {}>\n      route={`events-trace-meta/${traceId}`}\n      getRequestPayload={getTraceRequestPayload}\n      eventView={eventView}\n      {...props}\n    >\n      {({tableData, ...rest}) => {\n        return children({\n          meta: tableData,\n          ...rest,\n        });\n      }}\n    </GenericDiscoverQuery>\n  );\n}\n\nexport default withApi(TraceMetaQuery);\n","import {Component, createRef, Fragment} from 'react';\nimport {RouteComponentProps} from 'react-router';\n\nimport Alert from 'sentry/components/alert';\nimport GuideAnchor from 'sentry/components/assistant/guideAnchor';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport DiscoverButton from 'sentry/components/discoverButton';\nimport * as Layout from 'sentry/components/layouts/thirds';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport LoadingError from 'sentry/components/loadingError';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport TimeSince from 'sentry/components/timeSince';\nimport {t, tct, tn} from 'sentry/locale';\nimport {Organization} from 'sentry/types';\nimport {defined} from 'sentry/utils';\nimport trackAdvancedAnalyticsEvent from 'sentry/utils/analytics/trackAdvancedAnalyticsEvent';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {QueryError} from 'sentry/utils/discover/genericDiscoverQuery';\nimport {getDuration} from 'sentry/utils/formatters';\nimport {createFuzzySearch, Fuse} from 'sentry/utils/fuzzySearch';\nimport getDynamicText from 'sentry/utils/getDynamicText';\nimport {TraceFullDetailed, TraceMeta} from 'sentry/utils/performance/quickTrace/types';\nimport {filterTrace, reduceTrace} from 'sentry/utils/performance/quickTrace/utils';\nimport Breadcrumb from 'sentry/views/performance/breadcrumb';\nimport {MetaData} from 'sentry/views/performance/transactionDetails/styles';\n\nimport {TraceDetailHeader, TraceSearchBar, TraceSearchContainer} from './styles';\nimport TraceNotFound from './traceNotFound';\nimport TraceView from './traceView';\nimport {TraceInfo} from './types';\nimport {getTraceInfo, isRootTransaction} from './utils';\n\ntype IndexedFusedTransaction = {\n  indexed: string[];\n  transaction: TraceFullDetailed;\n};\n\ntype Props = Pick<RouteComponentProps<{traceSlug: string}, {}>, 'params' | 'location'> & {\n  dateSelected: boolean;\n  error: QueryError | null;\n  isLoading: boolean;\n  meta: TraceMeta | null;\n  organization: Organization;\n  traceEventView: EventView;\n  traceSlug: string;\n  traces: TraceFullDetailed[] | null;\n};\n\ntype State = {\n  filteredTransactionIds: Set<string> | undefined;\n  searchQuery: string | undefined;\n};\n\nclass TraceDetailsContent extends Component<Props, State> {\n  state: State = {\n    searchQuery: undefined,\n    filteredTransactionIds: undefined,\n  };\n\n  componentDidMount() {\n    this.initFuse();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.traces !== prevProps.traces) {\n      this.initFuse();\n    }\n  }\n\n  fuse: Fuse<IndexedFusedTransaction> | null = null;\n  traceViewRef = createRef<HTMLDivElement>();\n  virtualScrollbarContainerRef = createRef<HTMLDivElement>();\n\n  async initFuse() {\n    if (defined(this.props.traces) && this.props.traces.length > 0) {\n      const transformed: IndexedFusedTransaction[] = this.props.traces.flatMap(trace =>\n        reduceTrace<IndexedFusedTransaction[]>(\n          trace,\n          (acc, transaction) => {\n            const indexed: string[] = [\n              transaction['transaction.op'],\n              transaction.transaction,\n              transaction.project_slug,\n            ];\n\n            acc.push({\n              transaction,\n              indexed,\n            });\n\n            return acc;\n          },\n          []\n        )\n      );\n\n      this.fuse = await createFuzzySearch(transformed, {\n        keys: ['indexed'],\n        includeMatches: true,\n        threshold: 0.6,\n        location: 0,\n        distance: 100,\n        maxPatternLength: 32,\n      });\n    }\n  }\n\n  renderTraceLoading() {\n    return <LoadingIndicator />;\n  }\n\n  renderTraceRequiresDateRangeSelection() {\n    return <LoadingError message={t('Trace view requires a date range selection.')} />;\n  }\n\n  handleTransactionFilter = (searchQuery: string) => {\n    this.setState({searchQuery: searchQuery || undefined}, this.filterTransactions);\n  };\n\n  filterTransactions = () => {\n    const {traces} = this.props;\n    const {filteredTransactionIds, searchQuery} = this.state;\n\n    if (!searchQuery || traces === null || traces.length <= 0 || !defined(this.fuse)) {\n      if (filteredTransactionIds !== undefined) {\n        this.setState({\n          filteredTransactionIds: undefined,\n        });\n      }\n      return;\n    }\n\n    const fuseMatches = this.fuse\n      .search<IndexedFusedTransaction>(searchQuery)\n      /**\n       * Sometimes, there can be matches that don't include any\n       * indices. These matches are often noise, so exclude them.\n       */\n      .filter(({matches}) => matches?.length)\n      .map(({item}) => item.transaction.event_id);\n\n    /**\n     * Fuzzy search on ids result in seemingly random results. So switch to\n     * doing substring matches on ids to provide more meaningful results.\n     */\n    const idMatches = traces\n      .flatMap(trace =>\n        filterTrace(\n          trace,\n          ({event_id, span_id}) =>\n            event_id.includes(searchQuery) || span_id.includes(searchQuery)\n        )\n      )\n      .map(transaction => transaction.event_id);\n\n    this.setState({\n      filteredTransactionIds: new Set([...fuseMatches, ...idMatches]),\n    });\n  };\n\n  renderSearchBar() {\n    return (\n      <TraceSearchContainer>\n        <TraceSearchBar\n          defaultQuery=\"\"\n          query={this.state.searchQuery || ''}\n          placeholder={t('Search for transactions')}\n          onSearch={this.handleTransactionFilter}\n        />\n      </TraceSearchContainer>\n    );\n  }\n\n  renderTraceHeader(traceInfo: TraceInfo) {\n    const {meta} = this.props;\n    return (\n      <TraceDetailHeader>\n        <GuideAnchor target=\"trace_view_guide_breakdown\">\n          <MetaData\n            headingText={t('Event Breakdown')}\n            tooltipText={t(\n              'The number of transactions and errors there are in this trace.'\n            )}\n            bodyText={tct('[transactions]  |  [errors]', {\n              transactions: tn(\n                '%s Transaction',\n                '%s Transactions',\n                meta?.transactions ?? traceInfo.transactions.size\n              ),\n              errors: tn('%s Error', '%s Errors', meta?.errors ?? traceInfo.errors.size),\n            })}\n            subtext={tn(\n              'Across %s project',\n              'Across %s projects',\n              meta?.projects ?? traceInfo.projects.size\n            )}\n          />\n        </GuideAnchor>\n        <MetaData\n          headingText={t('Total Duration')}\n          tooltipText={t('The time elapsed between the start and end of this trace.')}\n          bodyText={getDuration(\n            traceInfo.endTimestamp - traceInfo.startTimestamp,\n            2,\n            true\n          )}\n          subtext={getDynamicText({\n            value: <TimeSince date={(traceInfo.endTimestamp || 0) * 1000} />,\n            fixed: '5 days ago',\n          })}\n        />\n      </TraceDetailHeader>\n    );\n  }\n\n  renderTraceWarnings() {\n    const {traces} = this.props;\n\n    const {roots, orphans} = (traces ?? []).reduce(\n      (counts, trace) => {\n        if (isRootTransaction(trace)) {\n          counts.roots++;\n        } else {\n          counts.orphans++;\n        }\n        return counts;\n      },\n      {roots: 0, orphans: 0}\n    );\n\n    let warning: React.ReactNode = null;\n\n    if (roots === 0 && orphans > 0) {\n      warning = (\n        <Alert type=\"info\" showIcon>\n          <ExternalLink href=\"https://docs.sentry.io/product/performance/trace-view/#orphan-traces-and-broken-subtraces\">\n            {t(\n              'A root transaction is missing. Transactions linked by a dashed line have been orphaned and cannot be directly linked to the root.'\n            )}\n          </ExternalLink>\n        </Alert>\n      );\n    } else if (roots === 1 && orphans > 0) {\n      warning = (\n        <Alert type=\"info\" showIcon>\n          <ExternalLink href=\"https://docs.sentry.io/product/performance/trace-view/#orphan-traces-and-broken-subtraces\">\n            {t(\n              'This trace has broken subtraces. Transactions linked by a dashed line have been orphaned and cannot be directly linked to the root.'\n            )}\n          </ExternalLink>\n        </Alert>\n      );\n    } else if (roots > 1) {\n      warning = (\n        <Alert type=\"info\" showIcon>\n          <ExternalLink href=\"https://docs.sentry.io/product/performance/trace-view/#multiple-roots\">\n            {t('Multiple root transactions have been found with this trace ID.')}\n          </ExternalLink>\n        </Alert>\n      );\n    }\n\n    return warning;\n  }\n\n  renderContent() {\n    const {\n      dateSelected,\n      isLoading,\n      error,\n      organization,\n      location,\n      traceEventView,\n      traceSlug,\n      traces,\n      meta,\n    } = this.props;\n\n    if (!dateSelected) {\n      return this.renderTraceRequiresDateRangeSelection();\n    }\n    if (isLoading) {\n      return this.renderTraceLoading();\n    }\n    if (error !== null || traces === null || traces.length <= 0) {\n      return (\n        <TraceNotFound\n          meta={meta}\n          traceEventView={traceEventView}\n          traceSlug={traceSlug}\n          location={location}\n          organization={organization}\n        />\n      );\n    }\n    const traceInfo = getTraceInfo(traces);\n\n    return (\n      <Fragment>\n        {this.renderTraceWarnings()}\n        {this.renderTraceHeader(traceInfo)}\n        {this.renderSearchBar()}\n        <TraceView\n          filteredTransactionIds={this.state.filteredTransactionIds}\n          traceInfo={traceInfo}\n          location={location}\n          organization={organization}\n          traceEventView={traceEventView}\n          traceSlug={traceSlug}\n          traces={traces}\n          meta={meta}\n        />\n      </Fragment>\n    );\n  }\n\n  render() {\n    const {organization, location, traceEventView, traceSlug} = this.props;\n\n    return (\n      <Fragment>\n        <Layout.Header>\n          <Layout.HeaderContent>\n            <Breadcrumb\n              organization={organization}\n              location={location}\n              traceSlug={traceSlug}\n            />\n            <Layout.Title data-test-id=\"trace-header\">\n              {t('Trace ID: %s', traceSlug)}\n            </Layout.Title>\n          </Layout.HeaderContent>\n          <Layout.HeaderActions>\n            <ButtonBar gap={1}>\n              <DiscoverButton\n                to={traceEventView.getResultsViewUrlTarget(organization.slug)}\n                onClick={() => {\n                  trackAdvancedAnalyticsEvent(\n                    'performance_views.trace_view.open_in_discover',\n                    {\n                      organization,\n                    }\n                  );\n                }}\n              >\n                {t('Open in Discover')}\n              </DiscoverButton>\n            </ButtonBar>\n          </Layout.HeaderActions>\n        </Layout.Header>\n        <Layout.Body>\n          <Layout.Main fullWidth>{this.renderContent()}</Layout.Main>\n        </Layout.Body>\n      </Fragment>\n    );\n  }\n}\n\nexport default TraceDetailsContent;\n","import {Component} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {Client} from 'sentry/api';\nimport NoProjectMessage from 'sentry/components/noProjectMessage';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\nimport {ALL_ACCESS_PROJECTS} from 'sentry/constants/pageFilters';\nimport {t} from 'sentry/locale';\nimport {PageContent} from 'sentry/styles/organization';\nimport {Organization} from 'sentry/types';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {QueryError} from 'sentry/utils/discover/genericDiscoverQuery';\nimport {TraceFullDetailedQuery} from 'sentry/utils/performance/quickTrace/traceFullQuery';\nimport TraceMetaQuery from 'sentry/utils/performance/quickTrace/traceMetaQuery';\nimport {TraceFullDetailed, TraceMeta} from 'sentry/utils/performance/quickTrace/types';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport withApi from 'sentry/utils/withApi';\nimport withOrganization from 'sentry/utils/withOrganization';\n\nimport TraceDetailsContent from './content';\n\ntype Props = RouteComponentProps<{traceSlug: string}, {}> & {\n  api: Client;\n  organization: Organization;\n};\n\nclass TraceSummary extends Component<Props> {\n  getDocumentTitle(): string {\n    return [t('Trace Details'), t('Performance')].join(' - ');\n  }\n\n  getTraceSlug(): string {\n    const {traceSlug} = this.props.params;\n    return typeof traceSlug === 'string' ? traceSlug.trim() : '';\n  }\n\n  getDateSelection() {\n    const {location} = this.props;\n    const queryParams = normalizeDateTimeParams(location.query, {\n      allowAbsolutePageDatetime: true,\n    });\n    const start = decodeScalar(queryParams.start);\n    const end = decodeScalar(queryParams.end);\n    const statsPeriod = decodeScalar(queryParams.statsPeriod);\n    return {start, end, statsPeriod};\n  }\n\n  getTraceEventView() {\n    const traceSlug = this.getTraceSlug();\n    const {start, end, statsPeriod} = this.getDateSelection();\n\n    return EventView.fromSavedQuery({\n      id: undefined,\n      name: `Events with Trace ID ${traceSlug}`,\n      fields: ['title', 'event.type', 'project', 'timestamp'],\n      orderby: '-timestamp',\n      query: `trace:${traceSlug}`,\n      projects: [ALL_ACCESS_PROJECTS],\n      version: 2,\n      start,\n      end,\n      range: statsPeriod,\n    });\n  }\n\n  renderContent() {\n    const {location, organization, params} = this.props;\n    const traceSlug = this.getTraceSlug();\n    const {start, end, statsPeriod} = this.getDateSelection();\n    const dateSelected = Boolean(statsPeriod || (start && end));\n\n    const content = ({\n      isLoading,\n      error,\n      traces,\n      meta,\n    }: {\n      error: QueryError | null;\n      isLoading: boolean;\n      meta: TraceMeta | null;\n      traces: TraceFullDetailed[] | null;\n    }) => (\n      <TraceDetailsContent\n        location={location}\n        organization={organization}\n        params={params}\n        traceSlug={traceSlug}\n        traceEventView={this.getTraceEventView()}\n        dateSelected={dateSelected}\n        isLoading={isLoading}\n        error={error}\n        traces={traces}\n        meta={meta}\n      />\n    );\n\n    if (!dateSelected) {\n      return content({\n        isLoading: false,\n        error: new QueryError('date selection not specified'),\n        traces: null,\n        meta: null,\n      });\n    }\n\n    return (\n      <TraceFullDetailedQuery\n        location={location}\n        orgSlug={organization.slug}\n        traceId={traceSlug}\n        start={start}\n        end={end}\n        statsPeriod={statsPeriod}\n      >\n        {traceResults => (\n          <TraceMetaQuery\n            location={location}\n            orgSlug={organization.slug}\n            traceId={traceSlug}\n            start={start}\n            end={end}\n            statsPeriod={statsPeriod}\n          >\n            {metaResults =>\n              content({\n                isLoading: traceResults.isLoading || metaResults.isLoading,\n                error: traceResults.error || metaResults.error,\n                traces: traceResults.traces,\n                meta: metaResults.meta,\n              })\n            }\n          </TraceMetaQuery>\n        )}\n      </TraceFullDetailedQuery>\n    );\n  }\n\n  render() {\n    const {organization} = this.props;\n\n    return (\n      <SentryDocumentTitle title={this.getDocumentTitle()} orgSlug={organization.slug}>\n        <StyledPageContent>\n          <NoProjectMessage organization={organization}>\n            {this.renderContent()}\n          </NoProjectMessage>\n        </StyledPageContent>\n      </SentryDocumentTitle>\n    );\n  }\n}\n\nexport default withOrganization(withApi(TraceSummary));\n\nconst StyledPageContent = styled(PageContent)`\n  padding: 0;\n`;\n","import styled from '@emotion/styled';\n\nimport {SectionHeading} from 'sentry/components/charts/styles';\nimport FeatureBadge from 'sentry/components/featureBadge';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport space from 'sentry/styles/space';\n\ntype MetaDataProps = {\n  bodyText: React.ReactNode;\n  headingText: string;\n  subtext: React.ReactNode;\n  tooltipText: string;\n  badge?: 'alpha' | 'beta' | 'new';\n};\n\nexport function MetaData({\n  headingText,\n  tooltipText,\n  bodyText,\n  subtext,\n  badge,\n}: MetaDataProps) {\n  return (\n    <HeaderInfo>\n      <StyledSectionHeading>\n        {headingText}\n        <QuestionTooltip\n          position=\"top\"\n          size=\"sm\"\n          containerDisplayMode=\"block\"\n          title={tooltipText}\n        />\n        {badge && <StyledFeatureBadge type={badge} />}\n      </StyledSectionHeading>\n      <SectionBody>{bodyText}</SectionBody>\n      <SectionSubtext>{subtext}</SectionSubtext>\n    </HeaderInfo>\n  );\n}\n\nconst HeaderInfo = styled('div')`\n  height: 78px;\n`;\n\nconst StyledSectionHeading = styled(SectionHeading)`\n  margin: 0;\n`;\n\nconst SectionBody = styled('div')`\n  font-size: ${p => p.theme.fontSizeExtraLarge};\n  padding: ${space(0.5)} 0;\n  max-height: 32px;\n`;\n\nconst StyledFeatureBadge = styled(FeatureBadge)`\n  margin: 0;\n`;\n\nexport const SectionSubtext = styled('div')<{type?: 'error' | 'default'}>`\n  color: ${p => (p.type === 'error' ? p.theme.error : p.theme.subText)};\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n","var root = require('./_root');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsFinite = root.isFinite;\n\n/**\n * Checks if `value` is a finite primitive number.\n *\n * **Note:** This method is based on\n * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n * @example\n *\n * _.isFinite(3);\n * // => true\n *\n * _.isFinite(Number.MIN_VALUE);\n * // => true\n *\n * _.isFinite(Infinity);\n * // => false\n *\n * _.isFinite('3');\n * // => false\n */\nfunction isFinite(value) {\n  return typeof value == 'number' && nativeIsFinite(value);\n}\n\nmodule.exports = isFinite;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n"],"names":["DEFAULT_FUSE_OPTIONS","includeScore","includeMatches","threshold","location","distance","minMatchCharLength","createFuzzySearch","objects","options","keys","Error","fuseImported","fuse","Fuse","default","Fragment","GenericDiscoverQuery","getTraceRequestPayload","makeEventView","withApi","getTraceFullRequestPayload","detailed","eventId","props","additionalApiPayload","event_id","EmptyTrace","children","isLoading","error","traces","type","GenericTraceFullQuery","traceId","start","end","statsPeriod","eventView","tableData","rest","TraceFullQuery","TraceFullDetailedQuery","TraceMetaQuery","meta","Component","createRef","Alert","GuideAnchor","ButtonBar","DiscoverButton","Layout","ExternalLink","LoadingError","LoadingIndicator","TimeSince","t","tct","tn","defined","trackAdvancedAnalyticsEvent","getDuration","getDynamicText","filterTrace","reduceTrace","Breadcrumb","MetaData","TraceDetailHeader","TraceSearchBar","TraceSearchContainer","TraceNotFound","TraceView","getTraceInfo","isRootTransaction","TraceDetailsContent","searchQuery","undefined","filteredTransactionIds","setState","filterTransactions","state","length","fuseMatches","search","filter","matches","map","item","transaction","idMatches","flatMap","trace","span_id","includes","Set","componentDidMount","initFuse","componentDidUpdate","prevProps","transformed","acc","indexed","project_slug","push","maxPatternLength","renderTraceLoading","renderTraceRequiresDateRangeSelection","renderSearchBar","handleTransactionFilter","renderTraceHeader","traceInfo","transactions","size","errors","projects","endTimestamp","startTimestamp","value","fixed","renderTraceWarnings","roots","orphans","reduce","counts","warning","renderContent","dateSelected","organization","traceEventView","traceSlug","render","getResultsViewUrlTarget","slug","NoProjectMessage","normalizeDateTimeParams","SentryDocumentTitle","ALL_ACCESS_PROJECTS","PageContent","EventView","QueryError","decodeScalar","withOrganization","TraceSummary","getDocumentTitle","join","getTraceSlug","params","trim","getDateSelection","queryParams","query","allowAbsolutePageDatetime","getTraceEventView","fromSavedQuery","id","name","fields","orderby","version","range","Boolean","content","traceResults","metaResults","StyledPageContent","SectionHeading","FeatureBadge","QuestionTooltip","space","headingText","tooltipText","bodyText","subtext","badge","HeaderInfo","StyledSectionHeading","SectionBody","p","theme","fontSizeExtraLarge","StyledFeatureBadge","SectionSubtext","subText","fontSizeMedium"],"sourceRoot":""}