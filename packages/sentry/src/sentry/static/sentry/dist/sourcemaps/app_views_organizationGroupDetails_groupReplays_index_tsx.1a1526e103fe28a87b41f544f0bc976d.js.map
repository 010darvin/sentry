{"version":3,"file":"chunks/app_views_organizationGroupDetails_groupReplays_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/utils/useParams.tsx","webpack:///./app/views/organizationGroupDetails/groupReplays/groupReplays.tsx","webpack:///./app/views/organizationGroupDetails/groupReplays/index.tsx"],"sourcesContent":["import {useRouteContext} from 'sentry/utils/useRouteContext';\n\nexport function useParams() {\n  const route = useRouteContext();\n  return route.params;\n}\n","import {useMemo} from 'react';\nimport styled from '@emotion/styled';\n\nimport Pagination from 'sentry/components/pagination';\nimport {PageContent} from 'sentry/styles/organization';\nimport type {Group} from 'sentry/types';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport useReplayList, {\n  DEFAULT_SORT,\n  REPLAY_LIST_FIELDS,\n} from 'sentry/utils/replays/hooks/useReplayList';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport {useLocation} from 'sentry/utils/useLocation';\nimport useOrganization from 'sentry/utils/useOrganization';\nimport {useParams} from 'sentry/utils/useParams';\nimport ReplayTable from 'sentry/views/replays/replayTable';\nimport type {ReplayListLocationQuery} from 'sentry/views/replays/types';\n\ntype Props = {\n  group: Group;\n};\n\nconst GroupReplays = ({group}: Props) => {\n  const location = useLocation<ReplayListLocationQuery>();\n  const organization = useOrganization();\n  const params = useParams();\n  const {project} = group;\n\n  const eventView = useMemo(() => {\n    const query = decodeScalar(location.query.query, '');\n    const conditions = new MutableSearch(query);\n    conditions.addFilterValues('issue.id', params.groupId);\n\n    return EventView.fromNewQueryWithLocation(\n      {\n        id: '',\n        name: '',\n        version: 2,\n        fields: REPLAY_LIST_FIELDS,\n        projects: [Number(project.id)],\n        query: conditions.formatString(),\n        orderby: decodeScalar(location.query.sort, DEFAULT_SORT),\n      },\n      location\n    );\n  }, [location, project.id, params.groupId]);\n\n  const {replays, pageLinks, isFetching} = useReplayList({\n    organization,\n    eventView,\n  });\n\n  return (\n    <StyledPageContent>\n      <ReplayTable\n        isFetching={isFetching}\n        replays={replays}\n        showProjectColumn={false}\n        sort={eventView.sorts[0]}\n      />\n      <Pagination pageLinks={pageLinks} />\n    </StyledPageContent>\n  );\n};\n\nconst StyledPageContent = styled(PageContent)`\n  box-shadow: 0px 0px 1px ${p => p.theme.gray200};\n  background-color: ${p => p.theme.background};\n`;\n\nexport default GroupReplays;\n","import Feature from 'sentry/components/acl/feature';\nimport Alert from 'sentry/components/alert';\nimport {t} from 'sentry/locale';\nimport {PageContent} from 'sentry/styles/organization';\nimport {Group} from 'sentry/types';\nimport useOrganization from 'sentry/utils/useOrganization';\n\nimport GroupReplays from './groupReplays';\n\ntype Props = {\n  group: Group;\n};\n\nconst GroupReplaysContainer = ({group}: Props) => {\n  const organization = useOrganization();\n  function renderNoAccess() {\n    return (\n      <PageContent>\n        <Alert type=\"warning\">{t(\"You don't have access to this feature\")}</Alert>\n      </PageContent>\n    );\n  }\n\n  return (\n    <Feature\n      features={['session-replay-ui']}\n      organization={organization}\n      renderDisabled={renderNoAccess}\n    >\n      <GroupReplays group={group} />\n    </Feature>\n  );\n};\n\nexport default GroupReplaysContainer;\n"],"names":["useRouteContext","useParams","route","params","useMemo","Pagination","PageContent","EventView","decodeScalar","useReplayList","DEFAULT_SORT","REPLAY_LIST_FIELDS","MutableSearch","useLocation","useOrganization","ReplayTable","GroupReplays","group","location","organization","project","eventView","query","conditions","addFilterValues","groupId","fromNewQueryWithLocation","id","name","version","fields","projects","Number","formatString","orderby","sort","replays","pageLinks","isFetching","sorts","StyledPageContent","p","theme","gray200","background","Feature","Alert","t","GroupReplaysContainer","renderNoAccess"],"sourceRoot":""}