{"version":3,"file":"chunks/app_views_settings_organizationTeams_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/utils/recreateRoute.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/organizationTeams/allTeamsList.tsx","webpack:///./app/views/settings/organizationTeams/allTeamsRow.tsx","webpack:///./app/views/settings/organizationTeams/index.tsx","webpack:///./app/views/settings/organizationTeams/organizationAccessRequests.tsx","webpack:///./app/views/settings/organizationTeams/organizationTeams.tsx","webpack:///./app/views/settings/organizationTeams/roleOverwriteWarning.tsx"],"sourcesContent":["import {Location} from 'history';\nimport findLastIndex from 'lodash/findLastIndex';\n\nimport replaceRouterParams from 'sentry/utils/replaceRouterParams';\nimport {RouteWithName} from 'sentry/views/settings/components/settingsBreadcrumb/types';\n\ntype Options = {\n  // parameters to replace any route string parameters (e.g. if route is `:orgId`,\n  // params should have `{orgId: slug}`\n  params: {[key: string]: string | undefined};\n\n  routes: RouteWithName[];\n\n  location?: Location;\n  /**\n   * The number of routes to to pop off of `routes\n   * Must be < 0\n   *\n   * There's no ts type for negative numbers so we are arbitrarily specifying -1-9\n   */\n  stepBack?: -1 | -2 | -3 | -4 | -5 | -6 | -7 | -8 | -9;\n};\n\n/**\n * Given a route object or a string and a list of routes + params from router, this will attempt to recreate a location string while replacing url params.\n * Can additionally specify the number of routes to move back\n *\n * See tests for examples\n */\nexport default function recreateRoute(\n  to: string | RouteWithName,\n  options: Options\n): string {\n  const {routes, params, location, stepBack} = options;\n  const paths = routes.map(({path}) => path || '');\n  let lastRootIndex: number;\n  let routeIndex: number | undefined;\n\n  // TODO(ts): typescript things\n  if (typeof to !== 'string') {\n    routeIndex = routes.indexOf(to) + 1;\n    lastRootIndex = findLastIndex(paths.slice(0, routeIndex), path => path[0] === '/');\n  } else {\n    lastRootIndex = findLastIndex(paths, path => path[0] === '/');\n  }\n\n  let baseRoute = paths.slice(lastRootIndex, routeIndex);\n\n  if (typeof stepBack !== 'undefined') {\n    baseRoute = baseRoute.slice(0, stepBack);\n  }\n\n  const search = location?.search ?? '';\n  const hash = location?.hash ?? '';\n\n  const fullRoute = `${baseRoute.join('')}${\n    typeof to !== 'string' ? '' : to\n  }${search}${hash}`;\n\n  return replaceRouterParams(fullRoute, params);\n}\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport {openCreateTeamModal} from 'sentry/actionCreators/modal';\nimport Button from 'sentry/components/button';\nimport {t, tct} from 'sentry/locale';\nimport {Organization, Team} from 'sentry/types';\nimport EmptyMessage from 'sentry/views/settings/components/emptyMessage';\nimport TextBlock from 'sentry/views/settings/components/text/textBlock';\n\nimport AllTeamsRow from './allTeamsRow';\n\ntype Props = {\n  access: Record<string, any>;\n  openMembership: boolean;\n  organization: Organization;\n  teamList: Array<Team>;\n  urlPrefix: string;\n};\n\nfunction AllTeamsList({\n  organization,\n  urlPrefix,\n  openMembership,\n  teamList,\n  access,\n}: Props) {\n  const teamNodes = teamList.map(team => (\n    <AllTeamsRow\n      urlPrefix={urlPrefix}\n      team={team}\n      organization={organization}\n      openMembership={openMembership}\n      key={team.slug}\n    />\n  ));\n\n  if (!teamNodes.length) {\n    const canCreateTeam = access.has('project:admin');\n\n    return (\n      <EmptyMessage>\n        {tct('No teams here. [teamCreate]', {\n          root: <TextBlock noMargin />,\n          teamCreate: canCreateTeam\n            ? tct('You can always [link:create one].', {\n                link: (\n                  <StyledButton\n                    priority=\"link\"\n                    onClick={() =>\n                      openCreateTeamModal({\n                        organization,\n                      })\n                    }\n                    aria-label={t('Create team')}\n                  />\n                ),\n              })\n            : null,\n        })}\n      </EmptyMessage>\n    );\n  }\n\n  return <Fragment>{teamNodes}</Fragment>;\n}\n\nexport default AllTeamsList;\n\nconst StyledButton = styled(Button)`\n  font-size: ${p => p.theme.fontSizeLarge};\n`;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage, addSuccessMessage} from 'sentry/actionCreators/indicator';\nimport {fetchOrganizationDetails} from 'sentry/actionCreators/organizations';\nimport {joinTeam, leaveTeam} from 'sentry/actionCreators/teams';\nimport TeamActions from 'sentry/actions/teamActions';\nimport {Client} from 'sentry/api';\nimport Button from 'sentry/components/button';\nimport IdBadge from 'sentry/components/idBadge';\nimport Link from 'sentry/components/links/link';\nimport {PanelItem} from 'sentry/components/panels';\nimport {t, tct, tn} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {Organization, Team} from 'sentry/types';\nimport withApi from 'sentry/utils/withApi';\n\ntype Props = {\n  api: Client;\n  openMembership: boolean;\n  organization: Organization;\n  team: Team;\n  urlPrefix: string;\n};\n\ntype State = {\n  error: boolean;\n  loading: boolean;\n};\n\nclass AllTeamsRow extends Component<Props, State> {\n  state: State = {\n    loading: false,\n    error: false,\n  };\n\n  reloadProjects() {\n    const {organization} = this.props;\n    // After a change in teams has happened, refresh the project store\n    fetchOrganizationDetails(organization.slug, {\n      loadProjects: true,\n    });\n  }\n\n  handleRequestAccess = () => {\n    const {team} = this.props;\n\n    try {\n      this.joinTeam({\n        successMessage: tct('You have requested access to [team]', {\n          team: `#${team.slug}`,\n        }),\n\n        errorMessage: tct('Unable to request access to [team]', {\n          team: `#${team.slug}`,\n        }),\n      });\n\n      // Update team so that `isPending` is true\n      TeamActions.updateSuccess(team.slug, {\n        ...team,\n        isPending: true,\n      });\n    } catch (_err) {\n      // No need to do anything\n    }\n  };\n\n  handleJoinTeam = async () => {\n    const {team} = this.props;\n\n    await this.joinTeam({\n      successMessage: tct('You have joined [team]', {\n        team: `#${team.slug}`,\n      }),\n      errorMessage: tct('Unable to join [team]', {\n        team: `#${team.slug}`,\n      }),\n    });\n\n    this.reloadProjects();\n  };\n\n  joinTeam = ({\n    successMessage,\n    errorMessage,\n  }: {\n    errorMessage: React.ReactNode;\n    successMessage: React.ReactNode;\n  }) => {\n    const {api, organization, team} = this.props;\n\n    this.setState({\n      loading: true,\n    });\n\n    return new Promise<void>((resolve, reject) =>\n      joinTeam(\n        api,\n        {\n          orgId: organization.slug,\n          teamId: team.slug,\n        },\n        {\n          success: () => {\n            this.setState({\n              loading: false,\n              error: false,\n            });\n            addSuccessMessage(successMessage);\n            resolve();\n          },\n          error: () => {\n            this.setState({\n              loading: false,\n              error: true,\n            });\n            addErrorMessage(errorMessage);\n            reject(new Error('Unable to join team'));\n          },\n        }\n      )\n    );\n  };\n\n  handleLeaveTeam = () => {\n    const {api, organization, team} = this.props;\n\n    this.setState({\n      loading: true,\n    });\n\n    leaveTeam(\n      api,\n      {\n        orgId: organization.slug,\n        teamId: team.slug,\n      },\n      {\n        success: () => {\n          this.setState({\n            loading: false,\n            error: false,\n          });\n          addSuccessMessage(\n            tct('You have left [team]', {\n              team: `#${team.slug}`,\n            })\n          );\n\n          // Reload ProjectsStore\n          this.reloadProjects();\n        },\n        error: () => {\n          this.setState({\n            loading: false,\n            error: true,\n          });\n          addErrorMessage(\n            tct('Unable to leave [team]', {\n              team: `#${team.slug}`,\n            })\n          );\n        },\n      }\n    );\n  };\n\n  getTeamRoleName = () => {\n    const {organization, team} = this.props;\n    if (!organization.features.includes('team-roles') || !team.teamRole) {\n      return null;\n    }\n\n    const {teamRoleList} = organization;\n    const roleName = teamRoleList.find(r => r.id === team.teamRole)?.name;\n\n    return roleName;\n  };\n\n  render() {\n    const {team, urlPrefix, openMembership} = this.props;\n\n    const display = (\n      <IdBadge\n        team={team}\n        avatarSize={36}\n        description={tn('%s Member', '%s Members', team.memberCount)}\n      />\n    );\n\n    // You can only view team details if you have access to team -- this should account\n    // for your role + org open membership\n    const canViewTeam = team.hasAccess;\n\n    return (\n      <TeamPanelItem>\n        <div>\n          {canViewTeam ? (\n            <TeamLink data-test-id=\"team-link\" to={`${urlPrefix}teams/${team.slug}/`}>\n              {display}\n            </TeamLink>\n          ) : (\n            display\n          )}\n        </div>\n        <div>{this.getTeamRoleName()}</div>\n        <div>\n          {this.state.loading ? (\n            <Button size=\"sm\" disabled>\n              ...\n            </Button>\n          ) : team.isMember ? (\n            <Button size=\"sm\" onClick={this.handleLeaveTeam}>\n              {t('Leave Team')}\n            </Button>\n          ) : team.isPending ? (\n            <Button\n              size=\"sm\"\n              disabled\n              title={t(\n                'Your request to join this team is being reviewed by organization owners'\n              )}\n            >\n              {t('Request Pending')}\n            </Button>\n          ) : openMembership ? (\n            <Button size=\"sm\" onClick={this.handleJoinTeam}>\n              {t('Join Team')}\n            </Button>\n          ) : (\n            <Button size=\"sm\" onClick={this.handleRequestAccess}>\n              {t('Request Access')}\n            </Button>\n          )}\n        </div>\n      </TeamPanelItem>\n    );\n  }\n}\n\nconst TeamLink = styled(Link)`\n  display: inline-block;\n\n  &.focus-visible {\n    margin: -${space(1)};\n    padding: ${space(1)};\n    background: #f2eff5;\n    border-radius: 3px;\n    outline: none;\n  }\n`;\n\nexport {AllTeamsRow};\nexport default withApi(AllTeamsRow);\n\nconst TeamPanelItem = styled(PanelItem)`\n  display: grid;\n  grid-template-columns: minmax(150px, 4fr) minmax(90px, 1fr) min-content;\n  gap: ${space(2)};\n  align-items: center;\n\n  > div:last-child {\n    margin-left: auto;\n  }\n`;\n","import {RouteComponentProps} from 'react-router';\n\nimport {loadStats} from 'sentry/actionCreators/projects';\nimport TeamActions from 'sentry/actions/teamActions';\nimport {Client} from 'sentry/api';\nimport {AccessRequest, Organization, Team} from 'sentry/types';\nimport withApi from 'sentry/utils/withApi';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport AsyncView from 'sentry/views/asyncView';\n\nimport OrganizationTeams from './organizationTeams';\n\ntype Props = {\n  api: Client;\n  organization: Organization;\n  teams: Team[];\n} & RouteComponentProps<{orgId: string}, {}>;\n\ntype State = AsyncView['state'] & {\n  requestList: AccessRequest[];\n};\n\nclass OrganizationTeamsContainer extends AsyncView<Props, State> {\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {orgId} = this.props.params;\n\n    return [['requestList', `/organizations/${orgId}/access-requests/`]];\n  }\n\n  componentDidMount() {\n    this.fetchStats();\n  }\n\n  fetchStats() {\n    loadStats(this.props.api, {\n      orgId: this.props.params.orgId,\n      query: {\n        since: (new Date().getTime() / 1000 - 3600 * 24).toString(),\n        stat: 'generated',\n        group: 'project',\n      },\n    });\n  }\n\n  removeAccessRequest = (id: string, isApproved: boolean) => {\n    const requestToRemove = this.state.requestList.find(request => request.id === id);\n    this.setState(state => ({\n      requestList: state.requestList.filter(request => request.id !== id),\n    }));\n    if (isApproved && requestToRemove) {\n      const team = requestToRemove.team;\n      TeamActions.updateSuccess(team.slug, {\n        ...team,\n        memberCount: team.memberCount + 1,\n      });\n    }\n  };\n\n  renderBody() {\n    const {organization} = this.props;\n\n    if (!organization) {\n      return null;\n    }\n\n    return (\n      <OrganizationTeams\n        {...this.props}\n        access={new Set(organization.access)}\n        features={new Set(organization.features)}\n        organization={organization}\n        requestList={this.state.requestList}\n        onRemoveAccessRequest={this.removeAccessRequest}\n      />\n    );\n  }\n}\n\nexport {OrganizationTeamsContainer};\n\nexport default withApi(withOrganization(OrganizationTeamsContainer));\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage, addSuccessMessage} from 'sentry/actionCreators/indicator';\nimport {Client} from 'sentry/api';\nimport Button from 'sentry/components/button';\nimport {Panel, PanelBody, PanelHeader, PanelItem} from 'sentry/components/panels';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {AccessRequest} from 'sentry/types';\nimport withApi from 'sentry/utils/withApi';\n\ntype Props = {\n  api: Client;\n  onRemoveAccessRequest: (id: string, isApproved: boolean) => void;\n  orgId: string;\n  requestList: AccessRequest[];\n};\n\ntype State = {\n  accessRequestBusy: Record<string, boolean>;\n};\n\ntype HandleOpts = {\n  errorMessage: string;\n  id: string;\n  isApproved: boolean;\n  successMessage: string;\n};\n\nclass OrganizationAccessRequests extends Component<Props, State> {\n  state: State = {\n    accessRequestBusy: {},\n  };\n\n  async handleAction({id, isApproved, successMessage, errorMessage}: HandleOpts) {\n    const {api, orgId, onRemoveAccessRequest} = this.props;\n\n    this.setState(state => ({\n      accessRequestBusy: {...state.accessRequestBusy, [id]: true},\n    }));\n\n    try {\n      await api.requestPromise(`/organizations/${orgId}/access-requests/${id}/`, {\n        method: 'PUT',\n        data: {isApproved},\n      });\n      onRemoveAccessRequest(id, isApproved);\n      addSuccessMessage(successMessage);\n    } catch {\n      addErrorMessage(errorMessage);\n    }\n\n    this.setState(state => ({\n      accessRequestBusy: {...state.accessRequestBusy, [id]: false},\n    }));\n  }\n\n  handleApprove = (id: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    this.handleAction({\n      id,\n      isApproved: true,\n      successMessage: t('Team request approved'),\n      errorMessage: t('Error approving team request'),\n    });\n  };\n\n  handleDeny = (id: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    this.handleAction({\n      id,\n      isApproved: false,\n      successMessage: t('Team request denied'),\n      errorMessage: t('Error denying team request'),\n    });\n  };\n\n  render() {\n    const {requestList} = this.props;\n    const {accessRequestBusy} = this.state;\n\n    if (!requestList || !requestList.length) {\n      return null;\n    }\n\n    return (\n      <Panel>\n        <PanelHeader>{t('Pending Team Requests')}</PanelHeader>\n\n        <PanelBody>\n          {requestList.map(({id, member, team, requester}) => {\n            const memberName =\n              member.user &&\n              (member.user.name || member.user.email || member.user.username);\n            const requesterName =\n              requester && (requester.name || requester.email || requester.username);\n            return (\n              <StyledPanelItem key={id}>\n                <div data-test-id=\"request-message\">\n                  {requesterName\n                    ? tct('[requesterName] requests to add [name] to the [team] team.', {\n                        requesterName,\n                        name: <strong>{memberName}</strong>,\n                        team: <strong>#{team.slug}</strong>,\n                      })\n                    : tct('[name] requests access to the [team] team.', {\n                        name: <strong>{memberName}</strong>,\n                        team: <strong>#{team.slug}</strong>,\n                      })}\n                </div>\n                <div>\n                  <StyledButton\n                    priority=\"primary\"\n                    size=\"sm\"\n                    onClick={e => this.handleApprove(id, e)}\n                    busy={accessRequestBusy[id]}\n                  >\n                    {t('Approve')}\n                  </StyledButton>\n                  <Button\n                    busy={accessRequestBusy[id]}\n                    onClick={e => this.handleDeny(id, e)}\n                    size=\"sm\"\n                  >\n                    {t('Deny')}\n                  </Button>\n                </div>\n              </StyledPanelItem>\n            );\n          })}\n        </PanelBody>\n      </Panel>\n    );\n  }\n}\n\nconst StyledPanelItem = styled(PanelItem)`\n  display: grid;\n  grid-template-columns: auto max-content;\n  gap: ${space(2)};\n  align-items: center;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-right: ${space(1)};\n`;\n\nexport default withApi(OrganizationAccessRequests);\n","import {useState} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport debounce from 'lodash/debounce';\nimport partition from 'lodash/partition';\n\nimport {openCreateTeamModal} from 'sentry/actionCreators/modal';\nimport Button from 'sentry/components/button';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {Panel, PanelBody, PanelHeader} from 'sentry/components/panels';\nimport SearchBar from 'sentry/components/searchBar';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\nimport {DEFAULT_DEBOUNCE_DURATION} from 'sentry/constants';\nimport {IconAdd} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {AccessRequest, Organization} from 'sentry/types';\nimport recreateRoute from 'sentry/utils/recreateRoute';\nimport useTeams from 'sentry/utils/useTeams';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\nimport {RoleOverwritePanelAlert} from 'sentry/views/settings/organizationTeams/roleOverwriteWarning';\n\nimport AllTeamsList from './allTeamsList';\nimport OrganizationAccessRequests from './organizationAccessRequests';\n\ntype Props = {\n  access: Set<string>;\n  features: Set<string>;\n  onRemoveAccessRequest: (id: string, isApproved: boolean) => void;\n  organization: Organization;\n  requestList: AccessRequest[];\n} & RouteComponentProps<{orgId: string}, {}>;\n\nfunction OrganizationTeams({\n  organization,\n  access,\n  features,\n  routes,\n  params,\n  requestList,\n  onRemoveAccessRequest,\n}: Props) {\n  const [teamQuery, setTeamQuery] = useState('');\n  const {initiallyLoaded} = useTeams({provideUserTeams: true});\n  const {teams, onSearch, loadMore, hasMore, fetching} = useTeams();\n\n  if (!organization) {\n    return null;\n  }\n  const canCreateTeams = access.has('project:admin');\n\n  const action = (\n    <Button\n      priority=\"primary\"\n      size=\"sm\"\n      disabled={!canCreateTeams}\n      title={\n        !canCreateTeams ? t('You do not have permission to create teams') : undefined\n      }\n      onClick={() =>\n        openCreateTeamModal({\n          organization,\n        })\n      }\n      icon={<IconAdd size=\"xs\" isCircled />}\n    >\n      {t('Create Team')}\n    </Button>\n  );\n\n  const teamRoute = routes.find(({path}) => path === 'teams/');\n  const urlPrefix = teamRoute\n    ? recreateRoute(teamRoute, {routes, params, stepBack: -2})\n    : '';\n\n  const title = t('Teams');\n\n  const debouncedSearch = debounce(onSearch, DEFAULT_DEBOUNCE_DURATION);\n  function handleSearch(query: string) {\n    setTeamQuery(query);\n    debouncedSearch(query);\n  }\n\n  const {slug: orgSlug, orgRole, orgRoleList, teamRoleList} = organization;\n  const filteredTeams = teams.filter(team =>\n    `#${team.slug}`.toLowerCase().includes(teamQuery.toLowerCase())\n  );\n  const [userTeams, otherTeams] = partition(filteredTeams, team => team.isMember);\n\n  return (\n    <div data-test-id=\"team-list\">\n      <SentryDocumentTitle title={title} orgSlug={orgSlug} />\n      <SettingsPageHeader title={title} action={action} />\n\n      <OrganizationAccessRequests\n        orgId={params.orgId}\n        requestList={requestList}\n        onRemoveAccessRequest={onRemoveAccessRequest}\n      />\n      <StyledSearchBar\n        placeholder={t('Search teams')}\n        onChange={handleSearch}\n        query={teamQuery}\n      />\n      <Panel>\n        <PanelHeader>{t('Your Teams')}</PanelHeader>\n        <PanelBody>\n          {features.has('team-roles') && (\n            <RoleOverwritePanelAlert\n              orgRole={orgRole}\n              orgRoleList={orgRoleList}\n              teamRoleList={teamRoleList}\n              isSelf\n            />\n          )}\n          {initiallyLoaded ? (\n            <AllTeamsList\n              urlPrefix={urlPrefix}\n              organization={organization}\n              teamList={userTeams.filter(team => team.slug.includes(teamQuery))}\n              access={access}\n              openMembership={false}\n            />\n          ) : (\n            <LoadingIndicator />\n          )}\n        </PanelBody>\n      </Panel>\n      <Panel>\n        <PanelHeader>{t('Other Teams')}</PanelHeader>\n        <PanelBody>\n          <AllTeamsList\n            urlPrefix={urlPrefix}\n            organization={organization}\n            teamList={otherTeams}\n            access={access}\n            openMembership={\n              !!(features.has('open-membership') || access.has('org:write'))\n            }\n          />\n        </PanelBody>\n      </Panel>\n      {hasMore && (\n        <LoadMoreWrapper>\n          {fetching && <LoadingIndicator mini />}\n          <Button onClick={() => loadMore(teamQuery)}>{t('Show more')}</Button>\n        </LoadMoreWrapper>\n      )}\n    </div>\n  );\n}\n\nconst StyledSearchBar = styled(SearchBar)`\n  margin-bottom: ${space(2)};\n`;\n\nconst LoadMoreWrapper = styled('div')`\n  display: grid;\n  gap: ${space(2)};\n  align-items: center;\n  justify-content: end;\n  grid-auto-flow: column;\n`;\n\nexport default OrganizationTeams;\n","import React from 'react';\n\nimport {PanelAlert} from 'sentry/components/panels';\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconInfo} from 'sentry/icons';\nimport {tct} from 'sentry/locale';\nimport {OrgRole, TeamRole} from 'sentry/types';\n\ntype Props = {\n  orgRole: OrgRole['id'] | undefined;\n  orgRoleList: OrgRole[];\n  teamRoleList: TeamRole[];\n  isSelf?: boolean;\n};\n\nexport const RoleOverwriteIcon: React.FC<Props> = props => {\n  const hasOverride = hasOrgRoleOverwrite(props);\n  if (!hasOverride) {\n    return null;\n  }\n\n  return (\n    <Tooltip title={getOverwriteString(props)}>\n      <IconInfo size=\"sm\" color=\"gray300\" />\n    </Tooltip>\n  );\n};\n\nexport const RoleOverwritePanelAlert: React.FC<Props> = props => {\n  const hasOverride = hasOrgRoleOverwrite(props);\n  if (!hasOverride) {\n    return null;\n  }\n\n  return <PanelAlert>{getOverwriteString(props)}</PanelAlert>;\n};\n\n/**\n * Check that the user's org role has a minimum team role that maps to the lowest\n * possible team role\n */\nexport function hasOrgRoleOverwrite(props: Props) {\n  const {orgRole, orgRoleList, teamRoleList} = props;\n\n  const orgRoleObj = orgRoleList.find(r => r.id === orgRole);\n  return teamRoleList.findIndex(r => r.id === orgRoleObj?.minimumTeamRole) > 0;\n}\n\n/**\n * Standardize string so situations where org-level vs team-level roles is easier to recognize\n */\nexport function getOverwriteString(props: Props) {\n  const {orgRole, orgRoleList, teamRoleList, isSelf} = props;\n  const orgRoleObj = orgRoleList.find(r => r.id === orgRole);\n  const teamRoleObj = teamRoleList.find(r => r.id === orgRoleObj?.minimumTeamRole);\n  if (!orgRoleObj || !teamRoleObj) {\n    return '';\n  }\n\n  return tct(\n    '[selfNoun] organization role as [article] [orgRole] has granted [selfPronoun] a minimum team-level role of [teamRole]',\n    {\n      selfNoun: isSelf ? 'Your' : \"This user's\",\n      selfPronoun: isSelf ? 'you' : 'them',\n      article: 'AEIOU'.includes(orgRoleObj.name[0]) ? 'an' : 'a',\n      orgRole: <strong>{orgRoleObj.name}</strong>,\n      teamRole: <strong>{teamRoleObj.name}</strong>,\n    }\n  );\n}\n\nexport default RoleOverwriteIcon;\n"],"names":["findLastIndex","replaceRouterParams","recreateRoute","to","options","routes","params","location","stepBack","paths","map","path","lastRootIndex","routeIndex","indexOf","slice","baseRoute","search","hash","fullRoute","join","AsyncComponent","SentryDocumentTitle","AsyncView","getTitle","render","renderComponent","Fragment","openCreateTeamModal","Button","t","tct","EmptyMessage","TextBlock","AllTeamsRow","AllTeamsList","organization","urlPrefix","openMembership","teamList","access","teamNodes","team","slug","length","canCreateTeam","has","root","teamCreate","link","StyledButton","p","theme","fontSizeLarge","Component","addErrorMessage","addSuccessMessage","fetchOrganizationDetails","joinTeam","leaveTeam","TeamActions","IdBadge","Link","PanelItem","tn","space","withApi","loading","error","props","successMessage","errorMessage","updateSuccess","isPending","_err","reloadProjects","api","setState","Promise","resolve","reject","orgId","teamId","success","Error","features","includes","teamRole","teamRoleList","roleName","find","r","id","name","loadProjects","display","memberCount","canViewTeam","hasAccess","getTeamRoleName","state","isMember","handleLeaveTeam","handleJoinTeam","handleRequestAccess","TeamLink","TeamPanelItem","loadStats","withOrganization","OrganizationTeams","OrganizationTeamsContainer","isApproved","requestToRemove","requestList","request","filter","getEndpoints","componentDidMount","fetchStats","query","since","Date","getTime","toString","stat","group","renderBody","Set","removeAccessRequest","Panel","PanelBody","PanelHeader","OrganizationAccessRequests","accessRequestBusy","e","stopPropagation","handleAction","onRemoveAccessRequest","requestPromise","method","data","member","requester","memberName","user","email","username","requesterName","handleApprove","handleDeny","StyledPanelItem","useState","debounce","partition","LoadingIndicator","SearchBar","DEFAULT_DEBOUNCE_DURATION","IconAdd","useTeams","SettingsPageHeader","RoleOverwritePanelAlert","teamQuery","setTeamQuery","initiallyLoaded","provideUserTeams","teams","onSearch","loadMore","hasMore","fetching","canCreateTeams","action","undefined","teamRoute","title","debouncedSearch","handleSearch","orgSlug","orgRole","orgRoleList","filteredTeams","toLowerCase","userTeams","otherTeams","StyledSearchBar","LoadMoreWrapper","React","PanelAlert","Tooltip","IconInfo","RoleOverwriteIcon","hasOverride","hasOrgRoleOverwrite","getOverwriteString","orgRoleObj","findIndex","minimumTeamRole","isSelf","teamRoleObj","selfNoun","selfPronoun","article"],"sourceRoot":""}