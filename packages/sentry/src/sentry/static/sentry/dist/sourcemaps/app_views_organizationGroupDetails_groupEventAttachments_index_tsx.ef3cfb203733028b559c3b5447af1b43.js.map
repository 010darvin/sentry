{"version":3,"file":"chunks/app_views_organizationGroupDetails_groupEventAttachments_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClEA,qBAAqB,mBAAO,CAAC,oEAAmB;AAChD,kBAAkB,mBAAO,CAAC,8DAAgB;AAC1C,eAAe,mBAAO,CAAC,wDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnCA,kBAAkB,mBAAO,CAAC,8DAAgB;AAC1C,eAAe,mBAAO,CAAC,wDAAa;AACpC,cAAc,mBAAO,CAAC,sDAAY;AAClC,wBAAwB,mBAAO,CAAC,wEAAqB;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED","sources":["webpack:///./app/components/acl/role.tsx","webpack:///./app/components/events/eventAttachmentActions.tsx","webpack:///./app/utils/attachmentUrl.tsx","webpack:///./app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachments.tsx","webpack:///./app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsFilter.tsx","webpack:///./app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsTable.tsx","webpack:///./app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsTableRow.tsx","webpack:///./app/views/organizationGroupDetails/groupEventAttachments/index.tsx","webpack:///./app/views/organizationGroupDetails/groupEventAttachments/types.tsx","webpack:///../node_modules/lodash/_baseDifference.js","webpack:///../node_modules/lodash/_baseXor.js","webpack:///../node_modules/lodash/xor.js"],"sourcesContent":["import {useMemo} from 'react';\n\nimport ConfigStore from 'sentry/stores/configStore';\nimport {Organization, User} from 'sentry/types';\nimport {isActiveSuperuser} from 'sentry/utils/isActiveSuperuser';\nimport {isRenderFunc} from 'sentry/utils/isRenderFunc';\nimport withOrganization from 'sentry/utils/withOrganization';\n\ntype RoleRenderProps = {\n  hasRole: boolean;\n};\n\ntype ChildrenRenderFn = (props: RoleRenderProps) => React.ReactElement | null;\n\nfunction checkUserRole(user: User, organization: Organization, role: RoleProps['role']) {\n  if (!user) {\n    return false;\n  }\n\n  if (isActiveSuperuser()) {\n    return true;\n  }\n\n  if (!Array.isArray(organization.orgRoleList)) {\n    return false;\n  }\n\n  const roleIds = organization.orgRoleList.map(r => r.id);\n\n  if (!roleIds.includes(role) || !roleIds.includes(organization.role ?? '')) {\n    return false;\n  }\n\n  const requiredIndex = roleIds.indexOf(role);\n  const currentIndex = roleIds.indexOf(organization.role ?? '');\n  return currentIndex >= requiredIndex;\n}\n\ninterface RoleProps {\n  /**\n   * If children is a function then will be treated as a render prop and\n   * passed RoleRenderProps.\n   *\n   * The other interface is more simple, only show `children` if user has\n   * the minimum required role.\n   */\n  children: React.ReactElement | ChildrenRenderFn;\n  /**\n   * Current Organization\n   */\n  organization: Organization;\n  /**\n   * Minimum required role\n   */\n  role: string;\n}\n\nfunction Role({role, organization, children}: RoleProps): React.ReactElement | null {\n  const user = ConfigStore.get('user');\n\n  const hasRole = useMemo(\n    () => checkUserRole(user, organization, role),\n    // It seems that this returns a stable reference, but\n    [organization, role, user]\n  );\n\n  if (isRenderFunc<ChildrenRenderFn>(children)) {\n    return children({hasRole});\n  }\n\n  return hasRole ? children : null;\n}\n\nconst withOrganizationRole = withOrganization(Role);\n\nexport {withOrganizationRole as Role};\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {Client} from 'sentry/api';\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport Confirm from 'sentry/components/confirm';\nimport {IconDelete, IconDownload, IconShow} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport withApi from 'sentry/utils/withApi';\n\ntype Props = {\n  api: Client;\n  attachmentId: string;\n  onDelete: (attachmentId: string) => void;\n  url: string | null;\n  hasPreview?: boolean;\n  onPreview?: (attachmentId: string) => void;\n  previewIsOpen?: boolean;\n  withPreviewButton?: boolean;\n};\n\nclass EventAttachmentActions extends Component<Props> {\n  handlePreview() {\n    const {onPreview, attachmentId} = this.props;\n    if (onPreview) {\n      onPreview(attachmentId);\n    }\n  }\n\n  render() {\n    const {url, withPreviewButton, hasPreview, previewIsOpen, onDelete, attachmentId} =\n      this.props;\n\n    return (\n      <ButtonBar gap={1}>\n        <Confirm\n          confirmText={t('Delete')}\n          message={t('Are you sure you wish to delete this file?')}\n          priority=\"danger\"\n          onConfirm={() => onDelete(attachmentId)}\n          disabled={!url}\n        >\n          <Button\n            size=\"xs\"\n            icon={<IconDelete size=\"xs\" />}\n            aria-label={t('Delete')}\n            disabled={!url}\n            title={!url ? t('Insufficient permissions to delete attachments') : undefined}\n          />\n        </Confirm>\n\n        <DownloadButton\n          size=\"xs\"\n          icon={<IconDownload size=\"xs\" />}\n          href={url ? `${url}?download=1` : ''}\n          disabled={!url}\n          title={!url ? t('Insufficient permissions to download attachments') : undefined}\n          aria-label={t('Download')}\n        />\n\n        {withPreviewButton && (\n          <DownloadButton\n            size=\"xs\"\n            disabled={!url || !hasPreview}\n            priority={previewIsOpen ? 'primary' : 'default'}\n            icon={<IconShow size=\"xs\" />}\n            onClick={() => this.handlePreview()}\n            title={\n              !url\n                ? t('Insufficient permissions to preview attachments')\n                : !hasPreview\n                ? t('This attachment cannot be previewed')\n                : undefined\n            }\n          >\n            {t('Preview')}\n          </DownloadButton>\n        )}\n      </ButtonBar>\n    );\n  }\n}\n\nconst DownloadButton = styled(Button)`\n  margin-right: ${space(0.5)};\n`;\n\nexport default withApi(EventAttachmentActions);\n","import {memo} from 'react';\n\nimport {Role} from 'sentry/components/acl/role';\nimport {IssueAttachment, Organization} from 'sentry/types';\nimport withOrganization from 'sentry/utils/withOrganization';\n\ntype Props = {\n  attachment: IssueAttachment;\n  children: (downloadUrl: string | null) => React.ReactElement | null;\n  eventId: string;\n  organization: Organization;\n  projectId: string;\n};\n\nfunction AttachmentUrl({attachment, organization, eventId, projectId, children}: Props) {\n  function getDownloadUrl() {\n    return `/api/0/projects/${organization.slug}/${projectId}/events/${eventId}/attachments/${attachment.id}/`;\n  }\n\n  return (\n    <Role role={organization.attachmentsRole}>\n      {({hasRole}) => children(hasRole ? getDownloadUrl() : null)}\n    </Role>\n  );\n}\n\nexport default withOrganization(memo(AttachmentUrl));\n","// eslint-disable-next-line no-restricted-imports\nimport {withRouter, WithRouterProps} from 'react-router';\nimport pick from 'lodash/pick';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport EmptyStateWarning from 'sentry/components/emptyStateWarning';\nimport * as Layout from 'sentry/components/layouts/thirds';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport Pagination from 'sentry/components/pagination';\nimport {Panel, PanelBody} from 'sentry/components/panels';\nimport {t} from 'sentry/locale';\nimport {IssueAttachment} from 'sentry/types';\n\nimport GroupEventAttachmentsFilter from './groupEventAttachmentsFilter';\nimport GroupEventAttachmentsTable from './groupEventAttachmentsTable';\n\ntype Props = {\n  projectSlug: string;\n} & WithRouterProps<{groupId: string; orgId: string}> &\n  AsyncComponent['props'];\n\ntype State = {\n  deletedAttachments: string[];\n  eventAttachments?: IssueAttachment[];\n} & AsyncComponent['state'];\n\nclass GroupEventAttachments extends AsyncComponent<Props, State> {\n  getDefaultState() {\n    return {\n      ...super.getDefaultState(),\n      deletedAttachments: [],\n    };\n  }\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {params, location} = this.props;\n\n    return [\n      [\n        'eventAttachments',\n        `/issues/${params.groupId}/attachments/`,\n        {\n          query: {\n            ...pick(location.query, ['cursor', 'environment', 'types']),\n            limit: 50,\n          },\n        },\n      ],\n    ];\n  }\n\n  handleDelete = async (deletedAttachmentId: string) => {\n    const {params, projectSlug} = this.props;\n    const attachment = this.state?.eventAttachments?.find(\n      item => item.id === deletedAttachmentId\n    );\n    if (!attachment) {\n      return;\n    }\n\n    this.setState(prevState => ({\n      deletedAttachments: [...prevState.deletedAttachments, deletedAttachmentId],\n    }));\n\n    try {\n      await this.api.requestPromise(\n        `/projects/${params.orgId}/${projectSlug}/events/${attachment.event_id}/attachments/${attachment.id}/`,\n        {\n          method: 'DELETE',\n        }\n      );\n    } catch (error) {\n      addErrorMessage('An error occurred while deleteting the attachment');\n    }\n  };\n\n  renderNoQueryResults() {\n    return (\n      <EmptyStateWarning>\n        <p>{t('No crash reports found')}</p>\n      </EmptyStateWarning>\n    );\n  }\n\n  renderEmpty() {\n    return (\n      <EmptyStateWarning>\n        <p>{t('No attachments found')}</p>\n      </EmptyStateWarning>\n    );\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderInnerBody() {\n    const {projectSlug, params, location} = this.props;\n    const {loading, eventAttachments, deletedAttachments} = this.state;\n\n    if (loading) {\n      return <LoadingIndicator />;\n    }\n\n    if (eventAttachments && eventAttachments.length > 0) {\n      return (\n        <GroupEventAttachmentsTable\n          attachments={eventAttachments}\n          orgId={params.orgId}\n          projectId={projectSlug}\n          groupId={params.groupId}\n          onDelete={this.handleDelete}\n          deletedAttachments={deletedAttachments}\n        />\n      );\n    }\n\n    if (location.query.types) {\n      return this.renderNoQueryResults();\n    }\n\n    return this.renderEmpty();\n  }\n\n  renderBody() {\n    return (\n      <Layout.Body>\n        <Layout.Main fullWidth>\n          <GroupEventAttachmentsFilter />\n          <Panel className=\"event-list\">\n            <PanelBody>{this.renderInnerBody()}</PanelBody>\n          </Panel>\n          <Pagination pageLinks={this.state.eventAttachmentsPageLinks} />\n        </Layout.Main>\n      </Layout.Body>\n    );\n  }\n}\n\nexport default withRouter(GroupEventAttachments);\n","// eslint-disable-next-line no-restricted-imports\nimport {withRouter, WithRouterProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport omit from 'lodash/omit';\nimport xor from 'lodash/xor';\n\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\n\nconst crashReportTypes = ['event.minidump', 'event.applecrashreport'];\n\nconst GroupEventAttachmentsFilter = (props: WithRouterProps) => {\n  const {query, pathname} = props.location;\n  const {types} = query;\n  const allAttachmentsQuery = omit(query, 'types');\n  const onlyCrashReportsQuery = {\n    ...query,\n    types: crashReportTypes,\n  };\n\n  let activeButton = '';\n\n  if (types === undefined) {\n    activeButton = 'all';\n  } else if (xor(crashReportTypes, types).length === 0) {\n    activeButton = 'onlyCrash';\n  }\n\n  return (\n    <FilterWrapper>\n      <ButtonBar merged active={activeButton}>\n        <Button barId=\"all\" size=\"sm\" to={{pathname, query: allAttachmentsQuery}}>\n          {t('All Attachments')}\n        </Button>\n        <Button barId=\"onlyCrash\" size=\"sm\" to={{pathname, query: onlyCrashReportsQuery}}>\n          {t('Only Crash Reports')}\n        </Button>\n      </ButtonBar>\n    </FilterWrapper>\n  );\n};\n\nconst FilterWrapper = styled('div')`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: ${space(3)};\n`;\n\nexport {crashReportTypes};\nexport default withRouter(GroupEventAttachmentsFilter);\n","import {t} from 'sentry/locale';\nimport {IssueAttachment} from 'sentry/types';\nimport GroupEventAttachmentsTableRow from 'sentry/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsTableRow';\n\ntype Props = {\n  attachments: IssueAttachment[];\n  deletedAttachments: string[];\n  groupId: string;\n  onDelete: (attachmentId: string) => void;\n  orgId: string;\n  projectId: string;\n};\n\nconst GroupEventAttachmentsTable = ({\n  attachments,\n  orgId,\n  projectId,\n  groupId,\n  onDelete,\n  deletedAttachments,\n}: Props) => {\n  const tableRowNames = [t('Name'), t('Type'), t('Size'), t('Actions')];\n\n  return (\n    <table className=\"table events-table\">\n      <thead>\n        <tr>\n          {tableRowNames.map(name => (\n            <th key={name}>{name}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {attachments.map(attachment => (\n          <GroupEventAttachmentsTableRow\n            key={attachment.id}\n            attachment={attachment}\n            orgId={orgId}\n            projectId={projectId}\n            groupId={groupId}\n            onDelete={onDelete}\n            isDeleted={deletedAttachments.some(id => attachment.id === id)}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default GroupEventAttachmentsTable;\n","import styled from '@emotion/styled';\n\nimport DateTime from 'sentry/components/dateTime';\nimport EventAttachmentActions from 'sentry/components/events/eventAttachmentActions';\nimport FileSize from 'sentry/components/fileSize';\nimport Link from 'sentry/components/links/link';\nimport {t} from 'sentry/locale';\nimport {IssueAttachment} from 'sentry/types';\nimport AttachmentUrl from 'sentry/utils/attachmentUrl';\nimport {types} from 'sentry/views/organizationGroupDetails/groupEventAttachments/types';\n\ntype Props = {\n  attachment: IssueAttachment;\n  groupId: string;\n  isDeleted: boolean;\n  onDelete: (attachmentId: string) => void;\n  orgId: string;\n  projectId: string;\n};\n\nconst GroupEventAttachmentsTableRow = ({\n  attachment,\n  projectId,\n  onDelete,\n  isDeleted,\n  orgId,\n  groupId,\n}: Props) => (\n  <TableRow isDeleted={isDeleted}>\n    <td>\n      <h5>\n        {attachment.name}\n        <br />\n        <small>\n          <DateTime date={attachment.dateCreated} /> &middot;{' '}\n          <Link\n            to={`/organizations/${orgId}/issues/${groupId}/events/${attachment.event_id}/`}\n          >\n            {attachment.event_id}\n          </Link>\n        </small>\n      </h5>\n    </td>\n\n    <td>{types[attachment.type] || t('Other')}</td>\n\n    <td>\n      <FileSize bytes={attachment.size} />\n    </td>\n\n    <td>\n      <ActionsWrapper>\n        <AttachmentUrl\n          projectId={projectId}\n          eventId={attachment.event_id}\n          attachment={attachment}\n        >\n          {url =>\n            !isDeleted ? (\n              <EventAttachmentActions\n                url={url}\n                onDelete={onDelete}\n                attachmentId={attachment.id}\n              />\n            ) : null\n          }\n        </AttachmentUrl>\n      </ActionsWrapper>\n    </td>\n  </TableRow>\n);\n\nconst TableRow = styled('tr')<{isDeleted: boolean}>`\n  opacity: ${p => (p.isDeleted ? 0.3 : 1)};\n  td {\n    text-decoration: ${p => (p.isDeleted ? 'line-through' : 'normal')};\n  }\n`;\n\nconst ActionsWrapper = styled('div')`\n  display: inline-block;\n`;\n\nexport default GroupEventAttachmentsTableRow;\n","import {RouteComponentProps} from 'react-router';\n\nimport Feature from 'sentry/components/acl/feature';\nimport FeatureDisabled from 'sentry/components/acl/featureDisabled';\nimport {t} from 'sentry/locale';\nimport {Group, Organization} from 'sentry/types';\nimport withOrganization from 'sentry/utils/withOrganization';\n\nimport GroupEventAttachments from './groupEventAttachments';\n\ntype Props = RouteComponentProps<{groupId: string; orgId: string}, {}> & {\n  group: Group;\n  organization: Organization;\n};\n\nconst GroupEventAttachmentsContainer = ({organization, group}: Props) => (\n  <Feature\n    features={['event-attachments']}\n    organization={organization}\n    renderDisabled={props => (\n      <FeatureDisabled {...props} featureName={t('Event Attachments')} />\n    )}\n  >\n    <GroupEventAttachments projectSlug={group.project.slug} />\n  </Feature>\n);\n\nexport default withOrganization(GroupEventAttachmentsContainer);\n","import {t} from 'sentry/locale';\n\nexport const types = {\n  'event.minidump': t('Minidump'),\n  'event.applecrashreport': t('Apple Crash Report'),\n  'event.attachment': t('Other'),\n};\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * The base implementation of methods like `_.xor`, without support for\n * iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of values.\n */\nfunction baseXor(arrays, iteratee, comparator) {\n  var length = arrays.length;\n  if (length < 2) {\n    return length ? baseUniq(arrays[0]) : [];\n  }\n  var index = -1,\n      result = Array(length);\n\n  while (++index < length) {\n    var array = arrays[index],\n        othIndex = -1;\n\n    while (++othIndex < length) {\n      if (othIndex != index) {\n        result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n      }\n    }\n  }\n  return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n}\n\nmodule.exports = baseXor;\n","var arrayFilter = require('./_arrayFilter'),\n    baseRest = require('./_baseRest'),\n    baseXor = require('./_baseXor'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values that is the\n * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n * of the given arrays. The order of result values is determined by the order\n * they occur in the arrays.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.without\n * @example\n *\n * _.xor([2, 1], [2, 3]);\n * // => [1, 3]\n */\nvar xor = baseRest(function(arrays) {\n  return baseXor(arrayFilter(arrays, isArrayLikeObject));\n});\n\nmodule.exports = xor;\n"],"names":["useMemo","ConfigStore","isActiveSuperuser","isRenderFunc","withOrganization","checkUserRole","user","organization","role","Array","isArray","orgRoleList","roleIds","map","r","id","includes","requiredIndex","indexOf","currentIndex","Role","children","get","hasRole","withOrganizationRole","Component","Button","ButtonBar","Confirm","IconDelete","IconDownload","IconShow","t","space","withApi","EventAttachmentActions","handlePreview","onPreview","attachmentId","props","render","url","withPreviewButton","hasPreview","previewIsOpen","onDelete","undefined","DownloadButton","memo","AttachmentUrl","attachment","eventId","projectId","getDownloadUrl","slug","attachmentsRole","withRouter","pick","addErrorMessage","AsyncComponent","EmptyStateWarning","Layout","LoadingIndicator","Pagination","Panel","PanelBody","GroupEventAttachmentsFilter","GroupEventAttachmentsTable","GroupEventAttachments","deletedAttachmentId","params","projectSlug","state","eventAttachments","find","item","setState","prevState","deletedAttachments","api","requestPromise","orgId","event_id","method","error","getDefaultState","getEndpoints","location","groupId","query","limit","renderNoQueryResults","renderEmpty","renderLoading","renderBody","renderInnerBody","loading","length","handleDelete","types","eventAttachmentsPageLinks","omit","xor","crashReportTypes","pathname","allAttachmentsQuery","onlyCrashReportsQuery","activeButton","FilterWrapper","GroupEventAttachmentsTableRow","attachments","tableRowNames","name","some","DateTime","FileSize","Link","isDeleted","dateCreated","type","size","TableRow","p","ActionsWrapper","Feature","FeatureDisabled","GroupEventAttachmentsContainer","group","project"],"sourceRoot":""}