{"version":3,"file":"chunks/app_views_sentryAppExternalInstallation_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/actionCreators/sentryAppInstallations.tsx","webpack:///./app/components/modals/sentryAppDetailsModal.tsx","webpack:///./app/components/narrowLayout.tsx","webpack:///./app/components/sentryAppIcon.tsx","webpack:///./app/utils/consolidatedScopes.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/sentryAppExternalInstallation.tsx","webpack:///../node_modules/lodash/invertBy.js"],"sourcesContent":["import {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n  clearIndicators,\n} from 'sentry/actionCreators/indicator';\nimport {Client} from 'sentry/api';\nimport {t} from 'sentry/locale';\nimport {SentryApp, SentryAppInstallation} from 'sentry/types';\n\n/**\n * Install a sentry application\n *\n * @param {Object} client ApiClient\n * @param {String} orgId Organization Slug\n * @param {Object} app SentryApp\n */\nexport function installSentryApp(\n  client: Client,\n  orgId: string,\n  app: SentryApp\n): Promise<SentryAppInstallation> {\n  addLoadingMessage();\n  const promise = client.requestPromise(\n    `/organizations/${orgId}/sentry-app-installations/`,\n    {\n      method: 'POST',\n      data: {slug: app.slug},\n    }\n  );\n  promise.then(\n    () => clearIndicators(),\n    () => addErrorMessage(t(`Unable to install ${app.name}`))\n  );\n  return promise;\n}\n\n/**\n * Uninstall a sentry application\n *\n * @param {Object} client ApiClient\n * @param {Object} install SentryAppInstallation\n */\nexport function uninstallSentryApp(\n  client: Client,\n  install: SentryAppInstallation\n): Promise<void> {\n  addLoadingMessage();\n  const promise = client.requestPromise(`/sentry-app-installations/${install.uuid}/`, {\n    method: 'DELETE',\n  });\n  const capitalizedAppSlug =\n    install.app.slug.charAt(0).toUpperCase() + install.app.slug.slice(1);\n  promise.then(\n    () => {\n      addSuccessMessage(t(`${capitalizedAppSlug} successfully uninstalled.`));\n    },\n    () => clearIndicators()\n  );\n  return promise;\n}\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport Access from 'sentry/components/acl/access';\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport Button from 'sentry/components/button';\nimport CircleIndicator from 'sentry/components/circleIndicator';\nimport SentryAppIcon from 'sentry/components/sentryAppIcon';\nimport Tag from 'sentry/components/tag';\nimport {IconFlag} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {IntegrationFeature, Organization, SentryApp} from 'sentry/types';\nimport {toPermissions} from 'sentry/utils/consolidatedScopes';\nimport {\n  getIntegrationFeatureGate,\n  trackIntegrationAnalytics,\n} from 'sentry/utils/integrationUtil';\nimport marked, {singleLineRenderer} from 'sentry/utils/marked';\nimport {recordInteraction} from 'sentry/utils/recordSentryAppInteraction';\n\ntype Props = {\n  closeModal: () => void;\n  isInstalled: boolean;\n  onInstall: () => Promise<void>;\n  organization: Organization;\n  sentryApp: SentryApp;\n} & AsyncComponent['props'];\n\ntype State = {\n  featureData: IntegrationFeature[];\n} & AsyncComponent['state'];\n\n// No longer a modal anymore but yea :)\nexport default class SentryAppDetailsModal extends AsyncComponent<Props, State> {\n  componentDidUpdate(prevProps: Props) {\n    // if the user changes org, count this as a fresh event to track\n    if (this.props.organization.id !== prevProps.organization.id) {\n      this.trackOpened();\n    }\n  }\n\n  componentDidMount() {\n    this.trackOpened();\n  }\n\n  trackOpened() {\n    const {sentryApp, organization, isInstalled} = this.props;\n    recordInteraction(sentryApp.slug, 'sentry_app_viewed');\n\n    trackIntegrationAnalytics(\n      'integrations.install_modal_opened',\n      {\n        integration_type: 'sentry_app',\n        integration: sentryApp.slug,\n        already_installed: isInstalled,\n        view: 'external_install',\n        integration_status: sentryApp.status,\n        organization,\n      },\n      {startSession: true}\n    );\n  }\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {sentryApp} = this.props;\n    return [['featureData', `/sentry-apps/${sentryApp.slug}/features/`]];\n  }\n\n  featureTags(features: Pick<IntegrationFeature, 'featureGate'>[]) {\n    return features.map(feature => {\n      const feat = feature.featureGate.replace(/integrations/g, '');\n      return <StyledTag key={feat}>{feat.replace(/-/g, ' ')}</StyledTag>;\n    });\n  }\n\n  get permissions() {\n    return toPermissions(this.props.sentryApp.scopes);\n  }\n\n  async onInstall() {\n    const {onInstall} = this.props;\n    // we want to make sure install finishes before we close the modal\n    // and we should close the modal if there is an error as well\n    try {\n      await onInstall();\n    } catch (_err) {\n      /* stylelint-disable-next-line no-empty-block */\n    }\n  }\n\n  renderPermissions() {\n    const permissions = this.permissions;\n    if (\n      Object.keys(permissions).filter(scope => permissions[scope].length > 0).length === 0\n    ) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <Title>Permissions</Title>\n        {permissions.read.length > 0 && (\n          <Permission>\n            <Indicator />\n            <Text key=\"read\">\n              {tct('[read] access to [resources] resources', {\n                read: <strong>Read</strong>,\n                resources: permissions.read.join(', '),\n              })}\n            </Text>\n          </Permission>\n        )}\n        {permissions.write.length > 0 && (\n          <Permission>\n            <Indicator />\n            <Text key=\"write\">\n              {tct('[read] and [write] access to [resources] resources', {\n                read: <strong>Read</strong>,\n                write: <strong>Write</strong>,\n                resources: permissions.write.join(', '),\n              })}\n            </Text>\n          </Permission>\n        )}\n        {permissions.admin.length > 0 && (\n          <Permission>\n            <Indicator />\n            <Text key=\"admin\">\n              {tct('[admin] access to [resources] resources', {\n                admin: <strong>Admin</strong>,\n                resources: permissions.admin.join(', '),\n              })}\n            </Text>\n          </Permission>\n        )}\n      </Fragment>\n    );\n  }\n\n  renderBody() {\n    const {sentryApp, closeModal, isInstalled, organization} = this.props;\n    const {featureData} = this.state;\n    // Prepare the features list\n    const features = (featureData || []).map(f => ({\n      featureGate: f.featureGate,\n      description: (\n        <span dangerouslySetInnerHTML={{__html: singleLineRenderer(f.description)}} />\n      ),\n    }));\n\n    const {FeatureList, IntegrationFeatures} = getIntegrationFeatureGate();\n\n    const overview = sentryApp.overview || '';\n    const featureProps = {organization, features};\n\n    return (\n      <Fragment>\n        <Heading>\n          <SentryAppIcon sentryApp={sentryApp} size={50} />\n          <HeadingInfo>\n            <Name>{sentryApp.name}</Name>\n            {!!features.length && <Features>{this.featureTags(features)}</Features>}\n          </HeadingInfo>\n        </Heading>\n        <Description dangerouslySetInnerHTML={{__html: marked(overview)}} />\n        <FeatureList {...featureProps} provider={{...sentryApp, key: sentryApp.slug}} />\n        <IntegrationFeatures {...featureProps}>\n          {({disabled, disabledReason}) => (\n            <Fragment>\n              {!disabled && this.renderPermissions()}\n              <Footer>\n                <Author>{t('Authored By %s', sentryApp.author)}</Author>\n                <div>\n                  {disabled && <DisabledNotice reason={disabledReason} />}\n                  <Button size=\"sm\" onClick={closeModal}>\n                    {t('Cancel')}\n                  </Button>\n\n                  <Access organization={organization} access={['org:integrations']}>\n                    {({hasAccess}) =>\n                      hasAccess && (\n                        <Button\n                          size=\"sm\"\n                          priority=\"primary\"\n                          disabled={isInstalled || disabled}\n                          onClick={() => this.onInstall()}\n                          style={{marginLeft: space(1)}}\n                          data-test-id=\"install\"\n                        >\n                          {t('Accept & Install')}\n                        </Button>\n                      )\n                    }\n                  </Access>\n                </div>\n              </Footer>\n            </Fragment>\n          )}\n        </IntegrationFeatures>\n      </Fragment>\n    );\n  }\n}\n\nconst Heading = styled('div')`\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  gap: ${space(1)};\n  align-items: center;\n  margin-bottom: ${space(2)};\n`;\n\nconst HeadingInfo = styled('div')`\n  display: grid;\n  grid-template-rows: max-content max-content;\n  align-items: start;\n`;\n\nconst Name = styled('div')`\n  font-weight: bold;\n  font-size: 1.4em;\n`;\n\nconst Description = styled('div')`\n  margin-bottom: ${space(2)};\n\n  li {\n    margin-bottom: 6px;\n  }\n`;\n\nconst Author = styled('div')`\n  color: ${p => p.theme.gray300};\n`;\n\nconst DisabledNotice = styled(({reason, ...p}: {reason: React.ReactNode}) => (\n  <div {...p}>\n    <IconFlag color=\"red300\" size=\"1.5em\" />\n    {reason}\n  </div>\n))`\n  display: grid;\n  align-items: center;\n  flex: 1;\n  grid-template-columns: max-content 1fr;\n  color: ${p => p.theme.red300};\n  font-size: 0.9em;\n`;\n\nconst Text = styled('p')`\n  margin: 0px 6px;\n`;\n\nconst Permission = styled('div')`\n  display: flex;\n`;\n\nconst Footer = styled('div')`\n  display: flex;\n  padding: 20px 30px;\n  border-top: 1px solid #e2dee6;\n  margin: 20px -30px -30px;\n  justify-content: space-between;\n`;\n\nconst Title = styled('p')`\n  margin-bottom: ${space(1)};\n  font-weight: bold;\n`;\n\nconst Indicator = styled(p => <CircleIndicator size={7} {...p} />)`\n  margin-top: 7px;\n  color: ${p => p.theme.success};\n`;\n\nconst Features = styled('div')`\n  margin: -${space(0.5)};\n`;\n\nconst StyledTag = styled(Tag)`\n  padding: ${space(0.5)};\n`;\n","import {useEffect} from 'react';\nimport styled from '@emotion/styled';\n\nimport {logout} from 'sentry/actionCreators/account';\nimport {IconSentry} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport useApi from 'sentry/utils/useApi';\n\ntype Props = {\n  children: React.ReactNode;\n  maxWidth?: string;\n  showLogout?: boolean;\n};\n\nfunction NarrowLayout({maxWidth, showLogout, children}: Props) {\n  const api = useApi();\n\n  useEffect(() => {\n    document.body.classList.add('narrow');\n\n    return () => document.body.classList.remove('narrow');\n  }, []);\n\n  async function handleLogout() {\n    await logout(api);\n    window.location.assign('/auth/login');\n  }\n\n  return (\n    <div className=\"app\">\n      <div className=\"pattern-bg\" />\n      <div className=\"container\" style={{maxWidth}}>\n        <div className=\"box box-modal\">\n          <div className=\"box-header\">\n            <a href=\"/\">\n              <IconSentry size=\"lg\" />\n            </a>\n            {showLogout && (\n              <a className=\"logout pull-right\" onClick={handleLogout}>\n                <Logout>{t('Sign out')}</Logout>\n              </a>\n            )}\n          </div>\n          <div className=\"box-content with-padding\">{children}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst Logout = styled('span')`\n  font-size: ${p => p.theme.fontSizeLarge};\n`;\n\nexport default NarrowLayout;\n","import SentryAppAvatar from 'sentry/components/avatar/sentryAppAvatar';\nimport {AvatarSentryApp} from 'sentry/types';\n\ntype Props = {\n  sentryApp: AvatarSentryApp;\n  size: number;\n};\n\nconst SentryAppIcon = ({sentryApp, size}: Props) => {\n  return <SentryAppAvatar sentryApp={sentryApp} size={size} isColor />;\n};\n\nexport default SentryAppIcon;\n","import groupBy from 'lodash/groupBy';\nimport invertBy from 'lodash/invertBy';\nimport pick from 'lodash/pick';\n\nimport {Permissions} from 'sentry/types';\n\nconst PERMISSION_LEVELS = {\n  read: 0,\n  write: 1,\n  admin: 2,\n};\n\nconst HUMAN_RESOURCE_NAMES = {\n  project: 'Project',\n  team: 'Team',\n  release: 'Release',\n  event: 'Event',\n  org: 'Organization',\n  member: 'Member',\n};\n\nconst DEFAULT_RESOURCE_PERMISSIONS: Permissions = {\n  Project: 'no-access',\n  Team: 'no-access',\n  Release: 'no-access',\n  Event: 'no-access',\n  Organization: 'no-access',\n  Member: 'no-access',\n};\n\nconst PROJECT_RELEASES = 'project:releases';\n\ntype PermissionLevelResources = {\n  admin: string[];\n  read: string[];\n  write: string[];\n};\n/**\n * Numerical value of the scope where Admin is higher than Write,\n * which is higher than Read. Used to sort scopes by access.\n */\nconst permissionLevel = (scope: string): number => {\n  const permission = scope.split(':')[1];\n  return PERMISSION_LEVELS[permission];\n};\n\nconst compareScopes = (a: string, b: string) => permissionLevel(a) - permissionLevel(b);\n\n/**\n * Return the most permissive scope for each resource.\n *\n * Example:\n *    Given the full list of scopes:\n *      ['project:read', 'project:write', 'team:read', 'team:write', 'team:admin']\n *\n *    this would return:\n *      ['project:write', 'team:admin']\n */\nfunction topScopes(scopeList: string[]) {\n  return Object.values(groupBy(scopeList, scope => scope.split(':')[0]))\n    .map(scopes => scopes.sort(compareScopes))\n    .map(scopes => scopes.pop());\n}\n\n/**\n * Convert into a list of Permissions, grouped by resource.\n *\n * This is used in the new/edit Sentry App form. That page displays permissions\n * in a per-Resource manner, meaning one row for Project, one for Organization, etc.\n *\n * This exposes scopes in a way that works for that UI.\n *\n * Example:\n *    {\n *      'Project': 'read',\n *      'Organization': 'write',\n *      'Team': 'no-access',\n *      ...\n *    }\n */\nfunction toResourcePermissions(scopes: string[]): Permissions {\n  const permissions = {...DEFAULT_RESOURCE_PERMISSIONS};\n  let filteredScopes = [...scopes];\n  // The scope for releases is `project:releases`, but instead of displaying\n  // it as a permission of Project, we want to separate it out into its own\n  // row for Releases.\n  if (scopes.includes(PROJECT_RELEASES)) {\n    permissions.Release = 'admin';\n    filteredScopes = scopes.filter((scope: string) => scope !== PROJECT_RELEASES); // remove project:releases\n  }\n\n  topScopes(filteredScopes).forEach((scope: string | undefined) => {\n    if (scope) {\n      const [resource, permission] = scope.split(':');\n      permissions[HUMAN_RESOURCE_NAMES[resource]] = permission;\n    }\n  });\n\n  return permissions;\n}\n\n/**\n * Convert into a list of Permissions, grouped by access and including a\n * list of resources per access level.\n *\n * This is used in the Permissions Modal when installing an App. It displays\n * scopes in a per-Permission way, meaning one row for Read, one for Write,\n * and one for Admin.\n *\n * This exposes scopes in a way that works for that UI.\n *\n * Example:\n *    {\n *      read:  ['Project', 'Organization'],\n *      write: ['Member'],\n *      admin: ['Release']\n *    }\n */\nfunction toPermissions(scopes: string[]): PermissionLevelResources {\n  const defaultPermissions = {read: [], write: [], admin: []};\n  const resourcePermissions = toResourcePermissions(scopes);\n\n  // Filter out the 'no-access' permissions\n  const permissions = pick(invertBy(resourcePermissions), ['read', 'write', 'admin']);\n  return {...defaultPermissions, ...permissions};\n}\n\nexport {toPermissions, toResourcePermissions};\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport {installSentryApp} from 'sentry/actionCreators/sentryAppInstallations';\nimport Alert from 'sentry/components/alert';\nimport OrganizationAvatar from 'sentry/components/avatar/organizationAvatar';\nimport Field from 'sentry/components/forms/field';\nimport SelectControl from 'sentry/components/forms/selectControl';\nimport SentryAppDetailsModal from 'sentry/components/modals/sentryAppDetailsModal';\nimport NarrowLayout from 'sentry/components/narrowLayout';\nimport {t, tct} from 'sentry/locale';\nimport {Organization, SentryApp, SentryAppInstallation} from 'sentry/types';\nimport {trackIntegrationAnalytics} from 'sentry/utils/integrationUtil';\nimport {addQueryParamsToExistingUrl} from 'sentry/utils/queryString';\nimport AsyncView from 'sentry/views/asyncView';\n\ntype Props = RouteComponentProps<{sentryAppSlug: string}, {}>;\n\ntype State = AsyncView['state'] & {\n  organization: Organization | null;\n  organizations: Organization[];\n  reloading: boolean;\n  selectedOrgSlug: string | null;\n  sentryApp: SentryApp;\n};\n\nexport default class SentryAppExternalInstallation extends AsyncView<Props, State> {\n  disableErrorReport = false;\n\n  getDefaultState() {\n    const state = super.getDefaultState();\n    return {\n      ...state,\n      selectedOrgSlug: null,\n      organization: null,\n      organizations: [],\n      reloading: false,\n    };\n  }\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    return [\n      ['organizations', '/organizations/'],\n      ['sentryApp', `/sentry-apps/${this.sentryAppSlug}/`],\n    ];\n  }\n\n  getTitle() {\n    return t('Choose Installation Organization');\n  }\n\n  get sentryAppSlug() {\n    return this.props.params.sentryAppSlug;\n  }\n\n  get isSingleOrg() {\n    return this.state.organizations.length === 1;\n  }\n\n  get isSentryAppInternal() {\n    const {sentryApp} = this.state;\n    return sentryApp && sentryApp.status === 'internal';\n  }\n\n  get isSentryAppUnavailableForOrg() {\n    const {sentryApp, selectedOrgSlug} = this.state;\n    // if the app is unpublished for a different org\n    return (\n      selectedOrgSlug &&\n      sentryApp?.owner?.slug !== selectedOrgSlug &&\n      sentryApp.status === 'unpublished'\n    );\n  }\n\n  get disableInstall() {\n    const {reloading, isInstalled} = this.state;\n    return isInstalled || reloading || this.isSentryAppUnavailableForOrg;\n  }\n\n  hasAccess = (org: Organization) => org.access.includes('org:integrations');\n\n  onClose = () => {\n    // if we came from somewhere, go back there. Otherwise, back to the integrations page\n    const {selectedOrgSlug} = this.state;\n    const newUrl = document.referrer || `/settings/${selectedOrgSlug}/integrations/`;\n    window.location.assign(newUrl);\n  };\n\n  onInstall = async (): Promise<any | undefined> => {\n    const {organization, sentryApp} = this.state;\n    if (!organization || !sentryApp) {\n      return undefined;\n    }\n    trackIntegrationAnalytics('integrations.installation_start', {\n      integration_type: 'sentry_app',\n      integration: sentryApp.slug,\n      view: 'external_install',\n      integration_status: sentryApp.status,\n      organization,\n    });\n\n    const install = await installSentryApp(this.api, organization.slug, sentryApp);\n    // installation is complete if the status is installed\n    if (install.status === 'installed') {\n      trackIntegrationAnalytics('integrations.installation_complete', {\n        integration_type: 'sentry_app',\n        integration: sentryApp.slug,\n        view: 'external_install',\n        integration_status: sentryApp.status,\n        organization,\n      });\n    }\n\n    if (sentryApp.redirectUrl) {\n      const queryParams = {\n        installationId: install.uuid,\n        code: install.code,\n        orgSlug: organization.slug,\n      };\n      const redirectUrl = addQueryParamsToExistingUrl(sentryApp.redirectUrl, queryParams);\n      return window.location.assign(redirectUrl);\n    }\n    return this.onClose();\n  };\n\n  onSelectOrg = async (orgSlug: string) => {\n    this.setState({selectedOrgSlug: orgSlug, reloading: true});\n\n    try {\n      const [organization, installations]: [Organization, SentryAppInstallation[]] =\n        await Promise.all([\n          this.api.requestPromise(`/organizations/${orgSlug}/`),\n          this.api.requestPromise(`/organizations/${orgSlug}/sentry-app-installations/`),\n        ]);\n      const isInstalled = installations\n        .map(install => install.app.slug)\n        .includes(this.sentryAppSlug);\n      // all state fields should be set at the same time so analytics in SentryAppDetailsModal works properly\n      this.setState({organization, isInstalled, reloading: false});\n    } catch (err) {\n      addErrorMessage(t('Failed to retrieve organization or integration details'));\n      this.setState({reloading: false});\n    }\n  };\n\n  onRequestSuccess = ({stateKey, data}) => {\n    // if only one org, we can immediately update our selected org\n    if (stateKey === 'organizations' && data.length === 1) {\n      this.onSelectOrg(data[0].slug);\n    }\n  };\n\n  getOptions() {\n    return this.state.organizations.map(org => ({\n      value: org.slug,\n      label: (\n        <div key={org.slug}>\n          <OrganizationAvatar organization={org} />\n          <OrgNameHolder>{org.slug}</OrgNameHolder>\n        </div>\n      ),\n    }));\n  }\n\n  renderInternalAppError() {\n    const {sentryApp} = this.state;\n    return (\n      <Alert type=\"error\" showIcon>\n        {tct(\n          'Integration [sentryAppName] is an internal integration. Internal integrations are automatically installed',\n          {\n            sentryAppName: <strong>{sentryApp.name}</strong>,\n          }\n        )}\n      </Alert>\n    );\n  }\n\n  checkAndRenderError() {\n    const {organization, selectedOrgSlug, isInstalled, sentryApp} = this.state;\n    if (selectedOrgSlug && organization && !this.hasAccess(organization)) {\n      return (\n        <Alert type=\"error\" showIcon>\n          <p>\n            {tct(\n              `You do not have permission to install integrations in\n          [organization]. Ask an organization owner or manager to\n          visit this page to finish installing this integration.`,\n              {organization: <strong>{organization.slug}</strong>}\n            )}\n          </p>\n          <InstallLink>{window.location.href}</InstallLink>\n        </Alert>\n      );\n    }\n    if (isInstalled && organization) {\n      return (\n        <Alert type=\"error\" showIcon>\n          {tct('Integration [sentryAppName] already installed for [organization]', {\n            organization: <strong>{organization.name}</strong>,\n            sentryAppName: <strong>{sentryApp.name}</strong>,\n          })}\n        </Alert>\n      );\n    }\n\n    if (this.isSentryAppUnavailableForOrg) {\n      // use the slug of the owner if we have it, otherwise use 'another organization'\n      const ownerSlug = sentryApp?.owner?.slug ?? 'another organization';\n      return (\n        <Alert type=\"error\" showIcon>\n          {tct(\n            'Integration [sentryAppName] is an unpublished integration for [otherOrg]. An unpublished integration can only be installed on the organization which created it.',\n            {\n              sentryAppName: <strong>{sentryApp.name}</strong>,\n              otherOrg: <strong>{ownerSlug}</strong>,\n            }\n          )}\n        </Alert>\n      );\n    }\n\n    return null;\n  }\n\n  renderMultiOrgView() {\n    const {selectedOrgSlug, sentryApp} = this.state;\n    return (\n      <div>\n        <p>\n          {tct(\n            'Please pick a specific [organization:organization] to install [sentryAppName]',\n            {\n              organization: <strong />,\n              sentryAppName: <strong>{sentryApp.name}</strong>,\n            }\n          )}\n        </p>\n        <Field label={t('Organization')} inline={false} stacked required>\n          {() => (\n            <SelectControl\n              onChange={({value}) => this.onSelectOrg(value)}\n              value={selectedOrgSlug}\n              placeholder={t('Select an organization')}\n              options={this.getOptions()}\n            />\n          )}\n        </Field>\n      </div>\n    );\n  }\n\n  renderSingleOrgView() {\n    const {organizations, sentryApp} = this.state;\n    // pull the name out of organizations since state.organization won't be loaded initially\n    const organizationName = organizations[0].name;\n    return (\n      <div>\n        <p>\n          {tct('You are installing [sentryAppName] for organization [organization]', {\n            organization: <strong>{organizationName}</strong>,\n            sentryAppName: <strong>{sentryApp.name}</strong>,\n          })}\n        </p>\n      </div>\n    );\n  }\n\n  renderMainContent() {\n    const {organization, sentryApp} = this.state;\n    return (\n      <div>\n        <OrgViewHolder>\n          {this.isSingleOrg ? this.renderSingleOrgView() : this.renderMultiOrgView()}\n        </OrgViewHolder>\n        {this.checkAndRenderError()}\n        {organization && (\n          <SentryAppDetailsModal\n            sentryApp={sentryApp}\n            organization={organization}\n            onInstall={this.onInstall}\n            closeModal={this.onClose}\n            isInstalled={this.disableInstall}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderBody() {\n    return (\n      <NarrowLayout>\n        <Content>\n          <h3>{t('Finish integration installation')}</h3>\n          {this.isSentryAppInternal\n            ? this.renderInternalAppError()\n            : this.renderMainContent()}\n        </Content>\n      </NarrowLayout>\n    );\n  }\n}\n\nconst InstallLink = styled('pre')`\n  margin-bottom: 0;\n  background: #fbe3e1;\n`;\n\nconst OrgNameHolder = styled('span')`\n  margin-left: 5px;\n`;\n\nconst Content = styled('div')`\n  margin-bottom: 40px;\n`;\n\nconst OrgViewHolder = styled('div')`\n  margin-bottom: 20px;\n`;\n","var baseIteratee = require('./_baseIteratee'),\n    createInverter = require('./_createInverter');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * This method is like `_.invert` except that the inverted object is generated\n * from the results of running each element of `object` thru `iteratee`. The\n * corresponding inverted value of each inverted key is an array of keys\n * responsible for generating the inverted value. The iteratee is invoked\n * with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.1.0\n * @category Object\n * @param {Object} object The object to invert.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Object} Returns the new inverted object.\n * @example\n *\n * var object = { 'a': 1, 'b': 2, 'c': 1 };\n *\n * _.invertBy(object);\n * // => { '1': ['a', 'c'], '2': ['b'] }\n *\n * _.invertBy(object, function(value) {\n *   return 'group' + value;\n * });\n * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n */\nvar invertBy = createInverter(function(result, value, key) {\n  if (value != null &&\n      typeof value.toString != 'function') {\n    value = nativeObjectToString.call(value);\n  }\n\n  if (hasOwnProperty.call(result, value)) {\n    result[value].push(key);\n  } else {\n    result[value] = [key];\n  }\n}, baseIteratee);\n\nmodule.exports = invertBy;\n"],"names":["addErrorMessage","addLoadingMessage","addSuccessMessage","clearIndicators","t","installSentryApp","client","orgId","app","promise","requestPromise","method","data","slug","then","name","uninstallSentryApp","install","uuid","capitalizedAppSlug","charAt","toUpperCase","slice","Fragment","Access","AsyncComponent","Button","CircleIndicator","SentryAppIcon","Tag","IconFlag","tct","space","toPermissions","getIntegrationFeatureGate","trackIntegrationAnalytics","marked","singleLineRenderer","recordInteraction","SentryAppDetailsModal","componentDidUpdate","prevProps","props","organization","id","trackOpened","componentDidMount","sentryApp","isInstalled","integration_type","integration","already_installed","view","integration_status","status","startSession","getEndpoints","featureTags","features","map","feature","feat","featureGate","replace","permissions","scopes","onInstall","_err","renderPermissions","Object","keys","filter","scope","length","read","resources","join","write","admin","renderBody","closeModal","featureData","state","f","description","__html","FeatureList","IntegrationFeatures","overview","featureProps","key","disabled","disabledReason","author","hasAccess","marginLeft","Heading","HeadingInfo","Name","Description","Author","p","theme","gray300","DisabledNotice","reason","red300","Text","Permission","Footer","Title","Indicator","success","Features","StyledTag","useEffect","logout","IconSentry","useApi","NarrowLayout","maxWidth","showLogout","children","api","document","body","classList","add","remove","handleLogout","window","location","assign","Logout","fontSizeLarge","SentryAppAvatar","size","groupBy","invertBy","pick","PERMISSION_LEVELS","HUMAN_RESOURCE_NAMES","project","team","release","event","org","member","DEFAULT_RESOURCE_PERMISSIONS","Project","Team","Release","Event","Organization","Member","PROJECT_RELEASES","permissionLevel","permission","split","compareScopes","a","b","topScopes","scopeList","values","sort","pop","toResourcePermissions","filteredScopes","includes","forEach","resource","defaultPermissions","resourcePermissions","SentryDocumentTitle","AsyncView","getTitle","render","renderComponent","Alert","OrganizationAvatar","Field","SelectControl","addQueryParamsToExistingUrl","SentryAppExternalInstallation","access","selectedOrgSlug","newUrl","referrer","undefined","redirectUrl","queryParams","installationId","code","orgSlug","onClose","setState","reloading","installations","Promise","all","sentryAppSlug","err","stateKey","onSelectOrg","getDefaultState","organizations","params","isSingleOrg","isSentryAppInternal","isSentryAppUnavailableForOrg","owner","disableInstall","getOptions","value","label","renderInternalAppError","sentryAppName","checkAndRenderError","href","ownerSlug","otherOrg","renderMultiOrgView","renderSingleOrgView","organizationName","renderMainContent","InstallLink","OrgNameHolder","Content","OrgViewHolder"],"sourceRoot":""}