(globalThis["webpackChunk"] = globalThis["webpackChunk"] || []).push([["app_views_performance_transactionSummary_transactionReplays_index_tsx-node_modules_lodash_ass-dc0de2"],{

/***/ "./app/views/performance/transactionSummary/transactionReplays/content.tsx":
/*!*********************************************************************************!*\
  !*** ./app/views/performance/transactionSummary/transactionReplays/content.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/styled/base */ "../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "../node_modules/react-router/es/index.js");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/omit */ "../node_modules/lodash/omit.js");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sentry_components_datePageFilter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sentry/components/datePageFilter */ "./app/components/datePageFilter.tsx");
/* harmony import */ var sentry_components_environmentPageFilter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sentry/components/environmentPageFilter */ "./app/components/environmentPageFilter.tsx");
/* harmony import */ var sentry_components_events_searchBar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sentry/components/events/searchBar */ "./app/components/events/searchBar.tsx");
/* harmony import */ var sentry_components_layouts_thirds__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sentry/components/layouts/thirds */ "./app/components/layouts/thirds.tsx");
/* harmony import */ var sentry_components_organizations_pageFilterBar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sentry/components/organizations/pageFilterBar */ "./app/components/organizations/pageFilterBar.tsx");
/* harmony import */ var sentry_components_organizations_pageFilters_parse__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sentry/components/organizations/pageFilters/parse */ "./app/components/organizations/pageFilters/parse.tsx");
/* harmony import */ var sentry_components_pagination__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sentry/components/pagination */ "./app/components/pagination.tsx");
/* harmony import */ var sentry_styles_space__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! sentry/styles/space */ "./app/styles/space.tsx");
/* harmony import */ var sentry_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! sentry/utils */ "./app/utils.tsx");
/* harmony import */ var sentry_views_replays_replayTable__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! sentry/views/replays/replayTable */ "./app/views/replays/replayTable.tsx");
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");
















function ReplaysContent(_ref) {
  let {
    eventView,
    isFetching,
    location,
    organization,
    pageLinks,
    replays
  } = _ref;
  const query = location.query;

  function handleChange(key) {
    return function (value) {
      const queryParams = (0,sentry_components_organizations_pageFilters_parse__WEBPACK_IMPORTED_MODULE_8__.normalizeDateTimeParams)({ ...(location.query || {}),
        [key]: value
      }); // do not propagate pagination when making a new search

      const toOmit = ['cursor'];

      if (!(0,sentry_utils__WEBPACK_IMPORTED_MODULE_11__.defined)(value)) {
        toOmit.push(key);
      }

      const searchQueryParams = lodash_omit__WEBPACK_IMPORTED_MODULE_2___default()(queryParams, toOmit);
      react_router__WEBPACK_IMPORTED_MODULE_1__.browserHistory.push({ ...location,
        query: searchQueryParams
      });
    };
  }

  return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(sentry_components_layouts_thirds__WEBPACK_IMPORTED_MODULE_6__.Main, {
    fullWidth: true,
    children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(FilterActions, {
      children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(sentry_components_organizations_pageFilterBar__WEBPACK_IMPORTED_MODULE_7__["default"], {
        condensed: true,
        children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(sentry_components_environmentPageFilter__WEBPACK_IMPORTED_MODULE_4__["default"], {}), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(sentry_components_datePageFilter__WEBPACK_IMPORTED_MODULE_3__["default"], {
          alignDropdown: "left"
        })]
      }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(sentry_components_events_searchBar__WEBPACK_IMPORTED_MODULE_5__["default"], {
        organization: organization,
        projectIds: eventView.project,
        query: query.query,
        fields: eventView.fields,
        onSearch: handleChange('query')
      })]
    }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(sentry_views_replays_replayTable__WEBPACK_IMPORTED_MODULE_12__["default"], {
      isFetching: isFetching,
      replays: replays,
      showProjectColumn: false,
      sort: eventView.sorts[0]
    }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(sentry_components_pagination__WEBPACK_IMPORTED_MODULE_9__["default"], {
      pageLinks: pageLinks
    })]
  });
}

ReplaysContent.displayName = "ReplaysContent";

const FilterActions = /*#__PURE__*/(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__["default"])('div',  true ? {
  target: "er3ps120"
} : 0)("display:grid;gap:", (0,sentry_styles_space__WEBPACK_IMPORTED_MODULE_10__["default"])(2), ";margin-bottom:", (0,sentry_styles_space__WEBPACK_IMPORTED_MODULE_10__["default"])(2), ";@media (min-width: ", p => p.theme.breakpoints.small, "){grid-template-columns:auto 1fr;}" + ( true ? "" : 0));

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ReplaysContent);

/***/ }),

/***/ "./app/views/performance/transactionSummary/transactionReplays/index.tsx":
/*!*******************************************************************************!*\
  !*** ./app/views/performance/transactionSummary/transactionReplays/index.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/react/index.js");
/* harmony import */ var sentry_components_acl_feature__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sentry/components/acl/feature */ "./app/components/acl/feature.tsx");
/* harmony import */ var sentry_components_alert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sentry/components/alert */ "./app/components/alert.tsx");
/* harmony import */ var sentry_components_layouts_thirds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sentry/components/layouts/thirds */ "./app/components/layouts/thirds.tsx");
/* harmony import */ var sentry_components_loadingIndicator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sentry/components/loadingIndicator */ "./app/components/loadingIndicator.tsx");
/* harmony import */ var sentry_locale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sentry/locale */ "./app/locale.tsx");
/* harmony import */ var sentry_styles_organization__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sentry/styles/organization */ "./app/styles/organization.tsx");
/* harmony import */ var sentry_utils_discover_eventView__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sentry/utils/discover/eventView */ "./app/utils/discover/eventView.tsx");
/* harmony import */ var sentry_utils_discover_fields__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sentry/utils/discover/fields */ "./app/utils/discover/fields.tsx");
/* harmony import */ var sentry_utils_queryString__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sentry/utils/queryString */ "./app/utils/queryString.tsx");
/* harmony import */ var sentry_utils_replays_hooks_useReplayList__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! sentry/utils/replays/hooks/useReplayList */ "./app/utils/replays/hooks/useReplayList.tsx");
/* harmony import */ var sentry_utils_tokenizeSearch__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! sentry/utils/tokenizeSearch */ "./app/utils/tokenizeSearch.tsx");
/* harmony import */ var sentry_utils_withOrganization__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! sentry/utils/withOrganization */ "./app/utils/withOrganization.tsx");
/* harmony import */ var sentry_utils_withProjects__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! sentry/utils/withProjects */ "./app/utils/withProjects.tsx");
/* harmony import */ var _pageLayout__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../pageLayout */ "./app/views/performance/transactionSummary/pageLayout.tsx");
/* harmony import */ var _tabs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../tabs */ "./app/views/performance/transactionSummary/tabs.tsx");
/* harmony import */ var _content__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./content */ "./app/views/performance/transactionSummary/transactionReplays/content.tsx");
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");



















function TransactionReplays(props) {
  const {
    location,
    organization,
    projects
  } = props;

  function renderNoAccess() {
    return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(sentry_styles_organization__WEBPACK_IMPORTED_MODULE_6__.PageContent, {
      children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(sentry_components_alert__WEBPACK_IMPORTED_MODULE_2__["default"], {
        type: "warning",
        children: (0,sentry_locale__WEBPACK_IMPORTED_MODULE_5__.t)("You don't have access to this feature")
      })
    });
  }

  return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(sentry_components_acl_feature__WEBPACK_IMPORTED_MODULE_1__["default"], {
    features: ['session-replay-ui'],
    organization: organization,
    renderDisabled: renderNoAccess,
    children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_pageLayout__WEBPACK_IMPORTED_MODULE_14__["default"], {
      location: location,
      organization: organization,
      projects: projects,
      tab: _tabs__WEBPACK_IMPORTED_MODULE_15__["default"].Replays,
      getDocumentTitle: getDocumentTitle,
      generateEventView: generateEventView,
      childComponent: ReplaysContentWrapper
    })
  });
}

TransactionReplays.displayName = "TransactionReplays";

function ReplaysContentWrapper(_ref) {
  let {
    eventView,
    location,
    organization,
    setError
  } = _ref;
  const {
    replays,
    pageLinks,
    isFetching,
    fetchError
  } = (0,sentry_utils_replays_hooks_useReplayList__WEBPACK_IMPORTED_MODULE_10__["default"])({
    organization,
    eventView
  });
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    setError(fetchError === null || fetchError === void 0 ? void 0 : fetchError.message);
  }, [setError, fetchError]);

  if (isFetching) {
    return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(sentry_components_layouts_thirds__WEBPACK_IMPORTED_MODULE_3__.Main, {
      fullWidth: true,
      children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(sentry_components_loadingIndicator__WEBPACK_IMPORTED_MODULE_4__["default"], {})
    });
  }

  return replays ? (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_content__WEBPACK_IMPORTED_MODULE_16__["default"], {
    eventView: eventView,
    isFetching: isFetching,
    location: location,
    organization: organization,
    pageLinks: pageLinks,
    replays: replays
  }) : (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
    children: null
  });
}

function getDocumentTitle(transactionName) {
  const hasTransactionName = typeof transactionName === 'string' && String(transactionName).trim().length > 0;

  if (hasTransactionName) {
    return [String(transactionName).trim(), (0,sentry_locale__WEBPACK_IMPORTED_MODULE_5__.t)('Replays')].join(' \u2014 ');
  }

  return [(0,sentry_locale__WEBPACK_IMPORTED_MODULE_5__.t)('Summary'), (0,sentry_locale__WEBPACK_IMPORTED_MODULE_5__.t)('Replays')].join(' \u2014 ');
}

function generateEventView(_ref2) {
  let {
    location,
    transactionName
  } = _ref2;
  const query = (0,sentry_utils_queryString__WEBPACK_IMPORTED_MODULE_9__.decodeScalar)(location.query.query, '');
  const conditions = new sentry_utils_tokenizeSearch__WEBPACK_IMPORTED_MODULE_11__.MutableSearch(query);
  conditions.setFilterValues('transaction', [transactionName]);
  Object.keys(conditions.filters).forEach(field => {
    if ((0,sentry_utils_discover_fields__WEBPACK_IMPORTED_MODULE_8__.isAggregateField)(field)) {
      conditions.removeFilter(field);
    }
  });
  return sentry_utils_discover_eventView__WEBPACK_IMPORTED_MODULE_7__["default"].fromNewQueryWithLocation({
    id: '',
    name: transactionName,
    version: 2,
    fields: sentry_utils_replays_hooks_useReplayList__WEBPACK_IMPORTED_MODULE_10__.REPLAY_LIST_FIELDS,
    projects: [],
    query: conditions.formatString(),
    orderby: (0,sentry_utils_queryString__WEBPACK_IMPORTED_MODULE_9__.decodeScalar)(location.query.sort, sentry_utils_replays_hooks_useReplayList__WEBPACK_IMPORTED_MODULE_10__.DEFAULT_SORT)
  }, location);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,sentry_utils_withProjects__WEBPACK_IMPORTED_MODULE_13__["default"])((0,sentry_utils_withOrganization__WEBPACK_IMPORTED_MODULE_12__["default"])(TransactionReplays)));

/***/ }),

/***/ "../node_modules/lodash/assign.js":
/*!****************************************!*\
  !*** ../node_modules/lodash/assign.js ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var assignValue = __webpack_require__(/*! ./_assignValue */ "../node_modules/lodash/_assignValue.js"),
    copyObject = __webpack_require__(/*! ./_copyObject */ "../node_modules/lodash/_copyObject.js"),
    createAssigner = __webpack_require__(/*! ./_createAssigner */ "../node_modules/lodash/_createAssigner.js"),
    isArrayLike = __webpack_require__(/*! ./isArrayLike */ "../node_modules/lodash/isArrayLike.js"),
    isPrototype = __webpack_require__(/*! ./_isPrototype */ "../node_modules/lodash/_isPrototype.js"),
    keys = __webpack_require__(/*! ./keys */ "../node_modules/lodash/keys.js");

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Assigns own enumerable string keyed properties of source objects to the
 * destination object. Source objects are applied from left to right.
 * Subsequent sources overwrite property assignments of previous sources.
 *
 * **Note:** This method mutates `object` and is loosely based on
 * [`Object.assign`](https://mdn.io/Object/assign).
 *
 * @static
 * @memberOf _
 * @since 0.10.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} [sources] The source objects.
 * @returns {Object} Returns `object`.
 * @see _.assignIn
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * function Bar() {
 *   this.c = 3;
 * }
 *
 * Foo.prototype.b = 2;
 * Bar.prototype.d = 4;
 *
 * _.assign({ 'a': 0 }, new Foo, new Bar);
 * // => { 'a': 1, 'c': 3 }
 */
var assign = createAssigner(function(object, source) {
  if (isPrototype(source) || isArrayLike(source)) {
    copyObject(source, keys(source), object);
    return;
  }
  for (var key in source) {
    if (hasOwnProperty.call(source, key)) {
      assignValue(object, key, source[key]);
    }
  }
});

module.exports = assign;


/***/ }),

/***/ "../node_modules/lodash/maxBy.js":
/*!***************************************!*\
  !*** ../node_modules/lodash/maxBy.js ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseExtremum = __webpack_require__(/*! ./_baseExtremum */ "../node_modules/lodash/_baseExtremum.js"),
    baseGt = __webpack_require__(/*! ./_baseGt */ "../node_modules/lodash/_baseGt.js"),
    baseIteratee = __webpack_require__(/*! ./_baseIteratee */ "../node_modules/lodash/_baseIteratee.js");

/**
 * This method is like `_.max` except that it accepts `iteratee` which is
 * invoked for each element in `array` to generate the criterion by which
 * the value is ranked. The iteratee is invoked with one argument: (value).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Math
 * @param {Array} array The array to iterate over.
 * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
 * @returns {*} Returns the maximum value.
 * @example
 *
 * var objects = [{ 'n': 1 }, { 'n': 2 }];
 *
 * _.maxBy(objects, function(o) { return o.n; });
 * // => { 'n': 2 }
 *
 * // The `_.property` iteratee shorthand.
 * _.maxBy(objects, 'n');
 * // => { 'n': 2 }
 */
function maxBy(array, iteratee) {
  return (array && array.length)
    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)
    : undefined;
}

module.exports = maxBy;


/***/ })

}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_transactionSummary_transactionReplays_index_tsx-node_modules_lodash_ass-dc0de2.a9e90b2d34e13bf9e875e5a8b4011e71.js.map